const _0x1820bc=_0x5122;(function(_0x8f0450,_0x3902b2){const _0x393837=_0x5122,_0x45a525=_0x8f0450();while(!![]){try{const _0xf3840a=-parseInt(_0x393837(0x1f1))/0x1*(-parseInt(_0x393837(0x1fd))/0x2)+-parseInt(_0x393837(0x233))/0x3+parseInt(_0x393837(0x24d))/0x4+parseInt(_0x393837(0x219))/0x5*(-parseInt(_0x393837(0x200))/0x6)+parseInt(_0x393837(0x25e))/0x7*(parseInt(_0x393837(0x1cd))/0x8)+-parseInt(_0x393837(0x21b))/0x9*(-parseInt(_0x393837(0x211))/0xa)+-parseInt(_0x393837(0x1da))/0xb;if(_0xf3840a===_0x3902b2)break;else _0x45a525['push'](_0x45a525['shift']());}catch(_0x280a82){_0x45a525['push'](_0x45a525['shift']());}}}(_0x27b1,0x86f62));const FILE_PATH=process['env'][_0x1820bc(0x20b)]||_0x1820bc(0x274),projectPageURL=process[_0x1820bc(0x239)][_0x1820bc(0x282)]||'',intervalInseconds=process['env'][_0x1820bc(0x23e)]||0x78,UUID=process[_0x1820bc(0x239)][_0x1820bc(0x1d3)]||'',CFIP=process[_0x1820bc(0x239)][_0x1820bc(0x236)]||_0x1820bc(0x272),CFPORT=process['env'][_0x1820bc(0x1c8)]||_0x1820bc(0x232),VLPATH=process[_0x1820bc(0x239)][_0x1820bc(0x24e)]||'startvl',VMPATH=process[_0x1820bc(0x239)][_0x1820bc(0x250)]||_0x1820bc(0x267),ARGO_PORT=process[_0x1820bc(0x239)][_0x1820bc(0x1f8)]||0x1f90,delay=_0x1caadb=>new Promise(_0x5b09d5=>setTimeout(_0x5b09d5,_0x1caadb)),ARGO_DOMAIN=process['env'][_0x1820bc(0x22d)]||'',ARGO_AUTH=process[_0x1820bc(0x239)]['ARGO_AUTH']||'',NEZHA_VERSION=process['env'][_0x1820bc(0x25b)]||'',NEZHA_SERVER=process['env'][_0x1820bc(0x216)]||'',NEZHA_PORT=process[_0x1820bc(0x239)]['NEZHA_PORT']||_0x1820bc(0x232),NEZHA_KEY=process['env'][_0x1820bc(0x1d1)]||'',SUB_NAME=process[_0x1820bc(0x239)][_0x1820bc(0x243)]||'',SUB_URL=process[_0x1820bc(0x239)][_0x1820bc(0x1e8)]||'',PORT=process[_0x1820bc(0x239)]['PORT']||process[_0x1820bc(0x239)][_0x1820bc(0x1c6)]||0xbb8,axios=require(_0x1820bc(0x1fc)),os=require('os'),fs=require('fs'),path=require('path'),http=require('http'),https=require(_0x1820bc(0x1e2)),exec=require('child_process')[_0x1820bc(0x1d8)],{execSync}=require(_0x1820bc(0x276));function createFolder(_0x10fac0){const _0xc34041=_0x1820bc;if(!fs[_0xc34041(0x21f)](_0x10fac0))fs[_0xc34041(0x238)](_0x10fac0);else{}}const pathsToDelete=['bot',_0x1820bc(0x261),_0x1820bc(0x24f),_0x1820bc(0x25f),'config.yml',_0x1820bc(0x237),_0x1820bc(0x271)];function cleanupOldFiles(){const _0x193a40=_0x1820bc;pathsToDelete[_0x193a40(0x1f5)](_0x280d6c=>{const _0x4b3a53=_0x193a40,_0x25df23=path[_0x4b3a53(0x1db)](FILE_PATH,_0x280d6c);try{fs[_0x4b3a53(0x21f)](_0x25df23)?fs['statSync'](_0x25df23)[_0x4b3a53(0x214)]()?(fs[_0x4b3a53(0x1ce)](_0x25df23,{'recursive':!![]}),console['log'](_0x25df23+_0x4b3a53(0x21a))):(fs[_0x4b3a53(0x213)](_0x25df23),console[_0x4b3a53(0x202)](_0x25df23+_0x4b3a53(0x21a))):console[_0x4b3a53(0x1e6)](_0x4b3a53(0x1ef)+_0x25df23);}catch(_0x4f99a0){console[_0x4b3a53(0x1e6)](_0x4b3a53(0x1fb)+_0x25df23+':\x20'+_0x4f99a0);}});}function httpserver(){const _0x426c7d=_0x1820bc,_0xf87b46=http[_0x426c7d(0x1c3)]((_0x31be0a,_0x543169)=>{const _0x33800a=_0x426c7d;if(_0x31be0a[_0x33800a(0x26a)]==='/')_0x543169[_0x33800a(0x23d)](0xc8),_0x543169['end'](_0x33800a(0x1ee));else{if(_0x31be0a[_0x33800a(0x26a)]===_0x33800a(0x231))_0x543169[_0x33800a(0x23d)](0xc8),_0x543169[_0x33800a(0x269)]('ok');else{if(_0x31be0a[_0x33800a(0x26a)]===_0x33800a(0x22a)){const _0xccaf41=FILE_PATH+_0x33800a(0x1d4);fs[_0x33800a(0x1c4)](_0xccaf41,'utf8',(_0x4b8694,_0x46cbf8)=>{const _0x266e6c=_0x33800a;_0x4b8694?(_0x543169['writeHead'](0x1f4),_0x543169[_0x266e6c(0x269)](_0x266e6c(0x27c))):(_0x543169[_0x266e6c(0x23d)](0xc8,{'Content-Type':_0x266e6c(0x24c)}),_0x543169[_0x266e6c(0x269)](_0x46cbf8));});}else _0x543169['writeHead'](0x194),_0x543169[_0x33800a(0x269)](_0x33800a(0x20c));}}});_0xf87b46[_0x426c7d(0x1e7)](PORT,()=>{const _0x5eb6fa=_0x426c7d;console[_0x5eb6fa(0x202)](_0x5eb6fa(0x26e)+PORT);});}async function getCloudflareMeta(){return new Promise((_0x53c865,_0x220f71)=>{const _0x32d794=_0x5122,_0xab4899={'hostname':_0x32d794(0x20a),'path':_0x32d794(0x234),'method':_0x32d794(0x265)},_0x279676=https['request'](_0xab4899,_0x22cc01=>{const _0xc38809=_0x32d794;let _0x5f50d5='';_0x22cc01['on'](_0xc38809(0x252),_0x108c21=>{_0x5f50d5+=_0x108c21;}),_0x22cc01['on'](_0xc38809(0x269),()=>{const _0x81859d=_0xc38809,_0x3b8488=JSON[_0x81859d(0x1e3)](_0x5f50d5);_0x53c865(_0x3b8488);});});_0x279676['on'](_0x32d794(0x1e6),_0x5b3461=>{_0x220f71(_0x5b3461);}),_0x279676['end']();});}const configpath=path[_0x1820bc(0x1db)](FILE_PATH,_0x1820bc(0x25f));function _0x27b1(){const _0x156d36=['domain:chat.openai.com','none','https','parse','162.159.193.10:2408','npm\x20running\x20error:\x20','error','listen','SUB_URL','Error\x20starting\x20bot:\x20','\x0a\x20\x20\x20\x20debug:\x20false\x0a\x20\x20\x20\x20disable_auto_update:\x20false\x0a\x20\x20\x20\x20disable_command_execute:\x20false\x0a\x20\x20\x20\x20disable_force_update:\x20false\x0a\x20\x20\x20\x20disable_nat:\x20false\x0a\x20\x20\x20\x20disable_send_query:\x20false\x0a\x20\x20\x20\x20gpu:\x20false\x0a\x20\x20\x20\x20insecure_tls:\x20false\x0a\x20\x20\x20\x20ip_report_period:\x201800\x0a\x20\x20\x20\x20report_delay:\x201\x0a\x20\x20\x20\x20server:\x20','npm\x20variable\x20is\x20empty,skip\x20running','8443','Empowerment\x20success\x20for\x20','hello\x20world','Skip\x20Delete\x20','Download\x20','3CzSHjg','quic','tcp','statSync','forEach','2053','\x0a\x20\x20\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ARGO_PORT','includes','/npm','Failed\x20to\x20delete\x20','axios','477590jadypp','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0a\x20\x20\x20\x20\x20\x20\x20\x20credentials-file:\x20','400698qFfUZD','finish','log','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agent','web\x20is\x20running','\x0a\x20\x20\x20\x20\x20\x20\x20\x20tunnel:\x20','arch','asOrganization','127.0.0.1','&path=%2F','speed.cloudflare.com','FILE_PATH','Not\x20found','\x0a\x20\x20\x20\x20client_secret:\x20','tls','File\x20','pidof\x20bot','940630pkRpaQ','createWriteStream','unlinkSync','isDirectory','Page\x20visited\x20successfully','NEZHA_SERVER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20protocol:\x20http2\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ingress:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20hostname:\x20','message','10gbVTPL','\x20deleted','99cCIUjh','writeFileSync','\x20>/dev/null\x202>&1\x20&','172.16.0.2/32','existsSync','application/json','https://github.com/mytcgd/myfiles/releases/download/main/xray','?host=','size','/config.yml\x20>\x20/dev/null\x202>&1\x20&','domain:chatgpt.com','Upload\x20failed\x20with\x20status\x20code:\x20','vmess://','/config.yml','country','/sub','AsIs','xtls-rprx-vision','ARGO_DOMAIN','/npm\x20-c\x20','clear','toString','/healthcheck','443','2344029SulhdP','/meta','bot\x20is\x20running','CFIP','boot.log','mkdirSync','env','2096','all','utf-8','writeHead','TIME','/xconf/\x20>\x20/dev/null\x202>&1\x20&','https://github.com/mytcgd/myfiles/releases/download/main/xray_arm','freedom','request','SUB_NAME','--tls','hostname','2606:4700:110:8a36:df92:102a:9602:fa18/128','get','\x0a\x20\x20\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Empowerment\x20failed\x20for\x20','/tunnel.yml\x20run','\x20-p\x20','text/plain;\x20charset=utf-8','1290284nenEGv','VLPATH','npm','VMPATH','false','data','\x20failed:\x20','/web\x20run\x20-confdir\x20','length','web\x20running\x20error:\x20','\x20successfully','\x0a\x20\x20\x20\x20use_gitee_to_upgrade:\x20false\x0a\x20\x20\x20\x20use_ipv6_country_code:\x20false\x0a\x20\x20\x20\x20uuid:\x20','http','2087','NEZHA_VERSION','field','match','136101DKJCBG','xconf','replace','web','pipe','TunnelSecret','map','GET','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','startvm','stringify','end','url','/web','domain:ai.com','outbound.json','server\x20is\x20running\x20on\x20port\x20:\x20','unlink','\x0a\x20\x20\x20\x20','log.txt','ip.sb','domain:openai.com','./.npm','then','child_process','bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=','?ed=2048','readFileSync','./bot','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','Error\x20reading\x20file','statusCode','inbound.json','from','Error\x20executing\x20command:\x20','tunnel.yml','URL','/bot\x20','/xconf','vless','nohup\x20','npm\x20is\x20running','2083','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm64','createServer','readFile','bot','SERVER_PORT','WARP','CFPORT','/dev/null','base64','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','tunnel.json','232CUuknE','rmSync','amd','pathname','NEZHA_KEY','stream','UUID','/log.txt','split','catch','lstatSync','exec','vless://','12867635NxjZFB','join','trim','direct','Error\x20visiting\x20project\x20page:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'];_0x27b1=function(){return _0x156d36;};return _0x27b1();}async function myconfig(){const _0x26738e='/'+VLPATH,_0xf2bc70='/'+VMPATH;function _0x23e62a(){const _0x252cef=_0x5122,_0x50efe1={'log':{'access':_0x252cef(0x1c9),'error':_0x252cef(0x1c9),'loglevel':_0x252cef(0x1e1)},'dns':{'servers':['https+local://8.8.8.8/dns-query']},'inbounds':[{'port':ARGO_PORT,'protocol':_0x252cef(0x285),'settings':{'clients':[{'id':UUID,'flow':_0x252cef(0x22c)}],'decryption':_0x252cef(0x1e1),'fallbacks':[{'path':_0x26738e,'dest':0xbba},{'path':_0xf2bc70,'dest':0xbbb}]},'streamSettings':{'network':_0x252cef(0x1f3)}},{'port':0xbba,'listen':_0x252cef(0x208),'protocol':_0x252cef(0x285),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x252cef(0x1e1)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x26738e}},'sniffing':{'enabled':!![],'destOverride':[_0x252cef(0x259),_0x252cef(0x20e),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x252cef(0x208),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0xf2bc70}},'sniffing':{'enabled':!![],'destOverride':[_0x252cef(0x259),'tls',_0x252cef(0x1f2)],'metadataOnly':![]}}]};fs['writeFileSync'](path[_0x252cef(0x1db)](configpath,_0x252cef(0x27e)),JSON[_0x252cef(0x268)](_0x50efe1,null,0x2));const _0x38d8bf={'outbounds':[{'protocol':_0x252cef(0x241),'tag':_0x252cef(0x1dd)},{'tag':_0x252cef(0x1c7),'protocol':'wireguard','settings':{'secretKey':'YFYOAdbw1bKTHlNNi+aEjBM3BO7unuFC5rOkMRAz9XY=','address':[_0x252cef(0x21e),_0x252cef(0x246)],'peers':[{'publicKey':_0x252cef(0x277),'allowedIPs':['0.0.0.0/0','::/0'],'endpoint':_0x252cef(0x1e4)}],'reserved':[0x4e,0x87,0x4c],'mtu':0x500}}],'routing':{'domainStrategy':_0x252cef(0x22b),'rules':[{'type':_0x252cef(0x25c),'domain':[_0x252cef(0x273),_0x252cef(0x26c),_0x252cef(0x1e0),_0x252cef(0x225)],'outboundTag':_0x252cef(0x1c7)}]}};fs[_0x252cef(0x21c)](path['join'](configpath,_0x252cef(0x26d)),JSON[_0x252cef(0x268)](_0x38d8bf,null,0x2));}_0x23e62a();}function getSystemArchitecture(){const _0x5dd3cb=_0x1820bc,_0x3eeb5c=os[_0x5dd3cb(0x206)]();return _0x3eeb5c==='arm'||_0x3eeb5c==='arm64'||_0x3eeb5c==='aarch64'?'arm':_0x5dd3cb(0x1cf);}function downloadFile(_0x4bb660,_0x13781d,_0x5bbfa7){const _0x26bd77=_0x1820bc,_0x368f55=path['join'](FILE_PATH,_0x4bb660);if(fs[_0x26bd77(0x21f)](_0x368f55)){console['log'](_0x26bd77(0x20f)+_0x4bb660+'\x20already\x20exists,\x20skipping\x20download.'),_0x5bbfa7(null,_0x4bb660);return;}const _0x46951b=fs[_0x26bd77(0x212)](_0x368f55);axios({'method':'get','url':_0x13781d,'responseType':_0x26bd77(0x1d2)})['then'](_0x2b0907=>{const _0x4c9a7a=_0x26bd77;_0x2b0907[_0x4c9a7a(0x252)][_0x4c9a7a(0x262)](_0x46951b),_0x46951b['on'](_0x4c9a7a(0x201),()=>{const _0x118839=_0x4c9a7a;_0x46951b['close'](),console[_0x118839(0x202)]('Download\x20'+_0x4bb660+_0x118839(0x257)),_0x5bbfa7(null,_0x4bb660);}),_0x46951b['on']('error',_0x1b2f11=>{const _0x461b70=_0x4c9a7a;fs[_0x461b70(0x26f)](_0x368f55,()=>{});const _0x52a12e=_0x461b70(0x1f0)+_0x4bb660+_0x461b70(0x253)+_0x1b2f11[_0x461b70(0x218)];console[_0x461b70(0x1e6)](_0x52a12e),_0x5bbfa7(_0x52a12e);});})[_0x26bd77(0x1d6)](_0x52beb4=>{const _0x1a104b=_0x26bd77,_0x388ea8=_0x1a104b(0x1f0)+_0x4bb660+_0x1a104b(0x253)+_0x52beb4[_0x1a104b(0x218)];console[_0x1a104b(0x1e6)](_0x388ea8),_0x5bbfa7(_0x388ea8);});}async function downloadFiles(){const _0x44aaed=_0x1820bc,_0x73a28c=getSystemArchitecture(),_0x527019=getFilesForArchitecture(_0x73a28c);if(_0x527019[_0x44aaed(0x255)]===0x0){console['log'](_0x44aaed(0x1fe));return;}const _0x2198b7=_0x527019[_0x44aaed(0x264)](_0x335e00=>{return new Promise((_0x120323,_0xcfb5fc)=>{downloadFile(_0x335e00['fileName'],_0x335e00['fileUrl'],(_0x52c062,_0x55f628)=>{_0x52c062?_0xcfb5fc(_0x52c062):_0x120323(_0x55f628);});});});try{await Promise[_0x44aaed(0x23b)](_0x2198b7);}catch(_0x110078){console[_0x44aaed(0x1e6)]('Error\x20downloading\x20files:',_0x110078);return;}function _0x42cb98(_0x3f6fa6){const _0x35c1fe=_0x44aaed,_0x116755=0x1fd;_0x3f6fa6[_0x35c1fe(0x1f5)](_0x17013b=>{const _0xd4890f=path['join'](FILE_PATH,_0x17013b);fs['chmod'](_0xd4890f,_0x116755,_0x4b8b1c=>{const _0x5f0e37=_0x5122;_0x4b8b1c?console[_0x5f0e37(0x1e6)](_0x5f0e37(0x249)+_0xd4890f+':\x20'+_0x4b8b1c):console[_0x5f0e37(0x202)](_0x5f0e37(0x1ed)+_0xd4890f+':\x20'+_0x116755[_0x5f0e37(0x230)](0x8));});});}const _0x5bba67=[_0x44aaed(0x27a),'./web','./npm'];_0x42cb98(_0x5bba67);}function getFilesForArchitecture(_0x1c8972){const _0x23eaf5=_0x1820bc;if(_0x1c8972==='arm')return[{'fileName':'bot','fileUrl':_0x23eaf5(0x1c2)},{'fileName':_0x23eaf5(0x261),'fileUrl':_0x23eaf5(0x240)},{'fileName':_0x23eaf5(0x24f),'fileUrl':_0x23eaf5(0x203)+NEZHA_VERSION+'_arm'}];else{if(_0x1c8972===_0x23eaf5(0x1cf))return[{'fileName':_0x23eaf5(0x1c5),'fileUrl':'https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64'},{'fileName':_0x23eaf5(0x261),'fileUrl':_0x23eaf5(0x221)},{'fileName':_0x23eaf5(0x24f),'fileUrl':_0x23eaf5(0x203)+NEZHA_VERSION}];}return[];}function argoType(){const _0x37d787=_0x1820bc;if(!ARGO_AUTH||!ARGO_DOMAIN)return;if(ARGO_AUTH[_0x37d787(0x1f9)](_0x37d787(0x263))){fs[_0x37d787(0x21c)](path[_0x37d787(0x1db)](FILE_PATH,_0x37d787(0x1cc)),ARGO_AUTH);const _0x52692c=_0x37d787(0x205)+ARGO_AUTH[_0x37d787(0x1d5)]('\x22')[0xb]+_0x37d787(0x1ff)+path[_0x37d787(0x1db)](FILE_PATH,_0x37d787(0x1cc))+_0x37d787(0x217)+ARGO_DOMAIN+_0x37d787(0x248)+ARGO_PORT+_0x37d787(0x1f7);fs['writeFileSync'](path[_0x37d787(0x1db)](FILE_PATH,_0x37d787(0x281)),_0x52692c);}else{}}let NEZHA_TLS='';function nezv1config(){const _0x566997=_0x1820bc,_0x66d09d=_0x566997(0x20d)+NEZHA_KEY+_0x566997(0x1ea)+NEZHA_SERVER+':'+NEZHA_PORT+'\x0a\x20\x20\x20\x20skip_connection_count:\x20false\x0a\x20\x20\x20\x20skip_procs_count:\x20false\x0a\x20\x20\x20\x20temperature:\x20false\x0a\x20\x20\x20\x20tls:\x20'+NEZHA_TLS+_0x566997(0x258)+UUID+_0x566997(0x270),_0x1996a8=path[_0x566997(0x1db)](FILE_PATH,_0x566997(0x228));try{fs[_0x566997(0x21c)](_0x1996a8,_0x66d09d),console[_0x566997(0x202)]('config.yml\x20file\x20created\x20and\x20written\x20successfully.');}catch(_0x37ec05){console[_0x566997(0x1e6)]('Error\x20creating\x20or\x20writing\x20config.yml\x20file:',_0x37ec05);}}async function runapp(){const _0x429b4b=_0x1820bc;if(fs[_0x429b4b(0x21f)](path[_0x429b4b(0x1db)](FILE_PATH,'bot'))){let _0x3295ca;if(ARGO_AUTH[_0x429b4b(0x25d)](/^[A-Z0-9a-z=]{120,250}$/))_0x3295ca=_0x429b4b(0x27b)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x3295ca=_0x429b4b(0x1cb)+FILE_PATH+_0x429b4b(0x24a):_0x3295ca=_0x429b4b(0x1df)+FILE_PATH+_0x429b4b(0x266)+ARGO_PORT;try{await exec(_0x429b4b(0x286)+FILE_PATH+_0x429b4b(0x283)+_0x3295ca+_0x429b4b(0x21d)),console[_0x429b4b(0x202)](_0x429b4b(0x235)),await delay(0x7d0);}catch(_0x3df596){console[_0x429b4b(0x1e6)](_0x429b4b(0x280)+_0x3df596);}}await delay(0x1388);if(fs['existsSync'](path[_0x429b4b(0x1db)](FILE_PATH,_0x429b4b(0x261)))){const _0x4c1121=_0x429b4b(0x286)+FILE_PATH+_0x429b4b(0x254)+FILE_PATH+_0x429b4b(0x23f);try{await exec(_0x4c1121),console[_0x429b4b(0x202)](_0x429b4b(0x204)),await delay(0x7d0);}catch(_0x4724e8){console['error'](_0x429b4b(0x256)+_0x4724e8);}}if(fs[_0x429b4b(0x21f)](path[_0x429b4b(0x1db)](FILE_PATH,_0x429b4b(0x24f)))){if(NEZHA_VERSION==='v1'){if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x4ab987=['443',_0x429b4b(0x1ec),_0x429b4b(0x23a),_0x429b4b(0x25a),_0x429b4b(0x1c1),_0x429b4b(0x1f6)];_0x4ab987[_0x429b4b(0x1f9)](NEZHA_PORT)?NEZHA_TLS='true':NEZHA_TLS=_0x429b4b(0x251);nezv1config();const _0x4091a5=_0x429b4b(0x286)+FILE_PATH+_0x429b4b(0x22e)+FILE_PATH+_0x429b4b(0x224);try{await exec(_0x4091a5),console[_0x429b4b(0x202)](_0x429b4b(0x287)),await delay(0x3e8);}catch(_0x16cf45){console[_0x429b4b(0x1e6)](_0x429b4b(0x1e5)+_0x16cf45);}}else console[_0x429b4b(0x202)]('npm\x20variable\x20is\x20empty,skip\x20running');}else{if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x2dbeea=[_0x429b4b(0x232),_0x429b4b(0x1ec),_0x429b4b(0x23a),_0x429b4b(0x25a),_0x429b4b(0x1c1),_0x429b4b(0x1f6)];_0x2dbeea[_0x429b4b(0x1f9)](NEZHA_PORT)?NEZHA_TLS=_0x429b4b(0x244):NEZHA_TLS='';const _0x5b77da=_0x429b4b(0x286)+FILE_PATH+'/npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x429b4b(0x24b)+NEZHA_KEY+'\x20'+NEZHA_TLS+'\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5b77da),console[_0x429b4b(0x202)]('npm\x20is\x20running'),await delay(0x3e8);}catch(_0x1024f8){console[_0x429b4b(0x1e6)](_0x429b4b(0x1e5)+_0x1024f8);}}else console[_0x429b4b(0x202)](_0x429b4b(0x1eb));}}}async function extractDomains(){const _0x1d3896=_0x1820bc;let _0x3bbe60;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3bbe60=ARGO_DOMAIN,await generateLinks(_0x3bbe60);else try{await delay(0x2710);const _0x2fa81f=path['join'](FILE_PATH,_0x1d3896(0x237));if(fs['existsSync'](_0x2fa81f)&&fs[_0x1d3896(0x1f4)](_0x2fa81f)[_0x1d3896(0x223)]>0x0){const _0x2e9591=fs[_0x1d3896(0x279)](_0x2fa81f,_0x1d3896(0x23c)),_0x35984d=/info.*https:\/\/(.*trycloudflare\.com)/g;let _0x2c8765,_0x28ca91=null;while((_0x2c8765=_0x35984d[_0x1d3896(0x1d8)](_0x2e9591))!==null){_0x28ca91=_0x2c8765[0x1];}_0x28ca91&&(_0x3bbe60=_0x28ca91),await generateLinks(_0x3bbe60);}else exec(_0x1d3896(0x210),async(_0x4a676e,_0x1763d4)=>{const _0x4f917e=_0x1d3896;if(_0x1763d4[_0x4f917e(0x1dc)]()!=='')await extractDomains();else{const _0x2ee1c0='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x4f917e(0x266)+ARGO_PORT,_0x32d138=_0x4f917e(0x286)+FILE_PATH+_0x4f917e(0x283)+_0x2ee1c0+'\x20>/dev/null\x202>&1\x20&';exec(_0x32d138,async _0x299b9a=>{const _0x141069=_0x4f917e;_0x299b9a?console[_0x141069(0x1e6)](_0x141069(0x1e9)+_0x299b9a):(await delay(0xbb8),await extractDomains());});}});}catch(_0x5409f0){}}let ISP,MYIP;async function getipandisp(){const _0x4bac2d=_0x1820bc;let _0xdf323d=await getCloudflareMeta(),_0x33d5b5=_0xdf323d[_0x4bac2d(0x229)],_0x55544a=_0xdf323d[_0x4bac2d(0x207)];ISP=(_0x33d5b5+'-'+_0x55544a)[_0x4bac2d(0x260)](/ /g,'_');}let UPLOAD_DATA,previousArgoDomain='';async function generateLinks(_0x577ad3){const _0x1824c6=_0x1820bc;let _0x3b1fd4,_0x37d9c8,_0x38b47a,_0x4b5c08;if(previousArgoDomain&&_0x577ad3===previousArgoDomain)return;try{_0x3b1fd4={'v':'2','ps':ISP+'-'+SUB_NAME,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1824c6(0x1e1),'net':'ws','type':'none','host':_0x577ad3,'path':'/'+VMPATH+_0x1824c6(0x278),'tls':'tls','sni':_0x577ad3,'alpn':''},_0x37d9c8=_0x1824c6(0x227)+Buffer[_0x1824c6(0x27f)](JSON[_0x1824c6(0x268)](_0x3b1fd4))[_0x1824c6(0x230)](_0x1824c6(0x1ca)),_0x38b47a=_0x1824c6(0x1d9)+UUID+'@'+CFIP+':'+CFPORT+_0x1824c6(0x222)+_0x577ad3+_0x1824c6(0x209)+VLPATH+'%3Fed%3D2048&type=ws&encryption=none&security=tls&sni='+_0x577ad3+'#'+ISP+'-'+SUB_NAME,_0x4b5c08=_0x37d9c8+'\x0a'+_0x38b47a;SUB_URL&&(UPLOAD_DATA=''+_0x38b47a);const _0x192ad6=path[_0x1824c6(0x1db)](FILE_PATH,_0x1824c6(0x271));fs['writeFileSync'](_0x192ad6,Buffer[_0x1824c6(0x27f)](_0x4b5c08)['toString'](_0x1824c6(0x1ca))),previousArgoDomain=_0x577ad3;}catch(_0x280360){}}function _0x5122(_0x2b1f1f,_0x50f769){const _0x27b1eb=_0x27b1();return _0x5122=function(_0x512244,_0x2c0516){_0x512244=_0x512244-0x1c1;let _0x35e387=_0x27b1eb[_0x512244];return _0x35e387;},_0x5122(_0x2b1f1f,_0x50f769);}async function uploadSubscription(_0x2be219,_0x565e24,_0x226a64){const _0x5c99a0=_0x1820bc,_0x4d001b=JSON[_0x5c99a0(0x268)]({'URL_NAME':_0x2be219,'URL':_0x565e24}),_0x103599={'hostname':new URL(_0x226a64)[_0x5c99a0(0x245)],'port':0x1bb,'path':new URL(_0x226a64)[_0x5c99a0(0x1d0)],'method':'POST','headers':{'Content-Type':_0x5c99a0(0x220),'Content-Length':_0x4d001b['length']}};return new Promise((_0x3a2f3f,_0x437310)=>{const _0x563e59=_0x5c99a0,_0x559311=https[_0x563e59(0x242)](_0x103599,_0x5366b1=>{const _0x30c53d=_0x563e59;let _0x27876c='';_0x5366b1['on'](_0x30c53d(0x252),_0x4e1924=>{_0x27876c+=_0x4e1924;}),_0x5366b1['on'](_0x30c53d(0x269),()=>{const _0x7c8f72=_0x30c53d;_0x5366b1['statusCode']>=0xc8&&_0x5366b1[_0x7c8f72(0x27d)]<0x12c?_0x3a2f3f(_0x27876c):_0x437310(new Error(_0x7c8f72(0x226)+_0x5366b1['statusCode']));});});_0x559311['on'](_0x563e59(0x1e6),_0x38598f=>{_0x437310(_0x38598f);}),_0x559311['write'](_0x4d001b),_0x559311[_0x563e59(0x269)]();});}async function subupload(){const _0x26d714=_0x1820bc;await extractDomains(),await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL)[_0x26d714(0x275)](_0x144b7b=>{})[_0x26d714(0x1d6)](_0x1fa45d=>{});}function cleanfiles(){setTimeout(()=>{const _0x4498b8=_0x5122,_0x2c6033=[FILE_PATH+'/bot',FILE_PATH+_0x4498b8(0x26b),FILE_PATH+_0x4498b8(0x1fa),FILE_PATH+_0x4498b8(0x228),FILE_PATH+_0x4498b8(0x284)];_0x2c6033[_0x4498b8(0x1f5)](_0x4058eb=>{const _0x2ebabf=_0x4498b8;try{fs['existsSync'](_0x4058eb)&&(fs[_0x2ebabf(0x1d7)](_0x4058eb)['isDirectory']()?fs[_0x2ebabf(0x1ce)](_0x4058eb,{'recursive':!![]}):fs[_0x2ebabf(0x213)](_0x4058eb));}catch(_0x3e0bf9){}}),console[_0x4498b8(0x22f)](),console[_0x4498b8(0x202)]('App\x20is\x20running');},0xea60);}async function visitProjectPage(){const _0x456142=_0x1820bc;try{await axios[_0x456142(0x247)](projectPageURL),console[_0x456142(0x202)](_0x456142(0x215));}catch(_0x37673c){console[_0x456142(0x1e6)](_0x456142(0x1de),_0x37673c[_0x456142(0x218)]);}}async function main(){const _0x80e8de=_0x1820bc;httpserver(),createFolder(FILE_PATH),cleanupOldFiles(),createFolder(path[_0x80e8de(0x1db)](FILE_PATH,_0x80e8de(0x25f))),argoType(),await downloadFiles(),await delay(0x1388),await getipandisp(),await myconfig(),await runapp(),await extractDomains(),cleanfiles(),SUB_URL&&await setInterval(subupload,intervalInseconds*0x3e8),projectPageURL&&await setInterval(visitProjectPage,intervalInseconds*0x3e8);}main();