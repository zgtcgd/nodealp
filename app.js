const _0x30fb8b=_0x175f;(function(_0x4bbd75,_0x111c3a){const _0x45531e=_0x175f,_0x5ba8d4=_0x4bbd75();while(!![]){try{const _0xf8185a=-parseInt(_0x45531e(0x1c2))/0x1+-parseInt(_0x45531e(0x1c9))/0x2+-parseInt(_0x45531e(0x1a2))/0x3+parseInt(_0x45531e(0x1ac))/0x4*(parseInt(_0x45531e(0x1ba))/0x5)+parseInt(_0x45531e(0x169))/0x6+-parseInt(_0x45531e(0x1cf))/0x7+-parseInt(_0x45531e(0x18f))/0x8*(-parseInt(_0x45531e(0x1da))/0x9);if(_0xf8185a===_0x111c3a)break;else _0x5ba8d4['push'](_0x5ba8d4['shift']());}catch(_0x12cb93){_0x5ba8d4['push'](_0x5ba8d4['shift']());}}}(_0x5b8c,0x5e17b));const FILE_PATH=process[_0x30fb8b(0x19f)][_0x30fb8b(0x20b)]||'./.npm',AUTO_ACCESS=process[_0x30fb8b(0x19f)][_0x30fb8b(0x1f5)]||![],DOMAIN=process[_0x30fb8b(0x19f)][_0x30fb8b(0x205)]||'',BAOHUO_URL=process[_0x30fb8b(0x19f)][_0x30fb8b(0x193)]||_0x30fb8b(0x199),intervalInseconds=process[_0x30fb8b(0x19f)][_0x30fb8b(0x1e6)]||0x64,CFIP=process[_0x30fb8b(0x19f)][_0x30fb8b(0x16f)]||_0x30fb8b(0x1e1),CFPORT=process[_0x30fb8b(0x19f)]['CFPORT']||_0x30fb8b(0x1ff),delay=_0x25999f=>new Promise(_0x5809d4=>setTimeout(_0x5809d4,_0x25999f)),OPENSERVER=process[_0x30fb8b(0x19f)]['OPENSERVER']||!![],keepalive=process['env'][_0x30fb8b(0x1dd)]||![],MY_DOMAIN=process[_0x30fb8b(0x19f)][_0x30fb8b(0x1c0)]||'',ARGO_DOMAIN=process['env'][_0x30fb8b(0x185)]||'',ARGO_AUTH=process[_0x30fb8b(0x19f)][_0x30fb8b(0x19a)]||'',VLPATH=process[_0x30fb8b(0x19f)]['VLPATH']||'',XHPPATH=process[_0x30fb8b(0x19f)]['XHPPATH']||'',PORT=process[_0x30fb8b(0x19f)][_0x30fb8b(0x1d5)]||process[_0x30fb8b(0x19f)][_0x30fb8b(0x186)]||0xbb8,V_PORT=process[_0x30fb8b(0x19f)][_0x30fb8b(0x1c7)]||0x1f90,UUID=process[_0x30fb8b(0x19f)]['UUID']||'',NEZHA_VERSION=process['env'][_0x30fb8b(0x198)]||'V0',NEZHA_SERVER=process['env'][_0x30fb8b(0x19d)]||'',NEZHA_PORT=process[_0x30fb8b(0x19f)][_0x30fb8b(0x168)]||_0x30fb8b(0x1ff),NEZHA_KEY=process[_0x30fb8b(0x19f)][_0x30fb8b(0x181)]||'',SUB_NAME=process[_0x30fb8b(0x19f)]['SUB_NAME']||'',SUB_URL=process['env'][_0x30fb8b(0x1e2)]||'',axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x30fb8b(0x1de)),http=require(_0x30fb8b(0x16d)),https=require(_0x30fb8b(0x156)),exec=require('child_process')['exec'];function createFolder(_0x44aefa){if(!fs['existsSync'](_0x44aefa))fs['mkdirSync'](_0x44aefa);else{}}function _0x175f(_0x35bcad,_0x3f58d7){const _0x5b8c68=_0x5b8c();return _0x175f=function(_0x175fa6,_0x80b22d){_0x175fa6=_0x175fa6-0x14c;let _0x12ffc9=_0x5b8c68[_0x175fa6];return _0x12ffc9;},_0x175f(_0x35bcad,_0x3f58d7);}const pathsToDelete=['xconf',_0x30fb8b(0x155),_0x30fb8b(0x20d),_0x30fb8b(0x195)];function cleanupOldFiles(){const _0x33f1a1=_0x30fb8b;pathsToDelete[_0x33f1a1(0x1eb)](_0x5415c3=>{const _0x26c171=_0x33f1a1,_0x17aec6=path[_0x26c171(0x1dc)](FILE_PATH,_0x5415c3);try{if(fs['existsSync'](_0x17aec6))fs[_0x26c171(0x207)](_0x17aec6)[_0x26c171(0x1d8)]()?fs[_0x26c171(0x204)](_0x17aec6,{'recursive':!![]}):fs[_0x26c171(0x1b8)](_0x17aec6);else{}}catch(_0x5ac1c7){}});}function httpserver(){const _0x38ac5c=_0x30fb8b,_0x59f44e=http[_0x38ac5c(0x1db)]((_0x1b9ef6,_0x1122b)=>{const _0x5ed92c=_0x38ac5c;if(_0x1b9ef6[_0x5ed92c(0x1b6)]==='/')_0x1122b[_0x5ed92c(0x1cc)](0xc8),_0x1122b[_0x5ed92c(0x20e)](_0x5ed92c(0x15f));else{if(_0x1b9ef6[_0x5ed92c(0x1b6)]===_0x5ed92c(0x171)){const _0x308db6=FILE_PATH+_0x5ed92c(0x190);fs['readFile'](_0x308db6,'utf8',(_0x2b03ac,_0x23a98e)=>{const _0x468ea4=_0x5ed92c;_0x2b03ac?(_0x1122b[_0x468ea4(0x1cc)](0x1f4),_0x1122b[_0x468ea4(0x20e)]('Error\x20reading\x20file')):(_0x1122b['writeHead'](0xc8,{'Content-Type':_0x468ea4(0x15a)}),_0x1122b[_0x468ea4(0x20e)](_0x23a98e));});}else _0x1122b[_0x5ed92c(0x1cc)](0x194),_0x1122b[_0x5ed92c(0x20e)]('Not\x20found');}});_0x59f44e[_0x38ac5c(0x210)](PORT,()=>{const _0xc259c5=_0x38ac5c;console[_0xc259c5(0x194)](_0xc259c5(0x178)+PORT);});}function execPromise(_0x41697c,_0x41b0ee={}){return new Promise((_0x4d12e9,_0x3714b7)=>{const _0x12f2a5=exec(_0x41697c,_0x41b0ee,(_0x580006,_0x3568e3,_0x291ee0)=>{const _0x30e852=_0x175f;if(_0x580006){const _0x4089c1=new Error(_0x30e852(0x17e)+_0x580006[_0x30e852(0x1f8)]);_0x4089c1['code']=_0x580006[_0x30e852(0x1c5)],_0x4089c1[_0x30e852(0x14d)]=_0x291ee0['trim'](),_0x3714b7(_0x4089c1);}else _0x4d12e9(_0x3568e3[_0x30e852(0x1fa)]());});});}async function addAccessTask(){const _0x283338=_0x30fb8b;if(AUTO_ACCESS!==!![])return;if(!DOMAIN)return;try{const _0x3ccbe0=_0x283338(0x1fd)+DOMAIN,_0x4a52e2=_0x283338(0x1e0)+BAOHUO_URL+'/add-url\x22\x20-H\x20\x22Content-Type:\x20application/json\x22\x20-d\x20\x27{\x22url\x22:\x20\x22'+_0x3ccbe0+_0x283338(0x1f6),_0x2e60b0=await execPromise(_0x4a52e2);console[_0x283338(0x194)](_0x283338(0x1d4),_0x2e60b0);}catch(_0x61a77d){console['error']('Error\x20added\x20Task:',_0x61a77d[_0x283338(0x1f8)]);}}async function detectProcess(_0x208753){const _0x5c6892=_0x30fb8b,_0x486d73=[{'cmd':'pidof\x20\x22'+_0x208753+'\x22','name':_0x5c6892(0x17c)},{'cmd':_0x5c6892(0x189)+_0x208753+_0x5c6892(0x152),'name':_0x5c6892(0x192)},{'cmd':_0x5c6892(0x1fe)+_0x208753+'\x22','name':_0x5c6892(0x150)}];for(const _0x1a7e38 of _0x486d73){try{const _0x3cb01c=await execPromise(_0x1a7e38['cmd']);if(_0x3cb01c)return _0x3cb01c[_0x5c6892(0x1b1)](/\n/g,'\x20')['trim']();}catch(_0x3c3533){_0x3c3533['code']!==0x7f&&_0x3c3533[_0x5c6892(0x1c5)]!==0x1&&console[_0x5c6892(0x184)]('[detectProcess]\x20'+_0x1a7e38[_0x5c6892(0x15e)]+'\x20error:',_0x3c3533[_0x5c6892(0x1f8)]);}}return'';}function _0x5b8c(){const _0x4709de=['&path=%2F','listen','/meta','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20tunnel:\x20','stderr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20\x20\x20\x20\x20\x20\x20','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1_arm','pgrep','?encryption=none&security=tls&sni=','\x22\x20\x27$2\x20==\x20name\x20{print\x20$1}\x27','existsSync','tunnel.json','config.yml','https','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','blackhole','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1','text/plain;\x20charset=utf-8','Attempting\x20to\x20kill\x20process:\x20','finish','writeFileSync','name','hello\x20world','\x0a\x20\x20\x20\x20\x20\x20\x20\x20credentials-file:\x20','inbound_v.json','exec','\x0a\x20\x20\x20\x20\x20\x20\x20\x20protocol:\x20http2\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ingress:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20hostname:\x20','size','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Download\x20','direct','NEZHA_PORT','3238404SGMpvi','fileUrl','true','/xconf','http','hostname','CFIP','Error\x20downloading\x20files:','/sub','\x20-p\x20','&type=xhttp&host=','2096','https://github.com/kahunama/myfile/releases/download/main/nezha-agent','warn','outbound.json','server\x20is\x20running\x20on\x20port\x20:\x20','data','HTTP\x20error!\x20status:\x20','pathname','pidof','https://github.com/mytcgd/myfiles/releases/download/main/xray','Command\x20failed:\x20','parse','close','NEZHA_KEY','tunnel.yml','none','debug','ARGO_DOMAIN','SERVER_PORT','2087','false','ps\x20-eo\x20pid,comm\x20|\x20awk\x20-v\x20name=\x22','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','Empowerment\x20failed\x20for\x20','Process\x20not\x20found','Process\x20\x27','toString','25784TJmjzJ','/log.txt','?host=','ps+awk','BAOHUO_URL','log','log.txt','Kill\x20failed:\x20','%3Fed%3D2560&mode=packet-up#','NEZHA_VERSION','tcgd.serv00.net','ARGO_AUTH','aarch64','/dev/null','NEZHA_SERVER','bot\x20is\x20running','env','push','web\x20runs\x20again\x20!','451647ygCNaU','stringify','\x27\x20not\x20found','8443','vless','utf-8','match','packet-up','chmod','createWriteStream','50016hxDHyn','map','port','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','speed.cloudflare.com','replace','length','Empowerment\x20success\x20for\x20','asOrganization','\x20failed:\x20','url','\x20successfully','unlinkSync','then','115ernwcz','statusCode','File\x20','tls','pipe','arm','MY_DOMAIN','/npm\x20-c\x20','515756rujZbs','quic','2053','code','Killed\x20process\x20(PIDs:\x20','V_PORT','Can\x27t\x20determine\x20system\x20architecture.','498498NvhGQr','config.yml\x20file\x20created\x20and\x20written\x20successfully.','application/json','writeHead','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm64','xconf','4648616HklQqZ','Upload\x20failed:\x20','stream','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','block','Automatic\x20Access\x20Task\x20added\x20successfully:','PORT','country','GET','isDirectory','/xconf\x20>/dev/null\x202>&1\x20&','3177oBhOfq','createServer','join','keepalive','path','App\x20is\x20running','curl\x20-X\x20POST\x20\x22https://','ip.sb','SUB_URL','web','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','get','TIME','POST','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x20--report-delay=4\x20--skip-conn\x20--skip-procs\x20--disable-auto-update\x20>/dev/null\x202>&1\x20&','vless://','forEach','request','bot','error','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','lstatSync','base64','/config.yml','fileName','kill\x20-9\x20','AUTO_ACCESS','\x22}\x27','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','message','client_secret:\x20','trim','--tls','https+local://8.8.8.8/dns-query','https://','pgrep\x20-f\x20\x22','443','/config.yml\x20>/dev/null\x202>&1\x20&','\x20>/dev/null\x202>&1\x20&','/bot\x20','from','rmSync','DOMAIN','xhttp','statSync','nohup\x20','includes','npm','FILE_PATH','/web\x20run\x20-confdir\x20','boot.log','end'];_0x5b8c=function(){return _0x4709de;};return _0x5b8c();}async function killProcess(_0x4ea2f5){const _0x29d5b9=_0x30fb8b;console[_0x29d5b9(0x194)](_0x29d5b9(0x15b)+_0x4ea2f5);try{const _0xa43336=await detectProcess(_0x4ea2f5);if(!_0xa43336)return console[_0x29d5b9(0x176)](_0x29d5b9(0x18d)+_0x4ea2f5+_0x29d5b9(0x1a4)),{'success':!![],'message':_0x29d5b9(0x18c)};await execPromise(_0x29d5b9(0x1f4)+_0xa43336);const _0x5e54c8=_0x29d5b9(0x1c6)+_0xa43336+')';return console[_0x29d5b9(0x194)](_0x5e54c8),{'success':!![],'message':_0x5e54c8};}catch(_0x50c7b8){const _0x1fac35=_0x29d5b9(0x196)+_0x50c7b8[_0x29d5b9(0x1f8)];return console[_0x29d5b9(0x1ee)](_0x1fac35),{'success':![],'message':_0x1fac35};}}async function myconfig(){const _0x2ca485=_0x30fb8b,_0x93d61d=path[_0x2ca485(0x1dc)](FILE_PATH,_0x2ca485(0x1ce)),_0x233e62='/'+VLPATH,_0x190987='/'+XHPPATH;function _0x18f174(){const _0x209dbd=_0x2ca485,_0x3df294={'log':{'access':_0x209dbd(0x19c),'error':_0x209dbd(0x19c),'loglevel':'none'},'dns':{'servers':[_0x209dbd(0x1fc)]}};fs['writeFileSync'](path['join'](_0x93d61d,'inbound.json'),JSON[_0x209dbd(0x1a3)](_0x3df294,null,0x2));if(VLPATH&&!XHPPATH){const _0x44893b={'inbounds':[{'port':V_PORT,'listen':'::','protocol':_0x209dbd(0x1a6),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x209dbd(0x183)},'streamSettings':{'network':'ws','security':_0x209dbd(0x183),'wsSettings':{'path':_0x233e62}},'sniffing':{'enabled':!![],'destOverride':[_0x209dbd(0x16d),_0x209dbd(0x1bd),_0x209dbd(0x1c3)],'metadataOnly':![]}}]};fs[_0x209dbd(0x15d)](path['join'](_0x93d61d,_0x209dbd(0x161)),JSON[_0x209dbd(0x1a3)](_0x44893b,null,0x2));}else{if(XHPPATH&&!VLPATH){const _0x140104={'inbounds':[{'port':V_PORT,'listen':'::','protocol':_0x209dbd(0x1a6),'settings':{'clients':[{'id':UUID}],'decryption':_0x209dbd(0x183)},'streamSettings':{'network':_0x209dbd(0x206),'security':_0x209dbd(0x183),'xhttpSettings':{'mode':_0x209dbd(0x1a9),'path':_0x190987}},'sniffing':{'enabled':!![],'destOverride':[_0x209dbd(0x16d),_0x209dbd(0x1bd),_0x209dbd(0x1c3)],'metadataOnly':![]}}]};fs['writeFileSync'](path['join'](_0x93d61d,_0x209dbd(0x161)),JSON[_0x209dbd(0x1a3)](_0x140104,null,0x2));}}const _0x5cb840={'outbounds':[{'tag':_0x209dbd(0x167),'protocol':'freedom'},{'tag':_0x209dbd(0x1d3),'protocol':_0x209dbd(0x158)}]};fs[_0x209dbd(0x15d)](path['join'](_0x93d61d,_0x209dbd(0x177)),JSON[_0x209dbd(0x1a3)](_0x5cb840,null,0x2));}_0x18f174();}function getSystemArchitecture(){const _0x342d1c=_0x30fb8b,_0x53d6ef=os['arch']();return _0x53d6ef===_0x342d1c(0x1bf)||_0x53d6ef==='arm64'||_0x53d6ef===_0x342d1c(0x19b)?_0x342d1c(0x1bf):'amd';}function getFilesForArchitecture(_0x2a7b56){const _0x6cd2b8=_0x30fb8b,_0x154a72={'bot':{'arm':_0x6cd2b8(0x1cd),'amd':'https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64'},'web':{'arm':'https://github.com/mytcgd/myfiles/releases/download/main/xray_arm','amd':_0x6cd2b8(0x17d)},'npm':{'V0':{'arm':'https://github.com/kahunama/myfile/releases/download/main/nezha-agent_arm','amd':_0x6cd2b8(0x175)},'V1':{'arm':_0x6cd2b8(0x14f),'amd':_0x6cd2b8(0x159)}}};let _0x57db27=[{'fileName':_0x6cd2b8(0x1e3),'fileUrl':_0x154a72[_0x6cd2b8(0x1e3)][_0x2a7b56]}];if(OPENSERVER==!![]){const _0x40de95={'fileName':_0x6cd2b8(0x1ed),'fileUrl':_0x154a72[_0x6cd2b8(0x1ed)][_0x2a7b56]};_0x57db27[_0x6cd2b8(0x1a0)](_0x40de95);}if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY&&NEZHA_VERSION){const _0x189583={'fileName':'npm','fileUrl':_0x154a72[_0x6cd2b8(0x20a)][NEZHA_VERSION][_0x2a7b56]};_0x57db27[_0x6cd2b8(0x1a0)](_0x189583);}return _0x57db27;}function authorizeFiles(_0x3425b1){const _0x370d2f=_0x30fb8b,_0x3a87c9=0x1fd;_0x3425b1[_0x370d2f(0x1eb)](_0x22b317=>{const _0x37f5e9=_0x370d2f,_0x3416f4=path[_0x37f5e9(0x1dc)](FILE_PATH,_0x22b317);fs[_0x37f5e9(0x1aa)](_0x3416f4,_0x3a87c9,_0x28b30f=>{const _0x5138a6=_0x37f5e9;_0x28b30f?console[_0x5138a6(0x1ee)](_0x5138a6(0x18b)+_0x3416f4+':\x20'+_0x28b30f):console['log'](_0x5138a6(0x1b3)+_0x3416f4+':\x20'+_0x3a87c9['toString'](0x8));});});}function download_function(_0x41bbf6,_0x49cf36,_0x363704){const _0x10fcbd=_0x30fb8b,_0x373fd8=path[_0x10fcbd(0x1dc)](FILE_PATH,_0x41bbf6);if(fs[_0x10fcbd(0x153)](_0x373fd8)){console[_0x10fcbd(0x194)](_0x10fcbd(0x1bc)+_0x41bbf6+'\x20already\x20exists,\x20skipping\x20download.'),_0x363704(null,_0x41bbf6);return;}const _0x3114bc=fs[_0x10fcbd(0x1ab)](_0x373fd8);axios({'method':_0x10fcbd(0x1e5),'url':_0x49cf36,'responseType':_0x10fcbd(0x1d1)})[_0x10fcbd(0x1b9)](_0x303bc0=>{const _0x3e37b9=_0x10fcbd;_0x303bc0[_0x3e37b9(0x179)][_0x3e37b9(0x1be)](_0x3114bc),_0x3114bc['on'](_0x3e37b9(0x15c),()=>{const _0x4cdd82=_0x3e37b9;_0x3114bc[_0x4cdd82(0x180)](),console['log'](_0x4cdd82(0x166)+_0x41bbf6+_0x4cdd82(0x1b7)),_0x363704(null,_0x41bbf6);}),_0x3114bc['on']('error',_0x4ea688=>{const _0x1815d4=_0x3e37b9;fs['unlink'](_0x373fd8,()=>{});const _0x82b623='Download\x20'+_0x41bbf6+_0x1815d4(0x1b5)+_0x4ea688[_0x1815d4(0x1f8)];console[_0x1815d4(0x1ee)](_0x82b623),_0x363704(_0x82b623);});})['catch'](_0x510f70=>{const _0x122adf=_0x10fcbd,_0x400c99=_0x122adf(0x166)+_0x41bbf6+'\x20failed:\x20'+_0x510f70[_0x122adf(0x1f8)];console[_0x122adf(0x1ee)](_0x400c99),_0x363704(_0x400c99);});}async function downloadFiles(){const _0x5d400e=_0x30fb8b,_0x26817b=getSystemArchitecture();if(!_0x26817b){console[_0x5d400e(0x194)](_0x5d400e(0x1c8));return;}const _0x1dc356=getFilesForArchitecture(_0x26817b);if(_0x1dc356[_0x5d400e(0x1b2)]===0x0){console[_0x5d400e(0x194)](_0x5d400e(0x18a));return;}const _0x45c0ee=_0x1dc356[_0x5d400e(0x1ad)](_0x2af48c=>{return new Promise((_0x1811f3,_0x245801)=>{const _0x270777=_0x175f;download_function(_0x2af48c[_0x270777(0x1f3)],_0x2af48c[_0x270777(0x16a)],(_0x18f5ee,_0x5e7ef6)=>{_0x18f5ee?_0x245801(_0x18f5ee):_0x1811f3(_0x5e7ef6);});});});try{const _0x548b35=await Promise['all'](_0x45c0ee);authorizeFiles(_0x548b35);}catch(_0x181906){console[_0x5d400e(0x1ee)](_0x5d400e(0x170),_0x181906);return;}}function argoType(){const _0x350942=_0x30fb8b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x350942(0x194)](_0x350942(0x1af));return;}if(ARGO_AUTH[_0x350942(0x209)]('TunnelSecret')){fs[_0x350942(0x15d)](path[_0x350942(0x1dc)](FILE_PATH,_0x350942(0x154)),ARGO_AUTH);const _0x440651=_0x350942(0x14c)+ARGO_AUTH['split']('\x22')[0xb]+_0x350942(0x160)+path[_0x350942(0x1dc)](FILE_PATH,_0x350942(0x154))+_0x350942(0x163)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+V_PORT+_0x350942(0x14e);fs[_0x350942(0x15d)](path[_0x350942(0x1dc)](FILE_PATH,_0x350942(0x182)),_0x440651);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}let NEZHA_TLS='';function nezv1config(){const _0x27f7cf=_0x30fb8b,_0x453a69=_0x27f7cf(0x1f9)+NEZHA_KEY+_0x27f7cf(0x165)+NEZHA_SERVER+':'+NEZHA_PORT+_0x27f7cf(0x1e4)+NEZHA_TLS+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID,_0x35dced=path[_0x27f7cf(0x1dc)](FILE_PATH,_0x27f7cf(0x1f2));try{fs[_0x27f7cf(0x15d)](_0x35dced,_0x453a69),console[_0x27f7cf(0x194)](_0x27f7cf(0x1ca));}catch(_0x4a52b3){console['error']('Error\x20creating\x20or\x20writing\x20config.yml\x20file:',_0x4a52b3);}}async function runbot(){const _0x4ff99f=_0x30fb8b;if(OPENSERVER==!![]){if(fs[_0x4ff99f(0x153)](path[_0x4ff99f(0x1dc)](FILE_PATH,'bot'))){let _0x10e2e6;if(ARGO_AUTH[_0x4ff99f(0x1a8)](/^[A-Z0-9a-z=]{120,250}$/))_0x10e2e6=_0x4ff99f(0x157)+ARGO_AUTH;else ARGO_AUTH[_0x4ff99f(0x1a8)](/TunnelSecret/)?_0x10e2e6=_0x4ff99f(0x1ef)+FILE_PATH+'/tunnel.yml\x20run':_0x10e2e6=_0x4ff99f(0x1d2)+FILE_PATH+_0x4ff99f(0x1e8)+V_PORT;try{await execPromise('nohup\x20'+FILE_PATH+_0x4ff99f(0x202)+_0x10e2e6+_0x4ff99f(0x201)),await delay(0x1388);}catch(_0x459ac5){}}else{}}else{}}async function runweb(){const _0x50aa4e=_0x30fb8b;if(fs['existsSync'](path[_0x50aa4e(0x1dc)](FILE_PATH,'web'))){const _0x26347b='nohup\x20'+FILE_PATH+_0x50aa4e(0x20c)+FILE_PATH+_0x50aa4e(0x1d9);try{await execPromise(_0x26347b),await delay(0x3e8);}catch(_0x192368){}}else{}}async function runnpm(){const _0x1e804=_0x30fb8b;if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){if(fs[_0x1e804(0x153)](path[_0x1e804(0x1dc)](FILE_PATH,_0x1e804(0x20a)))){const _0x5a0e82=['443',_0x1e804(0x1a5),_0x1e804(0x174),_0x1e804(0x187),'2083',_0x1e804(0x1c4)];if(NEZHA_VERSION==='V0'){_0x5a0e82[_0x1e804(0x209)](NEZHA_PORT)?NEZHA_TLS=_0x1e804(0x1fb):NEZHA_TLS='';const _0x3ed299=_0x1e804(0x208)+FILE_PATH+'/npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x1e804(0x172)+NEZHA_KEY+'\x20'+NEZHA_TLS+_0x1e804(0x1e9);try{await execPromise(_0x3ed299),await delay(0x3e8);}catch(_0x242c95){}}else{if(NEZHA_VERSION==='V1'){_0x5a0e82[_0x1e804(0x209)](NEZHA_PORT)?NEZHA_TLS=_0x1e804(0x16b):NEZHA_TLS=_0x1e804(0x188);nezv1config();const _0x4402d3=_0x1e804(0x208)+FILE_PATH+_0x1e804(0x1c1)+FILE_PATH+_0x1e804(0x200);try{await execPromise(_0x4402d3),await delay(0x3e8);}catch(_0x349fc1){}}}}else{}}else{}}async function runapp(){await runbot(),await delay(0x1388),await runweb(),await runnpm();}async function keep_alive(){const _0x331c48=_0x30fb8b,_0x1f1fed=await detectProcess(_0x331c48(0x1ed));if(_0x1f1fed){}else console[_0x331c48(0x194)]('bot\x20runs\x20again\x20!'),await runbot();await delay(0x1388);const _0x1d7253=await detectProcess(_0x331c48(0x1e3));if(_0x1d7253){}else console['log'](_0x331c48(0x1a1)),await runweb();await delay(0x1388);if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0xe42aef=await detectProcess(_0x331c48(0x20a));if(_0xe42aef){}else console[_0x331c48(0x194)]('npm\x20runs\x20again\x20!'),await runnpm();}}let argoDomain;async function extractDomains(){const _0x28638c=_0x30fb8b;if(ARGO_AUTH&&ARGO_DOMAIN)argoDomain=ARGO_DOMAIN;else try{await delay(0x2710);const _0x3e5448=path[_0x28638c(0x1dc)](FILE_PATH,_0x28638c(0x20d));if(fs[_0x28638c(0x153)](_0x3e5448)&&fs[_0x28638c(0x207)](_0x3e5448)[_0x28638c(0x164)]>0x0){const _0x5bfaa7=fs['readFileSync'](_0x3e5448,_0x28638c(0x1a7)),_0x5dca09=/info.*https:\/\/(.*trycloudflare\.com)/g;let _0x2d80d4,_0x4f7e4f=null;while((_0x2d80d4=_0x5dca09[_0x28638c(0x162)](_0x5bfaa7))!==null){_0x4f7e4f=_0x2d80d4[0x1];}_0x4f7e4f&&(argoDomain=_0x4f7e4f);}else{console['log'](_0x28638c(0x1f7));fs['existsSync'](path['join'](FILE_PATH,_0x28638c(0x20d)))&&(fs['unlinkSync'](path[_0x28638c(0x1dc)](FILE_PATH,_0x28638c(0x20d))),await delay(0x3e8));const _0x47337b=_0x28638c(0x1ed);killProcess(_0x47337b),await delay(0x3e8);const _0x1fc9d5=_0x28638c(0x1d2)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+V_PORT,_0x5a4170=_0x28638c(0x208)+FILE_PATH+_0x28638c(0x202)+_0x1fc9d5+_0x28638c(0x201);try{await execPromise(_0x5a4170),console[_0x28638c(0x194)](_0x28638c(0x19e)),await delay(0x1388);}catch(_0x7484ab){console['error']('bot\x20running\x20error:\x20'+_0x7484ab);}await extractDomains();}}catch(_0xc6fa25){}}async function getCloudflareMeta(){return new Promise((_0x233a69,_0x937d1)=>{const _0x25f70b=_0x175f,_0xc33233={'hostname':_0x25f70b(0x1b0),'path':_0x25f70b(0x211),'method':_0x25f70b(0x1d7)},_0x3f0296=https[_0x25f70b(0x1ec)](_0xc33233,_0x121c9d=>{const _0x2476db=_0x25f70b;let _0x38f80b='';_0x121c9d['on'](_0x2476db(0x179),_0x4a57bf=>{_0x38f80b+=_0x4a57bf;}),_0x121c9d['on'](_0x2476db(0x20e),()=>{const _0x5ca3fb=_0x2476db,_0x3049ba=JSON[_0x5ca3fb(0x17f)](_0x38f80b);_0x233a69(_0x3049ba);});});_0x3f0296['on'](_0x25f70b(0x1ee),_0x5a7c55=>{_0x937d1(_0x5a7c55);}),_0x3f0296[_0x25f70b(0x20e)]();});}let ISP;async function getipandisp(){const _0x55c72d=_0x30fb8b;let _0x4ff18e=await getCloudflareMeta(),_0x1b2434=_0x4ff18e[_0x55c72d(0x1d6)],_0x27928e=_0x4ff18e[_0x55c72d(0x1b4)];ISP=(_0x1b2434+'-'+_0x27928e)['replace'](/ /g,'_');}let UPLOAD_DATA,previousargoDomain='';async function generateLinks(){const _0x5b9f5d=_0x30fb8b;let _0x5595d4,_0x30864d;if(previousargoDomain&&argoDomain===previousargoDomain)return;try{MY_DOMAIN&&(argoDomain=MY_DOMAIN);if(VLPATH)_0x5595d4=_0x5b9f5d(0x1ea)+UUID+'@'+CFIP+':'+CFPORT+_0x5b9f5d(0x191)+argoDomain+_0x5b9f5d(0x20f)+VLPATH+'%3Fed%3D2560&type=ws&encryption=none&security=tls&sni='+argoDomain+'#'+ISP+'-'+SUB_NAME;else XHPPATH&&(_0x5595d4='vless://'+UUID+'@'+CFIP+':'+CFPORT+_0x5b9f5d(0x151)+argoDomain+_0x5b9f5d(0x173)+argoDomain+_0x5b9f5d(0x20f)+XHPPATH+_0x5b9f5d(0x197)+ISP+'-'+SUB_NAME);_0x30864d=''+_0x5595d4;SUB_URL&&(UPLOAD_DATA=_0x30864d);const _0x5467e3=path['join'](FILE_PATH,_0x5b9f5d(0x195));fs['writeFileSync'](_0x5467e3,Buffer[_0x5b9f5d(0x203)](_0x30864d)[_0x5b9f5d(0x18e)](_0x5b9f5d(0x1f1))),previousargoDomain=argoDomain;}catch(_0x55a455){}}async function uploadSubscription(_0x54dde4,_0x16ca19,_0x5e990f){const _0x3d7616=_0x30fb8b,_0x573206=JSON[_0x3d7616(0x1a3)]({'URL_NAME':_0x54dde4,'URL':_0x16ca19}),_0xc883f8={'hostname':new URL(_0x5e990f)[_0x3d7616(0x16e)],'port':new URL(_0x5e990f)[_0x3d7616(0x1ae)]||0x1bb,'path':new URL(_0x5e990f)[_0x3d7616(0x17b)],'method':_0x3d7616(0x1e7),'headers':{'Content-Type':_0x3d7616(0x1cb),'Content-Length':_0x573206[_0x3d7616(0x1b2)]}};try{const _0x4ae0c2=await new Promise((_0x13436f,_0x54493f)=>{const _0x4f2abe=_0x3d7616,_0x5bf961=https[_0x4f2abe(0x1ec)](_0xc883f8,_0x525e5c=>{const _0xf52499=_0x4f2abe;if(_0x525e5c[_0xf52499(0x1bb)]<0xc8||_0x525e5c[_0xf52499(0x1bb)]>=0x12c)return _0x54493f(new Error(_0xf52499(0x17a)+_0x525e5c[_0xf52499(0x1bb)]));let _0x4672bd='';_0x525e5c['on']('data',_0x2cffdf=>_0x4672bd+=_0x2cffdf),_0x525e5c['on']('end',()=>_0x13436f(_0x4672bd));});_0x5bf961['on'](_0x4f2abe(0x1ee),_0x2cc98c=>_0x54493f(_0x2cc98c)),_0x5bf961[_0x4f2abe(0x212)](_0x573206),_0x5bf961[_0x4f2abe(0x20e)]();});return _0x4ae0c2;}catch(_0x3c3b8b){throw new Error(_0x3d7616(0x1d0)+_0x3c3b8b[_0x3d7616(0x1f8)]);}}async function subupload(){try{const _0x396fc8=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);OPENSERVER==!![]&&!ARGO_AUTH&&!ARGO_DOMAIN&&(await extractDomains(),generateLinks());}catch(_0xd31378){}}function cleanfiles(){setTimeout(()=>{const _0x2e1265=_0x175f,_0x1ce606=[FILE_PATH+_0x2e1265(0x16c),FILE_PATH+_0x2e1265(0x1f2)];_0x1ce606[_0x2e1265(0x1eb)](_0x2c8196=>{const _0x4dfa33=_0x2e1265;try{fs[_0x4dfa33(0x153)](_0x2c8196)&&(fs[_0x4dfa33(0x1f0)](_0x2c8196)[_0x4dfa33(0x1d8)]()?fs[_0x4dfa33(0x204)](_0x2c8196,{'recursive':!![]}):fs[_0x4dfa33(0x1b8)](_0x2c8196));}catch(_0x3792ae){}}),console['clear'](),console['log'](_0x2e1265(0x1df));},0xea60);}async function main(){const _0x1f8285=_0x30fb8b;createFolder(FILE_PATH),cleanupOldFiles(),createFolder(path['join'](FILE_PATH,_0x1f8285(0x1ce))),await downloadFiles(),await delay(0x1388),await getipandisp(),await myconfig(),OPENSERVER==!![]&&argoType(),await runapp(),OPENSERVER==!![]&&await extractDomains(),generateLinks(),httpserver(),addAccessTask(),cleanfiles(),SUB_URL&&(await subupload(),OPENSERVER==!![]&&!ARGO_AUTH&&!ARGO_DOMAIN&&setInterval(subupload,intervalInseconds*0x3e8)),keepalive==!![]&&(await keep_alive(),setInterval(keep_alive,0x493e0));}main();