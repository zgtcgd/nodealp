function _0x2cf2(){const _0xbdeb44=['PORT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20tunnel:\x20','fileName','fileUrl','end','blackhole','&type=xhttp&host=','country','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','createServer','Attempting\x20to\x20kill\x20process:\x20','vless','NEZHA_SERVER','https+local://8.8.8.8/dns-query','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','/meta','\x20run\x20-confdir\x20','writeFileSync','none','183099JarlzA','application/json','2083','\x0a\x20\x20\x20\x20\x20\x20\x20\x20protocol:\x20http2\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ingress:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20hostname:\x20','aarch64','utf-8','upload\x20failed','2053','write','split','bot\x20is\x20not\x20allowed,\x20skip\x20running','https://github.com/mytcgd/myfiles/releases/download/main/xray','Error\x20reading\x20file','web\x20file\x20not\x20found,\x20skip\x20running','clear','readFile','ps\x20-eo\x20pid,comm\x20|\x20awk\x20-v\x20name=\x22','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1_arm','\x20is\x20created','15iIGUlZ','\x20already\x20exists','V_PORT','vless://','statusCode','xhttp','exec','error','arm','SUB_NAME','quic','\x22\x20\x27$2\x20==\x20name\x20{print\x20$1}\x27','createWriteStream','https','warn','stringify','charAt','text/plain;\x20charset=utf-8','mkdirSync','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','OPENSERVER','speed.cloudflare.com','boot.log','unlinkSync','bot','\x20>/dev/null\x202>&1\x20&','client_secret:\x20','message','writeHead','\x20--report-delay=4\x20--skip-conn\x20--skip-procs\x20--disable-auto-update\x20>/dev/null\x202>&1\x20&','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','2096','\x20runs\x20again\x20!','port','data','NEZHA_PORT','ARGO_DOMAIN','2296088xcGsxw','TunnelSecret','debug','tunnel.json','XHPPATH','Can\x27t\x20determine\x20system\x20architecture.','cmd','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','TIME','direct','chmodSync','replace','size','http','env','/sub','\x0a\x20\x20\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20\x20\x20\x20\x20\x20\x20','arch','/config.yml\x20>/dev/null\x202>&1\x20&','log','HTTP\x20error!\x20status:\x20','unable\x20to\x20rm\x20','&path=%2F','ARGO_AUTH','Command\x20failed:\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','map','No\x20domain\x20could\x20be\x20determined.\x20Cannot\x20construct\x20UPLOAD_DATA','\x20running\x20error:\x20','floor','2261964lOSnfY',')\x20failed:\x20','MY_DOMAIN','Process\x20\x27','join','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1','?encryption=none&security=tls&sni=','pidof\x20\x22','/dev/null','npm','/config.yml','CFPORT','%3Fed%3D2560&type=ws&encryption=none&security=tls&sni=','NEZHA_VERSION','block','existsSync','--tls','stream/promises','%3Fed%3D2560&mode=packet-up#','stream','listen','1179603cTlgSB','Not\x20found','CFIP','request','lstatSync','nohup\x20','forEach','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','inbound.json','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','8443','includes','length','freedom','VLPATH','tls','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','600554jqYMVM','trim','255148GDFGpY','packet-up','2087','Download\x20','arm64','https://github.com/kahunama/myfile/releases/download/main/nezha-agent','match','parse','bot\x20file\x20not\x20found,\x20skip\x20running','GET','/tmp','url','/xconf\x20>/dev/null\x202>&1\x20&','/xconf','rmSync','\x27\x20not\x20found','path','SERVER_PORT','isDirectory','\x20(renamed\x20to\x20','asOrganization','success','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','2050013YUfHae','push','amd','Error\x20in\x20bot\x20process\x20management:','Error\x20downloading\x20files:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','server\x20is\x20running\x20on\x20port\x20:\x20','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64','xconf','\x20is\x20running','web','Error\x20deleting\x20boot.log:\x20','code','originalName','inbound_v.json','Error\x20creating\x20or\x20writing\x20config.yml\x20file:','1CBtYPQ',')\x20successfully','KEEPALIVE','/log.txt','\x20-c\x20','\x20-p\x20','Error\x20reading\x20boot.log:','log.txt','pathname','Empowerment\x20success\x20for\x20','443'];_0x2cf2=function(){return _0xbdeb44;};return _0x2cf2();}const _0x3b7d73=_0x4c4f;(function(_0x9a594d,_0x35baa9){const _0x3c75b9=_0x4c4f,_0x3a6611=_0x9a594d();while(!![]){try{const _0x410005=-parseInt(_0x3c75b9(0x145))/0x1*(-parseInt(_0x3c75b9(0x11c))/0x2)+-parseInt(_0x3c75b9(0x163))/0x3+parseInt(_0x3c75b9(0x11e))/0x4*(parseInt(_0x3c75b9(0x176))/0x5)+-parseInt(_0x3c75b9(0xf6))/0x6+parseInt(_0x3c75b9(0x135))/0x7+-parseInt(_0x3c75b9(0xd8))/0x8+parseInt(_0x3c75b9(0x10b))/0x9;if(_0x410005===_0x35baa9)break;else _0x3a6611['push'](_0x3a6611['shift']());}catch(_0x1cb08c){_0x3a6611['push'](_0x3a6611['shift']());}}}(_0x2cf2,0x2e83e));const FILE_PATH=process[_0x3b7d73(0xe6)]['FILE_PATH']||_0x3b7d73(0x128),intervalInseconds=process[_0x3b7d73(0xe6)][_0x3b7d73(0xe0)]||0x64,CFIP=process[_0x3b7d73(0xe6)][_0x3b7d73(0x10d)]||'ip.sb',CFPORT=process[_0x3b7d73(0xe6)][_0x3b7d73(0x101)]||_0x3b7d73(0x14f),delay=_0x3c6984=>new Promise(_0x52993e=>setTimeout(_0x52993e,_0x3c6984)),OPENSERVER=process['env'][_0x3b7d73(0xc7)]||!![],KEEPALIVE=process[_0x3b7d73(0xe6)][_0x3b7d73(0x147)]||![],MY_DOMAIN=process[_0x3b7d73(0xe6)][_0x3b7d73(0xf8)]||'',ARGO_DOMAIN=process[_0x3b7d73(0xe6)][_0x3b7d73(0xd7)]||'',ARGO_AUTH=process[_0x3b7d73(0xe6)][_0x3b7d73(0xef)]||'',VLPATH=process[_0x3b7d73(0xe6)][_0x3b7d73(0x119)]||'',XHPPATH=process[_0x3b7d73(0xe6)][_0x3b7d73(0xdc)]||'',PORT=process[_0x3b7d73(0xe6)][_0x3b7d73(0x150)]||process[_0x3b7d73(0xe6)][_0x3b7d73(0x12f)]||0xbb8,V_PORT=process[_0x3b7d73(0xe6)][_0x3b7d73(0x178)]||0x1f90,UUID=process[_0x3b7d73(0xe6)]['UUID']||'',NEZHA_VERSION=process[_0x3b7d73(0xe6)][_0x3b7d73(0x103)]||'V0',NEZHA_SERVER=process[_0x3b7d73(0xe6)][_0x3b7d73(0x15c)]||'',NEZHA_PORT=process[_0x3b7d73(0xe6)][_0x3b7d73(0xd6)]||_0x3b7d73(0x14f),NEZHA_KEY=process[_0x3b7d73(0xe6)]['NEZHA_KEY']||'',SUB_NAME=process[_0x3b7d73(0xe6)][_0x3b7d73(0x17f)]||'',SUB_URL=process[_0x3b7d73(0xe6)]['SUB_URL']||'',axios=require('axios'),{pipeline}=require(_0x3b7d73(0x107)),os=require('os'),fs=require('fs'),path=require(_0x3b7d73(0x12e)),http=require(_0x3b7d73(0xe5)),https=require(_0x3b7d73(0xc0)),exec=require('child_process')[_0x3b7d73(0x17c)];function cleanupOldFiles(){const _0x5183ab=_0x3b7d73;try{fs[_0x5183ab(0x105)](path[_0x5183ab(0xfa)](FILE_PATH))?(fs[_0x5183ab(0x12c)](path[_0x5183ab(0xfa)](FILE_PATH),{'recursive':!![]}),console[_0x5183ab(0xeb)](FILE_PATH+'\x20deleted')):console['log'](FILE_PATH+'\x20not\x20created');}catch(_0x2237dd){console[_0x5183ab(0xeb)](_0x5183ab(0xed)+FILE_PATH);}}function createFolder(_0x572a6f){const _0x238af0=_0x3b7d73;!fs['existsSync'](_0x572a6f)?(fs[_0x238af0(0xc5)](_0x572a6f),console['log'](_0x572a6f+_0x238af0(0x175))):console[_0x238af0(0xeb)](_0x572a6f+_0x238af0(0x177));}function httpserver(){const _0x11b3b8=_0x3b7d73,_0x4f618c=http[_0x11b3b8(0x159)]((_0xfb2d38,_0x341747)=>{const _0x3db927=_0x11b3b8;if(_0xfb2d38[_0x3db927(0x129)]==='/')_0x341747[_0x3db927(0xcf)](0xc8),_0x341747['end']('hello\x20world');else{if(_0xfb2d38[_0x3db927(0x129)]===_0x3db927(0xe7)){const _0x5f4bbe=FILE_PATH+_0x3db927(0x148);fs[_0x3db927(0x172)](_0x5f4bbe,'utf8',(_0x5ea378,_0x1b10a4)=>{const _0x35c29b=_0x3db927;_0x5ea378?(_0x341747['writeHead'](0x1f4),_0x341747[_0x35c29b(0x154)](_0x35c29b(0x16f))):(_0x341747[_0x35c29b(0xcf)](0xc8,{'Content-Type':_0x35c29b(0xc4)}),_0x341747[_0x35c29b(0x154)](_0x1b10a4));});}else _0x341747[_0x3db927(0xcf)](0x194),_0x341747[_0x3db927(0x154)](_0x3db927(0x10c));}});_0x4f618c[_0x11b3b8(0x10a)](PORT,()=>{const _0x5c5b25=_0x11b3b8;console['log'](_0x5c5b25(0x13b)+PORT);});}function execPromise(_0x58833f,_0x29c3c6={}){return new Promise((_0x47eba6,_0x90e72e)=>{const _0x8fe1cf=exec(_0x58833f,_0x29c3c6,(_0x10c1aa,_0x78fcb,_0x488087)=>{const _0x1207ab=_0x4c4f;if(_0x10c1aa){const _0x194740=new Error(_0x1207ab(0xf0)+_0x10c1aa[_0x1207ab(0xce)]);_0x194740[_0x1207ab(0x141)]=_0x10c1aa[_0x1207ab(0x141)],_0x194740['stderr']=_0x488087['trim'](),_0x90e72e(_0x194740);}else _0x47eba6(_0x78fcb[_0x1207ab(0x11d)]());});});}async function detectProcess(_0x1ebcf7){const _0x15e599=_0x3b7d73,_0x443058=[{'cmd':_0x15e599(0xfd)+_0x1ebcf7+'\x22','name':'pidof'},{'cmd':'pgrep\x20-x\x20\x22'+_0x1ebcf7+'\x22','name':'pgrep'},{'cmd':_0x15e599(0x173)+_0x1ebcf7+_0x15e599(0x181),'name':'ps+awk'}];for(const _0x563971 of _0x443058){try{const _0x12eae0=await execPromise(_0x563971[_0x15e599(0xde)]);if(_0x12eae0)return _0x12eae0[_0x15e599(0xe3)](/\n/g,'\x20')['trim']();}catch(_0x36d521){_0x36d521[_0x15e599(0x141)]!==0x7f&&_0x36d521['code']!==0x1&&console[_0x15e599(0xda)]('[detectProcess]\x20'+_0x563971['name']+'\x20error:',_0x36d521[_0x15e599(0xce)]);}}return'';}async function killProcess(_0x3f9813){const _0x11a2e9=_0x3b7d73;console[_0x11a2e9(0xeb)](_0x11a2e9(0x15a)+_0x3f9813);try{const _0x15a628=await detectProcess(_0x3f9813);if(!_0x15a628)return console[_0x11a2e9(0xc1)](_0x11a2e9(0xf9)+_0x3f9813+_0x11a2e9(0x12d)),{'success':!![],'message':'Process\x20not\x20found'};await execPromise('kill\x20-9\x20'+_0x15a628);const _0x78f2aa='Killed\x20process\x20(PIDs:\x20'+_0x15a628+')';return console['log'](_0x78f2aa),{'success':!![],'message':_0x78f2aa};}catch(_0x599337){const _0x3d2261='Kill\x20failed:\x20'+_0x599337[_0x11a2e9(0xce)];return console['error'](_0x3d2261),{'success':![],'message':_0x3d2261};}}function generateRandomString(_0x1083cf){const _0x1db375=_0x3b7d73,_0x332a6f=_0x1db375(0x158);let _0x56c73e='';for(let _0x39416e=0x0;_0x39416e<_0x1083cf;_0x39416e++){_0x56c73e+=_0x332a6f[_0x1db375(0xc3)](Math[_0x1db375(0xf5)](Math['random']()*_0x332a6f['length']));}return _0x56c73e;}async function myconfig(){const _0x3bd0b5=_0x3b7d73,_0x8fed7=path[_0x3bd0b5(0xfa)](FILE_PATH,_0x3bd0b5(0x13d)),_0x3a7775='/'+VLPATH,_0x4550f7='/'+XHPPATH;function _0x22bf69(){const _0x4fdbf0=_0x3bd0b5,_0x3947e2={'log':{'access':_0x4fdbf0(0xfe),'error':_0x4fdbf0(0xfe),'loglevel':_0x4fdbf0(0x162)},'dns':{'servers':[_0x4fdbf0(0x15d)]}};fs['writeFileSync'](path['join'](_0x8fed7,_0x4fdbf0(0x113)),JSON[_0x4fdbf0(0xc2)](_0x3947e2,null,0x2));if(VLPATH&&!XHPPATH){const _0x33c2d1={'inbounds':[{'port':V_PORT,'listen':'::','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4fdbf0(0x162)},'streamSettings':{'network':'ws','security':_0x4fdbf0(0x162),'wsSettings':{'path':_0x3a7775}},'sniffing':{'enabled':!![],'destOverride':[_0x4fdbf0(0xe5),_0x4fdbf0(0x11a),_0x4fdbf0(0x180)],'metadataOnly':![]}}]};fs['writeFileSync'](path[_0x4fdbf0(0xfa)](_0x8fed7,_0x4fdbf0(0x143)),JSON[_0x4fdbf0(0xc2)](_0x33c2d1,null,0x2));}else{if(XHPPATH&&!VLPATH){const _0x5e9e8c={'inbounds':[{'port':V_PORT,'listen':'::','protocol':_0x4fdbf0(0x15b),'settings':{'clients':[{'id':UUID}],'decryption':_0x4fdbf0(0x162)},'streamSettings':{'network':_0x4fdbf0(0x17b),'security':_0x4fdbf0(0x162),'xhttpSettings':{'mode':_0x4fdbf0(0x11f),'path':_0x4550f7}},'sniffing':{'enabled':!![],'destOverride':[_0x4fdbf0(0xe5),_0x4fdbf0(0x11a),_0x4fdbf0(0x180)],'metadataOnly':![]}}]};fs[_0x4fdbf0(0x161)](path[_0x4fdbf0(0xfa)](_0x8fed7,'inbound_v.json'),JSON[_0x4fdbf0(0xc2)](_0x5e9e8c,null,0x2));}}const _0x8f1378={'outbounds':[{'tag':_0x4fdbf0(0xe1),'protocol':_0x4fdbf0(0x118)},{'tag':_0x4fdbf0(0x104),'protocol':_0x4fdbf0(0x155)}]};fs['writeFileSync'](path[_0x4fdbf0(0xfa)](_0x8fed7,'outbound.json'),JSON[_0x4fdbf0(0xc2)](_0x8f1378,null,0x2));}_0x22bf69();}function getSystemArchitecture(){const _0x2dd4eb=_0x3b7d73,_0x436954=os[_0x2dd4eb(0xe9)]();return _0x436954===_0x2dd4eb(0x17e)||_0x436954===_0x2dd4eb(0x122)||_0x436954===_0x2dd4eb(0x167)?_0x2dd4eb(0x17e):_0x2dd4eb(0x137);}function getFilesForArchitecture(_0x1f9bec){const _0xbdb3ac=_0x3b7d73,_0x2770b8={'bot':{'arm':'https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm64','amd':_0xbdb3ac(0x13c)},'web':{'arm':'https://github.com/mytcgd/myfiles/releases/download/main/xray_arm','amd':_0xbdb3ac(0x16e)},'npm':{'V0':{'arm':'https://github.com/kahunama/myfile/releases/download/main/nezha-agent_arm','amd':_0xbdb3ac(0x123)},'V1':{'arm':_0xbdb3ac(0x174),'amd':_0xbdb3ac(0xfb)}}};let _0x15b452=[{'fileName':generateRandomString(0x5),'originalName':_0xbdb3ac(0x13f),'fileUrl':_0x2770b8['web'][_0x1f9bec]}];if(OPENSERVER==!![]){const _0x12dac3={'fileName':generateRandomString(0x5),'originalName':_0xbdb3ac(0xcb),'fileUrl':_0x2770b8[_0xbdb3ac(0xcb)][_0x1f9bec]};_0x15b452[_0xbdb3ac(0x136)](_0x12dac3);}if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY&&NEZHA_VERSION){const _0x420e0f={'fileName':generateRandomString(0x5),'originalName':_0xbdb3ac(0xff),'fileUrl':_0x2770b8[_0xbdb3ac(0xff)][NEZHA_VERSION][_0x1f9bec]};_0x15b452[_0xbdb3ac(0x136)](_0x420e0f);}return _0x15b452;}async function download_function(_0x30db4a,_0x191031,_0x19dfad){const _0x24a3bd=_0x3b7d73,_0x398513=path[_0x24a3bd(0xfa)](FILE_PATH,_0x30db4a);let _0x57bcf8=![];try{const _0x222164=await axios({'method':'get','url':_0x19dfad,'responseType':_0x24a3bd(0x109)});await pipeline(_0x222164[_0x24a3bd(0xd5)],fs[_0x24a3bd(0x182)](_0x398513)),console['log'](_0x24a3bd(0x121)+_0x191031+_0x24a3bd(0x131)+_0x30db4a+_0x24a3bd(0x146)),_0x57bcf8=!![];}catch(_0xc0332c){console['log'](_0x24a3bd(0x121)+_0x191031+_0x24a3bd(0x131)+_0x30db4a+_0x24a3bd(0xf7)+_0xc0332c[_0x24a3bd(0xce)]);}return{'fileName':_0x30db4a,'originalName':_0x191031,'filePath':_0x398513,'success':_0x57bcf8};}let fileMapping={};async function downloadFiles(){const _0x126369=_0x3b7d73;try{const _0x2d0485=getSystemArchitecture();if(!_0x2d0485)return console[_0x126369(0xeb)](_0x126369(0xdd)),fileMapping;const _0xade310=getFilesForArchitecture(_0x2d0485);if(_0xade310[_0x126369(0x117)]===0x0)return console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture'),fileMapping;const _0x3b684f=_0xade310[_0x126369(0xf2)](_0x18d828=>download_function(_0x18d828[_0x126369(0x152)],_0x18d828['originalName'],_0x18d828[_0x126369(0x153)])),_0x2901a5=await Promise['all'](_0x3b684f);return _0x2901a5[_0x126369(0x111)](_0x2931cf=>{const _0x582f03=_0x126369;if(_0x2931cf[_0x582f03(0x133)])try{fs[_0x582f03(0xe2)](_0x2931cf['filePath'],0x1ed),console[_0x582f03(0xeb)](_0x582f03(0x14e)+_0x2931cf[_0x582f03(0x152)]+':\x20755'),fileMapping[_0x2931cf[_0x582f03(0x142)]]=_0x2931cf[_0x582f03(0x152)];}catch(_0x5d6dfe){console['warn']('Empowerment\x20failed\x20for\x20'+_0x2931cf[_0x582f03(0x152)]+':\x20'+_0x5d6dfe[_0x582f03(0xce)]);}}),fileMapping;}catch(_0x38401c){return console[_0x126369(0x17d)](_0x126369(0x139),_0x38401c),fileMapping;}}function argoType(){const _0x408b5c=_0x3b7d73;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x408b5c(0xeb)](_0x408b5c(0x112));return;}if(ARGO_AUTH[_0x408b5c(0x116)](_0x408b5c(0xd9))){fs[_0x408b5c(0x161)](path[_0x408b5c(0xfa)](FILE_PATH,_0x408b5c(0xdb)),ARGO_AUTH);const _0x47e8ee=_0x408b5c(0x151)+ARGO_AUTH[_0x408b5c(0x16c)]('\x22')[0xb]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20credentials-file:\x20'+path[_0x408b5c(0xfa)](FILE_PATH,'tunnel.json')+_0x408b5c(0x166)+ARGO_DOMAIN+_0x408b5c(0x13a)+V_PORT+_0x408b5c(0xe8);fs[_0x408b5c(0x161)](path['join'](FILE_PATH,'tunnel.yml'),_0x47e8ee);}else console[_0x408b5c(0xeb)](_0x408b5c(0xdf));}let args;function get_cloud_flare_args(){const _0xd703d0=_0x3b7d73;if(ARGO_AUTH[_0xd703d0(0x124)](/^[A-Z0-9a-z=]{120,250}$/))args=_0xd703d0(0x134)+ARGO_AUTH;else ARGO_AUTH[_0xd703d0(0x124)](/TunnelSecret/)?args=_0xd703d0(0x11b)+FILE_PATH+'/tunnel.yml\x20run':args='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0xd703d0(0xd1)+V_PORT;return args;}let NEZHA_TLS;function nezconfig(){const _0x304417=_0x3b7d73,_0x13897f=[_0x304417(0x14f),_0x304417(0x115),_0x304417(0xd2),_0x304417(0x120),_0x304417(0x165),_0x304417(0x16a)];if(NEZHA_VERSION==='V0')return _0x13897f[_0x304417(0x116)](NEZHA_PORT)?NEZHA_TLS=_0x304417(0x106):NEZHA_TLS='',NEZHA_TLS;else{if(NEZHA_VERSION==='V1'){_0x13897f[_0x304417(0x116)](NEZHA_PORT)?NEZHA_TLS='true':NEZHA_TLS='false';const _0x4e167e=path[_0x304417(0xfa)](FILE_PATH,'/config.yml'),_0x2ec710=_0x304417(0xcd)+NEZHA_KEY+_0x304417(0xc6)+NEZHA_SERVER+':'+NEZHA_PORT+_0x304417(0x15e)+NEZHA_TLS+_0x304417(0x114)+UUID;try{fs[_0x304417(0x161)](_0x4e167e,_0x2ec710),console[_0x304417(0xeb)]('config.yml\x20file\x20created\x20and\x20written\x20successfully.');}catch(_0x56bcbb){console['error'](_0x304417(0x144),_0x56bcbb);}}}}async function runbot(){const _0x25d797=_0x3b7d73;if(fileMapping[_0x25d797(0xcb)]&&fs['existsSync'](path[_0x25d797(0xfa)](FILE_PATH,fileMapping[_0x25d797(0xcb)])))try{await execPromise(_0x25d797(0x110)+FILE_PATH+'/'+fileMapping[_0x25d797(0xcb)]+'\x20'+args+_0x25d797(0xcc));}catch(_0x52aa48){console[_0x25d797(0x17d)](fileMapping[_0x25d797(0xcb)]+_0x25d797(0xf4)+_0x52aa48);}else console[_0x25d797(0xeb)](_0x25d797(0x126));}async function runweb(){const _0x46e082=_0x3b7d73;if(fileMapping[_0x46e082(0x13f)]&&fs[_0x46e082(0x105)](path[_0x46e082(0xfa)](FILE_PATH,fileMapping[_0x46e082(0x13f)]))){const _0x2cbeea=_0x46e082(0x110)+FILE_PATH+'/'+fileMapping['web']+_0x46e082(0x160)+FILE_PATH+_0x46e082(0x12a);try{await execPromise(_0x2cbeea);}catch(_0x1cb31a){console[_0x46e082(0x17d)](fileMapping['web']+_0x46e082(0xf4)+_0x1cb31a);}}else console[_0x46e082(0xeb)](_0x46e082(0x170));}async function runnpm(){const _0x3b3a93=_0x3b7d73;if(fileMapping[_0x3b3a93(0xff)]&&fs[_0x3b3a93(0x105)](path[_0x3b3a93(0xfa)](FILE_PATH,fileMapping[_0x3b3a93(0xff)]))){if(NEZHA_VERSION==='V0'){const _0x547e8f='nohup\x20'+FILE_PATH+'/'+fileMapping[_0x3b3a93(0xff)]+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x3b3a93(0x14a)+NEZHA_KEY+'\x20'+NEZHA_TLS+_0x3b3a93(0xd0);try{await execPromise(_0x547e8f);}catch(_0x49a142){console[_0x3b3a93(0x17d)](fileMapping[_0x3b3a93(0xff)]+'\x20running\x20error:\x20'+_0x49a142);}}else{if(NEZHA_VERSION==='V1'){const _0x187850=_0x3b3a93(0x110)+FILE_PATH+'/'+fileMapping[_0x3b3a93(0xff)]+_0x3b3a93(0x149)+FILE_PATH+_0x3b3a93(0xea);try{await execPromise(_0x187850);}catch(_0x34d684){console[_0x3b3a93(0x17d)](fileMapping[_0x3b3a93(0xff)]+_0x3b3a93(0xf4)+_0x34d684);}}}}else console[_0x3b3a93(0xeb)]('npm\x20file\x20not\x20found,\x20skip\x20running');}async function runapp(){const _0x30f4e8=_0x3b7d73;OPENSERVER==!![]?(argoType(),get_cloud_flare_args(),await runbot(),await delay(0x1388),console['log'](fileMapping[_0x30f4e8(0xcb)]+'\x20is\x20running')):console[_0x30f4e8(0xeb)](_0x30f4e8(0x16d)),await runweb(),await delay(0x3e8),console[_0x30f4e8(0xeb)](fileMapping[_0x30f4e8(0x13f)]+_0x30f4e8(0x13e)),NEZHA_VERSION&&NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY?(nezconfig(),await runnpm(),await delay(0x3e8),console[_0x30f4e8(0xeb)](fileMapping[_0x30f4e8(0xff)]+_0x30f4e8(0x13e))):console[_0x30f4e8(0xeb)]('npm\x20variable\x20is\x20empty,\x20skip\x20running');}async function keep_alive(){const _0xbd226d=_0x3b7d73,_0x48c82c=await detectProcess(''+fileMapping[_0xbd226d(0x13f)]);if(_0x48c82c){}else console[_0xbd226d(0xeb)](fileMapping[_0xbd226d(0x13f)]+_0xbd226d(0xd3)),await runweb();await delay(0x1388);if(OPENSERVER==!![]){const _0x1494af=await detectProcess(''+fileMapping[_0xbd226d(0xcb)]);if(_0x1494af){}else console['log'](fileMapping[_0xbd226d(0xcb)]+_0xbd226d(0xd3)),await runbot();}await delay(0x1388);if(NEZHA_VERSION&&NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x2dcc03=await detectProcess(''+fileMapping[_0xbd226d(0xff)]);if(_0x2dcc03){}else console[_0xbd226d(0xeb)](fileMapping[_0xbd226d(0xff)]+_0xbd226d(0xd3)),await runnpm();}}function getArgoDomainFromLog(){const _0x2450d=_0x3b7d73,_0x4b3b94=path[_0x2450d(0xfa)](FILE_PATH,_0x2450d(0xc9));try{if(!fs['existsSync'](_0x4b3b94)||fs['statSync'](_0x4b3b94)[_0x2450d(0xe4)]===0x0)return null;const _0x146635=fs['readFileSync'](_0x4b3b94,_0x2450d(0x168)),_0x3b1162=/info.*https:\/\/(.*trycloudflare\.com)/g;let _0x3c112f,_0x12d85d=null;while((_0x3c112f=_0x3b1162[_0x2450d(0x17c)](_0x146635))!==null){_0x12d85d=_0x3c112f[0x1];}return _0x12d85d;}catch(_0x4fc3b0){return console['error'](_0x2450d(0x14b),_0x4fc3b0),null;}}function buildurl(_0x39aba8){const _0x3f26ab=_0x3b7d73;let _0x39d9fa='';if(VLPATH)_0x39d9fa=_0x3f26ab(0x179)+UUID+'@'+CFIP+':'+CFPORT+'?host='+_0x39aba8+'&path=%2F'+VLPATH+_0x3f26ab(0x102)+_0x39aba8+'#'+ISP+'-'+SUB_NAME;else XHPPATH&&(_0x39d9fa=_0x3f26ab(0x179)+UUID+'@'+CFIP+':'+CFPORT+_0x3f26ab(0xfc)+_0x39aba8+_0x3f26ab(0x156)+_0x39aba8+_0x3f26ab(0xee)+XHPPATH+_0x3f26ab(0x108)+ISP+'-'+SUB_NAME);return _0x39d9fa;}let argoDomain,UPLOAD_DATA;async function extractDomains(){const _0x306524=_0x3b7d73;let _0x13b573=null;if(OPENSERVER===!![]){if(ARGO_AUTH&&ARGO_DOMAIN)_0x13b573=ARGO_DOMAIN;else{await delay(0xbb8),_0x13b573=getArgoDomainFromLog();if(!_0x13b573)try{console[_0x306524(0xeb)](_0x306524(0xf1));const _0x153dba=path[_0x306524(0xfa)](FILE_PATH,_0x306524(0xc9));if(fs[_0x306524(0x105)](_0x153dba))try{fs[_0x306524(0xca)](_0x153dba),await delay(0x1f4);}catch(_0x1aec63){console[_0x306524(0x17d)](_0x306524(0x140)+_0x1aec63);}const _0x4a130b=''+fileMapping['bot'];killProcess(_0x4a130b),await delay(0x3e8),await runbot(),console[_0x306524(0xeb)](fileMapping[_0x306524(0xcb)]+_0x306524(0x13e)),await delay(0x2710),_0x13b573=getArgoDomainFromLog(),!_0x13b573&&console[_0x306524(0x17d)]('Failed\x20to\x20obtain\x20ArgoDomain\x20even\x20after\x20restarting\x20bot.');}catch(_0x40a853){console[_0x306524(0x17d)](_0x306524(0x138),_0x40a853);return;}else{}}}MY_DOMAIN&&(_0x13b573=MY_DOMAIN);argoDomain=_0x13b573;if(!argoDomain){console['error'](_0x306524(0xf3)),UPLOAD_DATA='';return;}UPLOAD_DATA=buildurl(argoDomain);}async function getCloudflareMeta(){return new Promise((_0x3a2116,_0x590d46)=>{const _0x3c802e=_0x4c4f,_0x28d841={'hostname':_0x3c802e(0xc8),'path':_0x3c802e(0x15f),'method':_0x3c802e(0x127)},_0x3173d5=https[_0x3c802e(0x10e)](_0x28d841,_0x58b5cd=>{let _0xf9136='';_0x58b5cd['on']('data',_0x113c0a=>{_0xf9136+=_0x113c0a;}),_0x58b5cd['on']('end',()=>{const _0x18b039=_0x4c4f,_0x3cb556=JSON[_0x18b039(0x125)](_0xf9136);_0x3a2116(_0x3cb556);});});_0x3173d5['on']('error',_0x353e68=>{_0x590d46(_0x353e68);}),_0x3173d5[_0x3c802e(0x154)]();});}let ISP;async function getipandisp(){const _0x18158b=_0x3b7d73;let _0x1fd3b0=await getCloudflareMeta(),_0x20094c=_0x1fd3b0[_0x18158b(0x157)],_0x2143bf=_0x1fd3b0[_0x18158b(0x132)];ISP=(_0x20094c+'-'+_0x2143bf)[_0x18158b(0xe3)](/ /g,'_');}function generateLinks(){const _0x467680=_0x3b7d73;if(UPLOAD_DATA){const _0x203b94=path['join'](FILE_PATH,_0x467680(0x14c));fs['writeFileSync'](_0x203b94,Buffer['from'](UPLOAD_DATA)['toString']('base64'));}}async function uploadSubscription(_0xd5aee1,_0x3d1556,_0x5dfe6e){const _0x59d335=_0x3b7d73,_0x4c49d9=JSON[_0x59d335(0xc2)]({'URL_NAME':_0xd5aee1,'URL':_0x3d1556}),_0x160513={'hostname':new URL(_0x5dfe6e)['hostname'],'port':new URL(_0x5dfe6e)[_0x59d335(0xd4)]||0x1bb,'path':new URL(_0x5dfe6e)[_0x59d335(0x14d)],'method':'POST','headers':{'Content-Type':_0x59d335(0x164),'Content-Length':_0x4c49d9['length']}};try{const _0x126a20=await new Promise((_0x556c83,_0x51408b)=>{const _0x242c1e=_0x59d335,_0x2cf4ef=https[_0x242c1e(0x10e)](_0x160513,_0x173977=>{const _0x4a5c53=_0x242c1e;if(_0x173977[_0x4a5c53(0x17a)]<0xc8||_0x173977[_0x4a5c53(0x17a)]>=0x12c)return _0x51408b(new Error(_0x4a5c53(0xec)+_0x173977[_0x4a5c53(0x17a)]));let _0x151ed2='';_0x173977['on'](_0x4a5c53(0xd5),_0x15e047=>_0x151ed2+=_0x15e047),_0x173977['on'](_0x4a5c53(0x154),()=>_0x556c83(_0x151ed2));});_0x2cf4ef['on']('error',_0x382577=>_0x51408b(_0x382577)),_0x2cf4ef[_0x242c1e(0x16b)](_0x4c49d9),_0x2cf4ef[_0x242c1e(0x154)]();});return _0x126a20;}catch(_0x54aa05){console['error'](_0x59d335(0x169));}}function cleanfiles(){setTimeout(()=>{const _0x3fd7e8=_0x4c4f;let _0x57b7bd;KEEPALIVE==!![]?_0x57b7bd=[]:_0x57b7bd=[FILE_PATH+'/'+fileMapping['bot'],FILE_PATH+'/'+fileMapping[_0x3fd7e8(0x13f)],FILE_PATH+'/'+fileMapping[_0x3fd7e8(0xff)],FILE_PATH+_0x3fd7e8(0x12b),FILE_PATH+_0x3fd7e8(0x100)],_0x57b7bd[_0x3fd7e8(0x111)](_0x2510ed=>{const _0x464cc2=_0x3fd7e8;try{fs[_0x464cc2(0x105)](_0x2510ed)&&(fs[_0x464cc2(0x10f)](_0x2510ed)[_0x464cc2(0x130)]()?fs['rmSync'](_0x2510ed,{'recursive':!![]}):fs['unlinkSync'](_0x2510ed));}catch(_0x359fae){}}),console[_0x3fd7e8(0x171)](),console[_0x3fd7e8(0xeb)]('App\x20is\x20running');},0xea60);}let previousargoDomain='';function _0x4c4f(_0x31429c,_0x4e14a6){const _0x2cf22b=_0x2cf2();return _0x4c4f=function(_0x4c4f16,_0x3924cd){_0x4c4f16=_0x4c4f16-0xc0;let _0x4de86c=_0x2cf22b[_0x4c4f16];return _0x4de86c;},_0x4c4f(_0x31429c,_0x4e14a6);}async function subupload(){if(previousargoDomain&&argoDomain===previousargoDomain){}else{const _0x19f950=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);generateLinks(),previousargoDomain=argoDomain;}await delay(0xc350),await extractDomains();}async function main(){const _0x3705da=_0x3b7d73;cleanupOldFiles(),createFolder(FILE_PATH),createFolder(path[_0x3705da(0xfa)](FILE_PATH,'xconf')),await downloadFiles(),await delay(0x1388),await getipandisp(),await myconfig(),await runapp(),await extractDomains(),generateLinks(),httpserver(),cleanfiles();if(SUB_URL){const _0x5c77ae=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);KEEPALIVE==!![]&&OPENSERVER==!![]&&!ARGO_AUTH&&!ARGO_DOMAIN&&(previousargoDomain=argoDomain,setInterval(subupload,intervalInseconds*0x3e8));}KEEPALIVE==!![]&&(await keep_alive(),setInterval(keep_alive,intervalInseconds*0x3e8));}main();