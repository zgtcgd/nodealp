const _0x2d750c=_0x14d1;(function(_0x19a3fa,_0x1ef68f){const _0x20a5bc=_0x14d1,_0xe34ae9=_0x19a3fa();while(!![]){try{const _0x35bed0=-parseInt(_0x20a5bc(0x138))/0x1*(-parseInt(_0x20a5bc(0x1a6))/0x2)+parseInt(_0x20a5bc(0x1ca))/0x3+-parseInt(_0x20a5bc(0x156))/0x4*(parseInt(_0x20a5bc(0x14c))/0x5)+parseInt(_0x20a5bc(0x1bd))/0x6*(-parseInt(_0x20a5bc(0x19c))/0x7)+parseInt(_0x20a5bc(0x1aa))/0x8*(parseInt(_0x20a5bc(0x185))/0x9)+-parseInt(_0x20a5bc(0x18b))/0xa*(parseInt(_0x20a5bc(0x1e1))/0xb)+parseInt(_0x20a5bc(0x1dd))/0xc;if(_0x35bed0===_0x1ef68f)break;else _0xe34ae9['push'](_0xe34ae9['shift']());}catch(_0x5568ff){_0xe34ae9['push'](_0xe34ae9['shift']());}}}(_0x2a52,0x7b772));function _0x14d1(_0x5ebb4f,_0x540bc5){const _0x2a5265=_0x2a52();return _0x14d1=function(_0x14d101,_0x3c7850){_0x14d101=_0x14d101-0x123;let _0x2137b1=_0x2a5265[_0x14d101];return _0x2137b1;},_0x14d1(_0x5ebb4f,_0x540bc5);}const FILE_PATH=process[_0x2d750c(0x1b5)][_0x2d750c(0x1a3)]||_0x2d750c(0x1d5),intervalInseconds=process[_0x2d750c(0x1b5)][_0x2d750c(0x164)]||0x64,CFIP=process[_0x2d750c(0x1b5)][_0x2d750c(0x150)]||_0x2d750c(0x1c0),CFPORT=process[_0x2d750c(0x1b5)][_0x2d750c(0x1c4)]||_0x2d750c(0x190),delay=_0x367d49=>new Promise(_0x36c061=>setTimeout(_0x36c061,_0x367d49)),OPENSERVER=process[_0x2d750c(0x1b5)]['OPENSERVER']||!![],KEEPALIVE=process['env'][_0x2d750c(0x155)]||![],MY_DOMAIN=process[_0x2d750c(0x1b5)][_0x2d750c(0x1a5)]||'',ARGO_DOMAIN=process['env'][_0x2d750c(0x1c2)]||'',ARGO_AUTH=process[_0x2d750c(0x1b5)][_0x2d750c(0x1e7)]||'',VLPATH=process[_0x2d750c(0x1b5)][_0x2d750c(0x15c)]||'',XHPPATH=process[_0x2d750c(0x1b5)][_0x2d750c(0x17c)]||'',PORT=process[_0x2d750c(0x1b5)][_0x2d750c(0x1d1)]||process[_0x2d750c(0x1b5)][_0x2d750c(0x1c1)]||0xbb8,V_PORT=process[_0x2d750c(0x1b5)][_0x2d750c(0x1e0)]||0x1f90,UUID=process['env'][_0x2d750c(0x12d)]||'',NEZHA_VERSION=process['env'][_0x2d750c(0x18f)]||'V0',NEZHA_SERVER=process['env'][_0x2d750c(0x194)]||'',NEZHA_PORT=process[_0x2d750c(0x1b5)]['NEZHA_PORT']||_0x2d750c(0x190),NEZHA_KEY=process['env'][_0x2d750c(0x189)]||'',SUB_NAME=process[_0x2d750c(0x1b5)]['SUB_NAME']||'',SUB_URL=process[_0x2d750c(0x1b5)][_0x2d750c(0x180)]||'',axios=require('axios'),{pipeline}=require('stream/promises'),os=require('os'),fs=require('fs'),path=require(_0x2d750c(0x159)),http=require(_0x2d750c(0x153)),https=require(_0x2d750c(0x169)),exec=require(_0x2d750c(0x141))[_0x2d750c(0x1cf)];function cleanupOldFiles(){const _0x2743a1=_0x2d750c;try{if(fs['existsSync'](path[_0x2743a1(0x1d0)](FILE_PATH)))fs['rmSync'](path['join'](FILE_PATH),{'recursive':!![]});else{}}catch(_0x41d967){}}function createFolder(_0x5473f9){const _0x5f5847=_0x2d750c;if(!fs[_0x5f5847(0x18c)](_0x5473f9))fs[_0x5f5847(0x19e)](_0x5473f9);else{}}function httpserver(){const _0x265236=_0x2d750c,_0x390f7a=http['createServer']((_0x16056c,_0x161020)=>{const _0x4eb534=_0x14d1;if(_0x16056c[_0x4eb534(0x187)]==='/')_0x161020[_0x4eb534(0x17a)](0xc8),_0x161020['end'](_0x4eb534(0x1c3));else{if(_0x16056c[_0x4eb534(0x187)]===_0x4eb534(0x1db)){const _0x15e76a=FILE_PATH+_0x4eb534(0x13e);fs['readFile'](_0x15e76a,'utf8',(_0x4ccfc9,_0x7e2395)=>{const _0x1e8934=_0x4eb534;_0x4ccfc9?(_0x161020[_0x1e8934(0x17a)](0x1f4),_0x161020[_0x1e8934(0x16c)](_0x1e8934(0x1e4))):(_0x161020['writeHead'](0xc8,{'Content-Type':_0x1e8934(0x14d)}),_0x161020[_0x1e8934(0x16c)](_0x7e2395));});}else _0x161020[_0x4eb534(0x17a)](0x194),_0x161020[_0x4eb534(0x16c)](_0x4eb534(0x175));}});_0x390f7a[_0x265236(0x1a1)](PORT,()=>{const _0x4eee05=_0x265236;console[_0x4eee05(0x125)](_0x4eee05(0x13a)+PORT);});}function execPromise(_0x14aede,_0x34638a={}){return new Promise((_0x17591b,_0x2f51db)=>{const _0x5d2186=exec(_0x14aede,_0x34638a,(_0x181687,_0x456b94,_0x3d5bad)=>{const _0x458c64=_0x14d1;if(_0x181687){const _0x4d38ef=new Error(_0x458c64(0x177)+_0x181687[_0x458c64(0x170)]);_0x4d38ef[_0x458c64(0x162)]=_0x181687[_0x458c64(0x162)],_0x4d38ef[_0x458c64(0x1d6)]=_0x3d5bad['trim'](),_0x2f51db(_0x4d38ef);}else _0x17591b(_0x456b94[_0x458c64(0x186)]());});});}async function detectProcess(_0x4b53bb){const _0x46ebb1=_0x2d750c,_0x35cdfe=[{'cmd':_0x46ebb1(0x17b)+_0x4b53bb+'\x22','name':_0x46ebb1(0x15f)},{'cmd':_0x46ebb1(0x1bb)+_0x4b53bb+'\x22','name':_0x46ebb1(0x158)},{'cmd':'ps\x20-eo\x20pid,comm\x20|\x20awk\x20-v\x20name=\x22'+_0x4b53bb+_0x46ebb1(0x1c8),'name':_0x46ebb1(0x133)}];for(const _0x19b6ce of _0x35cdfe){try{const _0x38867e=await execPromise(_0x19b6ce[_0x46ebb1(0x1c5)]);if(_0x38867e)return _0x38867e[_0x46ebb1(0x16f)](/\n/g,'\x20')[_0x46ebb1(0x186)]();}catch(_0x1131a3){_0x1131a3[_0x46ebb1(0x162)]!==0x7f&&_0x1131a3[_0x46ebb1(0x162)]!==0x1&&console[_0x46ebb1(0x19f)](_0x46ebb1(0x168)+_0x19b6ce['name']+_0x46ebb1(0x149),_0x1131a3['message']);}}return'';}async function killProcess(_0x162a7b){const _0x57c622=_0x2d750c;console[_0x57c622(0x125)]('Attempting\x20to\x20kill\x20process:\x20'+_0x162a7b);try{const _0x288735=await detectProcess(_0x162a7b);if(!_0x288735)return console[_0x57c622(0x132)](_0x57c622(0x135)+_0x162a7b+_0x57c622(0x1c9)),{'success':!![],'message':_0x57c622(0x143)};await execPromise(_0x57c622(0x192)+_0x288735);const _0x4c15f8=_0x57c622(0x1ae)+_0x288735+')';return console['log'](_0x4c15f8),{'success':!![],'message':_0x4c15f8};}catch(_0x46e39d){const _0x38b692=_0x57c622(0x157)+_0x46e39d[_0x57c622(0x170)];return console[_0x57c622(0x1cd)](_0x38b692),{'success':![],'message':_0x38b692};}}function generateRandomString(_0x3d520e){const _0x550bb4=_0x2d750c,_0x2fddad=_0x550bb4(0x1e3);let _0x5f2f24='';for(let _0xd342d3=0x0;_0xd342d3<_0x3d520e;_0xd342d3++){_0x5f2f24+=_0x2fddad['charAt'](Math['floor'](Math[_0x550bb4(0x1c6)]()*_0x2fddad[_0x550bb4(0x1e9)]));}return _0x5f2f24;}async function myconfig(){const _0x4c2019=_0x2d750c,_0x2f5299=path[_0x4c2019(0x1d0)](FILE_PATH,_0x4c2019(0x1b2)),_0x17eb93='/'+VLPATH,_0x68e1a3='/'+XHPPATH;function _0x45b7cc(){const _0xcdcc81=_0x4c2019,_0xd1452e={'log':{'access':'/dev/null','error':_0xcdcc81(0x15b),'loglevel':_0xcdcc81(0x17f)},'dns':{'servers':[_0xcdcc81(0x127)]}};fs[_0xcdcc81(0x198)](path[_0xcdcc81(0x1d0)](_0x2f5299,_0xcdcc81(0x174)),JSON[_0xcdcc81(0x1e6)](_0xd1452e,null,0x2));if(VLPATH&&!XHPPATH){const _0x49741c={'inbounds':[{'port':V_PORT,'listen':'::','protocol':_0xcdcc81(0x1ce),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0xcdcc81(0x17f)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x17eb93}},'sniffing':{'enabled':!![],'destOverride':[_0xcdcc81(0x153),_0xcdcc81(0x12a),_0xcdcc81(0x1e5)],'metadataOnly':![]}}]};fs[_0xcdcc81(0x198)](path['join'](_0x2f5299,'inbound_v.json'),JSON[_0xcdcc81(0x1e6)](_0x49741c,null,0x2));}else{if(XHPPATH&&!VLPATH){const _0x2af102={'inbounds':[{'port':V_PORT,'listen':'::','protocol':_0xcdcc81(0x1ce),'settings':{'clients':[{'id':UUID}],'decryption':_0xcdcc81(0x17f)},'streamSettings':{'network':_0xcdcc81(0x1af),'security':_0xcdcc81(0x17f),'xhttpSettings':{'mode':_0xcdcc81(0x19d),'path':_0x68e1a3}},'sniffing':{'enabled':!![],'destOverride':[_0xcdcc81(0x153),'tls','quic'],'metadataOnly':![]}}]};fs[_0xcdcc81(0x198)](path['join'](_0x2f5299,_0xcdcc81(0x1d3)),JSON[_0xcdcc81(0x1e6)](_0x2af102,null,0x2));}}const _0x3b8a42={'outbounds':[{'tag':_0xcdcc81(0x182),'protocol':_0xcdcc81(0x1b1)},{'tag':_0xcdcc81(0x139),'protocol':_0xcdcc81(0x151)}]};fs[_0xcdcc81(0x198)](path[_0xcdcc81(0x1d0)](_0x2f5299,_0xcdcc81(0x13f)),JSON['stringify'](_0x3b8a42,null,0x2));}_0x45b7cc();}function getSystemArchitecture(){const _0x175bb6=_0x2d750c,_0x18dd4d=os[_0x175bb6(0x179)]();return _0x18dd4d===_0x175bb6(0x178)||_0x18dd4d===_0x175bb6(0x197)||_0x18dd4d==='aarch64'?_0x175bb6(0x178):_0x175bb6(0x181);}function getFilesForArchitecture(_0x2f15c0){const _0x4fc098=_0x2d750c,_0x2a692b={'bot':{'arm':_0x4fc098(0x1c7),'amd':_0x4fc098(0x1cc)},'web':{'arm':_0x4fc098(0x12c),'amd':_0x4fc098(0x1cb)},'npm':{'V0':{'arm':_0x4fc098(0x1de),'amd':'https://github.com/kahunama/myfile/releases/download/main/nezha-agent'},'V1':{'arm':_0x4fc098(0x16d),'amd':_0x4fc098(0x126)}}};let _0xeb21f2=[{'fileName':generateRandomString(0x5),'originalName':_0x4fc098(0x1a0),'fileUrl':_0x2a692b[_0x4fc098(0x1a0)][_0x2f15c0]}];if(OPENSERVER==!![]){const _0x538544={'fileName':generateRandomString(0x5),'originalName':_0x4fc098(0x14f),'fileUrl':_0x2a692b[_0x4fc098(0x14f)][_0x2f15c0]};_0xeb21f2[_0x4fc098(0x172)](_0x538544);}if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY&&NEZHA_VERSION){const _0x4f4abf={'fileName':generateRandomString(0x5),'originalName':_0x4fc098(0x1a7),'fileUrl':_0x2a692b[_0x4fc098(0x1a7)][NEZHA_VERSION][_0x2f15c0]};_0xeb21f2[_0x4fc098(0x172)](_0x4f4abf);}return _0xeb21f2;}async function download_function(_0x178d7f,_0x405de3,_0x4949f3){const _0x1c7d7f=_0x2d750c,_0x596ae5=path[_0x1c7d7f(0x1d0)](FILE_PATH,_0x178d7f);let _0x3eedae=![];try{const _0x376dd5=await axios({'method':'get','url':_0x4949f3,'responseType':'stream'});await pipeline(_0x376dd5[_0x1c7d7f(0x154)],fs['createWriteStream'](_0x596ae5)),_0x3eedae=!![];}catch(_0x514ea5){}return{'fileName':_0x178d7f,'originalName':_0x405de3,'filePath':_0x596ae5,'success':_0x3eedae};}let fileMapping={};async function downloadFiles(){const _0x2ebf17=_0x2d750c;try{const _0x566065=getSystemArchitecture();if(!_0x566065)return console[_0x2ebf17(0x125)](_0x2ebf17(0x191)),fileMapping;const _0x4e965a=getFilesForArchitecture(_0x566065);if(_0x4e965a['length']===0x0)return console[_0x2ebf17(0x125)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture'),fileMapping;const _0x352ce2=_0x4e965a[_0x2ebf17(0x17d)](_0x1f46ba=>download_function(_0x1f46ba['fileName'],_0x1f46ba['originalName'],_0x1f46ba[_0x2ebf17(0x160)])),_0x50bdf8=await Promise[_0x2ebf17(0x15d)](_0x352ce2);return _0x50bdf8[_0x2ebf17(0x176)](_0x3f895b=>{const _0x5573d8=_0x2ebf17;if(_0x3f895b[_0x5573d8(0x1d8)])try{fs[_0x5573d8(0x1a2)](_0x3f895b['filePath'],0x1ed),fileMapping[_0x3f895b[_0x5573d8(0x196)]]=_0x3f895b[_0x5573d8(0x19b)];}catch(_0x436785){}}),fileMapping;}catch(_0x4b2543){return console[_0x2ebf17(0x1cd)](_0x2ebf17(0x18d),_0x4b2543),fileMapping;}}function _0x2a52(){const _0x8caefc=['join','PORT','/config.yml\x20>/dev/null\x202>&1\x20&','inbound_v.json','/meta','/tmp','stderr','?encryption=none&security=tls&sni=','success',',\x20response:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20credentials-file:\x20','/sub','application/json;\x20charset=utf-8','8371104ibKLZx','https://github.com/kahunama/myfile/releases/download/main/nezha-agent_arm','\x20-c\x20','V_PORT','58366TWFNgv','boot.log','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','Error\x20reading\x20file','quic','stringify','ARGO_AUTH','Error\x20deleting\x20boot.log:\x20','length','npm\x20file\x20not\x20found,\x20skip\x20running','true','pathname','log','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1','https+local://8.8.8.8/dns-query','/xconf\x20>/dev/null\x202>&1\x20&','tunnel.json','tls','No\x20domain\x20could\x20be\x20determined.\x20Cannot\x20construct\x20UPLOAD_DATA','https://github.com/mytcgd/myfiles/releases/download/main/xray_arm','UUID','unlinkSync','\x0a\x20\x20\x20\x20\x20\x20\x20\x20protocol:\x20http2\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ingress:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20hostname:\x20','toString','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','warn','ps+awk','\x0a\x20\x20\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Process\x20\x27','readFileSync','lstatSync','23773IZxYwj','block','server\x20is\x20running\x20on\x20port\x20:\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','&type=xhttp&host=','\x20-s\x20','/log.txt','outbound.json','%3Fed%3D2560&mode=packet-up#','child_process','Error\x20reading\x20boot.log:','Process\x20not\x20found','base64','rmSync','App\x20is\x20running','Error\x20in\x20bot\x20process\x20management:','Failed\x20to\x20obtain\x20ArgoDomain\x20even\x20after\x20restarting\x20bot.','\x20error:','asOrganization','request','4835UICXOn','text/plain;\x20charset=utf-8','split','bot','CFIP','blackhole','GET','http','data','KEEPALIVE','3508GsqCeU','Kill\x20failed:\x20','pgrep','path','size','/dev/null','VLPATH','all','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','pidof','fileUrl','npm\x20variable\x20is\x20empty,\x20skip\x20running','code','\x0a\x20\x20\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','TIME','includes','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','--tls','[detectProcess]\x20','https','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','/config.yml','end','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1_arm','bot\x20variable\x20is\x20not\x20allowed,\x20skip\x20running','replace','message','tunnel.yml','push','\x20>/dev/null\x202>&1\x20&','inbound.json','Not\x20found','forEach','Command\x20failed:\x20','arm','arch','writeHead','pidof\x20\x22','XHPPATH','map','statSync','none','SUB_URL','amd','direct','clear','statusCode','2607183wMPFyq','trim','url','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','NEZHA_KEY','?host=','550rAbvDK','existsSync','Error\x20downloading\x20files:','2087','NEZHA_VERSION','443','Can\x27t\x20determine\x20system\x20architecture.','kill\x20-9\x20','statusMessage','NEZHA_SERVER','2053','originalName','arm64','writeFileSync','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','%3Fed%3D2560&type=ws&encryption=none&security=tls&sni=','fileName','17717EZcwFk','packet-up','mkdirSync','debug','web','listen','chmodSync','FILE_PATH','vless://','MY_DOMAIN','46zakXIe','npm','\x20--report-delay=4\x20--skip-conn\x20--skip-procs\x20--disable-auto-update\x20>/dev/null\x202>&1\x20&','write','16XYXjEk','false','match','utf-8','Killed\x20process\x20(PIDs:\x20','xhttp','port','freedom','xconf','nohup\x20','&path=%2F','env','from','utf8','log.txt','\x20running\x20error:\x20','POST','pgrep\x20-x\x20\x22','bot\x20file\x20not\x20found,\x20skip\x20running','1902COskmA','hostname','\x20run\x20-confdir\x20','ip.sb','SERVER_PORT','ARGO_DOMAIN','hello\x20world','CFPORT','cmd','random','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm64','\x22\x20\x27$2\x20==\x20name\x20{print\x20$1}\x27','\x27\x20not\x20found','1872555VemFmq','https://github.com/mytcgd/myfiles/releases/download/main/xray','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64','error','vless','exec'];_0x2a52=function(){return _0x8caefc;};return _0x2a52();}function argoType(){const _0x3239c3=_0x2d750c;if(!ARGO_AUTH||!ARGO_DOMAIN)return;if(ARGO_AUTH[_0x3239c3(0x165)]('TunnelSecret')){fs[_0x3239c3(0x198)](path[_0x3239c3(0x1d0)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x5bba07='\x0a\x20\x20\x20\x20\x20\x20\x20\x20tunnel:\x20'+ARGO_AUTH[_0x3239c3(0x14e)]('\x22')[0xb]+_0x3239c3(0x1da)+path[_0x3239c3(0x1d0)](FILE_PATH,_0x3239c3(0x129))+_0x3239c3(0x12f)+ARGO_DOMAIN+_0x3239c3(0x163)+V_PORT+_0x3239c3(0x134);fs[_0x3239c3(0x198)](path['join'](FILE_PATH,_0x3239c3(0x171)),_0x5bba07);}else{}}let args;function get_cloud_flare_args(){const _0x54a506=_0x2d750c;if(ARGO_AUTH[_0x54a506(0x1ac)](/^[A-Z0-9a-z=]{120,250}$/))args='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x54a506(0x1ac)](/TunnelSecret/)?args=_0x54a506(0x16a)+FILE_PATH+'/tunnel.yml\x20run':args=_0x54a506(0x166)+FILE_PATH+_0x54a506(0x188)+V_PORT;return args;}let NEZHA_TLS;function nezconfig(){const _0xd75982=_0x2d750c,_0x21c3f0=[_0xd75982(0x190),'8443','2096',_0xd75982(0x18e),'2083',_0xd75982(0x195)];if(NEZHA_VERSION==='V0')return _0x21c3f0['includes'](NEZHA_PORT)?NEZHA_TLS=_0xd75982(0x167):NEZHA_TLS='',NEZHA_TLS;else{if(NEZHA_VERSION==='V1'){_0x21c3f0[_0xd75982(0x165)](NEZHA_PORT)?NEZHA_TLS=_0xd75982(0x123):NEZHA_TLS=_0xd75982(0x1ab);const _0x257c10=path['join'](FILE_PATH,_0xd75982(0x16b)),_0x14fa30='client_secret:\x20'+NEZHA_KEY+_0xd75982(0x199)+NEZHA_SERVER+':'+NEZHA_PORT+_0xd75982(0x131)+NEZHA_TLS+_0xd75982(0x15e)+UUID;try{fs[_0xd75982(0x198)](_0x257c10,_0x14fa30);}catch(_0x6dc2fd){}}}}async function runbot(){const _0x23318e=_0x2d750c;if(fileMapping[_0x23318e(0x14f)]&&fs[_0x23318e(0x18c)](path[_0x23318e(0x1d0)](FILE_PATH,fileMapping[_0x23318e(0x14f)])))try{await execPromise(_0x23318e(0x1b3)+FILE_PATH+'/'+fileMapping[_0x23318e(0x14f)]+'\x20'+args+_0x23318e(0x173));}catch(_0x4251ea){console[_0x23318e(0x1cd)](fileMapping[_0x23318e(0x14f)]+'\x20running\x20error:\x20'+_0x4251ea);}else console[_0x23318e(0x125)](_0x23318e(0x1bc));}async function runweb(){const _0x331069=_0x2d750c;if(fileMapping[_0x331069(0x1a0)]&&fs[_0x331069(0x18c)](path[_0x331069(0x1d0)](FILE_PATH,fileMapping[_0x331069(0x1a0)]))){const _0x37c0cc=_0x331069(0x1b3)+FILE_PATH+'/'+fileMapping[_0x331069(0x1a0)]+_0x331069(0x1bf)+FILE_PATH+_0x331069(0x128);try{await execPromise(_0x37c0cc);}catch(_0x3a9da6){console['error'](fileMapping[_0x331069(0x1a0)]+_0x331069(0x1b9)+_0x3a9da6);}}else console[_0x331069(0x125)]('web\x20file\x20not\x20found,\x20skip\x20running');}async function runnpm(){const _0x19bf24=_0x2d750c;if(fileMapping[_0x19bf24(0x1a7)]&&fs[_0x19bf24(0x18c)](path[_0x19bf24(0x1d0)](FILE_PATH,fileMapping[_0x19bf24(0x1a7)]))){if(NEZHA_VERSION==='V0'){const _0x38a6d7=_0x19bf24(0x1b3)+FILE_PATH+'/'+fileMapping['npm']+_0x19bf24(0x13d)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+NEZHA_TLS+_0x19bf24(0x1a8);try{await execPromise(_0x38a6d7);}catch(_0x26d8c6){console[_0x19bf24(0x1cd)](fileMapping[_0x19bf24(0x1a7)]+'\x20running\x20error:\x20'+_0x26d8c6);}}else{if(NEZHA_VERSION==='V1'){const _0x5ca8e1=_0x19bf24(0x1b3)+FILE_PATH+'/'+fileMapping[_0x19bf24(0x1a7)]+_0x19bf24(0x1df)+FILE_PATH+_0x19bf24(0x1d2);try{await execPromise(_0x5ca8e1);}catch(_0x43fae8){console[_0x19bf24(0x1cd)](fileMapping[_0x19bf24(0x1a7)]+'\x20running\x20error:\x20'+_0x43fae8);}}}}else console[_0x19bf24(0x125)](_0x19bf24(0x1ea));}async function runapp(){const _0x3fcfe3=_0x2d750c;OPENSERVER==!![]?(argoType(),get_cloud_flare_args(),await runbot(),await delay(0x1388)):console[_0x3fcfe3(0x125)](_0x3fcfe3(0x16e)),await runweb(),await delay(0x3e8),NEZHA_VERSION&&NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY?(nezconfig(),await runnpm(),await delay(0x3e8)):console['log'](_0x3fcfe3(0x161));}async function keep_alive(){const _0x3dbb9a=_0x2d750c,_0x590aba=await detectProcess(''+fileMapping[_0x3dbb9a(0x1a0)]);if(_0x590aba){}else await runweb();await delay(0x1388);if(OPENSERVER==!![]){const _0x451287=await detectProcess(''+fileMapping[_0x3dbb9a(0x14f)]);if(_0x451287){}else await runbot();}await delay(0x1388);if(NEZHA_VERSION&&NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x541053=await detectProcess(''+fileMapping[_0x3dbb9a(0x1a7)]);if(_0x541053){}else await runnpm();}}function getArgoDomainFromLog(){const _0x47c5a8=_0x2d750c,_0x10e356=path[_0x47c5a8(0x1d0)](FILE_PATH,_0x47c5a8(0x1e2));try{if(!fs['existsSync'](_0x10e356)||fs[_0x47c5a8(0x17e)](_0x10e356)[_0x47c5a8(0x15a)]===0x0)return null;const _0xe1bf1c=fs[_0x47c5a8(0x136)](_0x10e356,_0x47c5a8(0x1ad)),_0x2590d5=/info.*https:\/\/(.*trycloudflare\.com)/g;let _0x4b3ab7,_0x16266b=null;while((_0x4b3ab7=_0x2590d5[_0x47c5a8(0x1cf)](_0xe1bf1c))!==null){_0x16266b=_0x4b3ab7[0x1];}return _0x16266b;}catch(_0x416afa){return console[_0x47c5a8(0x1cd)](_0x47c5a8(0x142),_0x416afa),null;}}function buildurl(_0x208695){const _0x2ce7cd=_0x2d750c;let _0x2b08f5='';if(VLPATH)_0x2b08f5=_0x2ce7cd(0x1a4)+UUID+'@'+CFIP+':'+CFPORT+_0x2ce7cd(0x18a)+_0x208695+_0x2ce7cd(0x1b4)+VLPATH+_0x2ce7cd(0x19a)+_0x208695+'#'+ISP+'-'+SUB_NAME;else XHPPATH&&(_0x2b08f5=_0x2ce7cd(0x1a4)+UUID+'@'+CFIP+':'+CFPORT+_0x2ce7cd(0x1d7)+_0x208695+_0x2ce7cd(0x13c)+_0x208695+_0x2ce7cd(0x1b4)+XHPPATH+_0x2ce7cd(0x140)+ISP+'-'+SUB_NAME);return _0x2b08f5;}let argoDomain,UPLOAD_DATA;async function extractDomains(){const _0x3af6b5=_0x2d750c;let _0x5c4f7f=null;if(OPENSERVER===!![]){if(ARGO_AUTH&&ARGO_DOMAIN)_0x5c4f7f=ARGO_DOMAIN;else{await delay(0xbb8),_0x5c4f7f=getArgoDomainFromLog();if(!_0x5c4f7f)try{console['log'](_0x3af6b5(0x13b));const _0x276437=path[_0x3af6b5(0x1d0)](FILE_PATH,_0x3af6b5(0x1e2));if(fs[_0x3af6b5(0x18c)](_0x276437))try{fs[_0x3af6b5(0x12e)](_0x276437),await delay(0x1f4);}catch(_0x1770b2){console['error'](_0x3af6b5(0x1e8)+_0x1770b2);}const _0xf3e5c9=''+fileMapping[_0x3af6b5(0x14f)];killProcess(_0xf3e5c9),await delay(0x3e8),await runbot(),console['log'](fileMapping[_0x3af6b5(0x14f)]+'\x20is\x20running'),await delay(0x2710),_0x5c4f7f=getArgoDomainFromLog(),!_0x5c4f7f&&console[_0x3af6b5(0x1cd)](_0x3af6b5(0x148));}catch(_0x10081b){console[_0x3af6b5(0x1cd)](_0x3af6b5(0x147),_0x10081b);return;}else{}}}MY_DOMAIN&&(_0x5c4f7f=MY_DOMAIN);argoDomain=_0x5c4f7f;if(!argoDomain){console[_0x3af6b5(0x1cd)](_0x3af6b5(0x12b)),UPLOAD_DATA='';return;}UPLOAD_DATA=buildurl(argoDomain);}async function getCloudflareMeta(){return new Promise((_0x258876,_0x4e0959)=>{const _0x515a10=_0x14d1,_0x59ad04={'hostname':'speed.cloudflare.com','path':_0x515a10(0x1d4),'method':_0x515a10(0x152)},_0x10ca62=https[_0x515a10(0x14b)](_0x59ad04,_0x1d5331=>{const _0x4291e1=_0x515a10;let _0x139609='';_0x1d5331['on'](_0x4291e1(0x154),_0x47deee=>{_0x139609+=_0x47deee;}),_0x1d5331['on'](_0x4291e1(0x16c),()=>{const _0x49180a=JSON['parse'](_0x139609);_0x258876(_0x49180a);});});_0x10ca62['on'](_0x515a10(0x1cd),_0x534ac0=>{_0x4e0959(_0x534ac0);}),_0x10ca62[_0x515a10(0x16c)]();});}let ISP;async function getipandisp(){const _0x60d57b=_0x2d750c;let _0xd63479=await getCloudflareMeta(),_0x45e6e7=_0xd63479['country'],_0x392654=_0xd63479[_0x60d57b(0x14a)];ISP=(_0x45e6e7+'-'+_0x392654)[_0x60d57b(0x16f)](/ /g,'_');}function generateLinks(){const _0x4db9f9=_0x2d750c;if(UPLOAD_DATA){const _0x57056f=path['join'](FILE_PATH,_0x4db9f9(0x1b8));fs[_0x4db9f9(0x198)](_0x57056f,Buffer[_0x4db9f9(0x1b6)](UPLOAD_DATA)[_0x4db9f9(0x130)](_0x4db9f9(0x144)));}}async function uploadSubscription(_0x463884,_0x45960e,_0x201aee){const _0x2cb6a3=_0x2d750c,_0x22d74a=JSON[_0x2cb6a3(0x1e6)]({'URL_NAME':_0x463884,'URL':_0x45960e}),_0x3290a3=Buffer[_0x2cb6a3(0x1b6)](_0x22d74a,_0x2cb6a3(0x1b7)),_0x2acf55=_0x3290a3[_0x2cb6a3(0x1e9)],_0x16ce4d=new URL(_0x201aee),_0x1853cc={'hostname':_0x16ce4d[_0x2cb6a3(0x1be)],'port':_0x16ce4d[_0x2cb6a3(0x1b0)]||0x1bb,'path':_0x16ce4d[_0x2cb6a3(0x124)],'method':_0x2cb6a3(0x1ba),'headers':{'Content-Type':_0x2cb6a3(0x1dc),'Content-Length':_0x2acf55}};try{const _0x59c772=await new Promise((_0x2bb458,_0x375780)=>{const _0x3f8060=_0x2cb6a3,_0x50bc6d=https[_0x3f8060(0x14b)](_0x1853cc,_0x2e22e1=>{const _0x92d80c=_0x3f8060;if(_0x2e22e1[_0x92d80c(0x184)]<0xc8||_0x2e22e1[_0x92d80c(0x184)]>=0x12c)return _0x375780(new Error('HTTP\x20error!\x20status:\x20'+_0x2e22e1[_0x92d80c(0x184)]+_0x92d80c(0x1d9)+_0x2e22e1[_0x92d80c(0x193)]));let _0xc3570e='';_0x2e22e1['on']('data',_0x53be8a=>_0xc3570e+=_0x53be8a),_0x2e22e1['on'](_0x92d80c(0x16c),()=>_0x2bb458(_0xc3570e));});_0x50bc6d['on'](_0x3f8060(0x1cd),_0x219d76=>_0x375780(_0x219d76)),_0x50bc6d[_0x3f8060(0x1a9)](_0x3290a3),_0x50bc6d[_0x3f8060(0x16c)]();});return _0x59c772;}catch(_0x28c44d){console['error']('Upload\x20failed:',_0x28c44d[_0x2cb6a3(0x170)]);}}function cleanfiles(){setTimeout(()=>{const _0xbd4cca=_0x14d1;let _0x1a8747;KEEPALIVE==!![]?_0x1a8747=[]:_0x1a8747=[FILE_PATH+'/'+fileMapping['bot'],FILE_PATH+'/'+fileMapping[_0xbd4cca(0x1a0)],FILE_PATH+'/'+fileMapping[_0xbd4cca(0x1a7)],FILE_PATH+'/xconf',FILE_PATH+_0xbd4cca(0x16b)],_0x1a8747[_0xbd4cca(0x176)](_0x44abcb=>{const _0x491702=_0xbd4cca;try{fs[_0x491702(0x18c)](_0x44abcb)&&(fs[_0x491702(0x137)](_0x44abcb)['isDirectory']()?fs[_0x491702(0x145)](_0x44abcb,{'recursive':!![]}):fs[_0x491702(0x12e)](_0x44abcb));}catch(_0x12d33f){}}),console[_0xbd4cca(0x183)](),console[_0xbd4cca(0x125)](_0xbd4cca(0x146));},0xea60);}let previousargoDomain='';async function subupload(){if(previousargoDomain&&argoDomain===previousargoDomain){}else{const _0x5cf0ee=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);generateLinks(),previousargoDomain=argoDomain;}await delay(0xc350),await extractDomains();}async function main(){const _0x96c775=_0x2d750c;cleanupOldFiles(),createFolder(FILE_PATH),createFolder(path[_0x96c775(0x1d0)](FILE_PATH,'xconf')),await downloadFiles(),await delay(0x1388),await getipandisp(),await myconfig(),await runapp(),await extractDomains(),generateLinks(),httpserver(),cleanfiles();if(SUB_URL){const _0x143ffd=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);KEEPALIVE==!![]&&OPENSERVER==!![]&&!ARGO_AUTH&&!ARGO_DOMAIN&&(previousargoDomain=argoDomain,setInterval(subupload,intervalInseconds*0x3e8));}KEEPALIVE==!![]&&(await keep_alive(),setInterval(keep_alive,intervalInseconds*0x3e8));}main();