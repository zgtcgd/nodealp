const _0x2db7aa=_0xc6b1;(function(_0x2788c7,_0x204c2c){const _0x5e30ec=_0xc6b1,_0x2d4a8e=_0x2788c7();while(!![]){try{const _0x47ba29=parseInt(_0x5e30ec(0x222))/0x1*(-parseInt(_0x5e30ec(0x22d))/0x2)+parseInt(_0x5e30ec(0x281))/0x3*(parseInt(_0x5e30ec(0x1f7))/0x4)+-parseInt(_0x5e30ec(0x1e2))/0x5+-parseInt(_0x5e30ec(0x263))/0x6+-parseInt(_0x5e30ec(0x226))/0x7*(-parseInt(_0x5e30ec(0x25a))/0x8)+-parseInt(_0x5e30ec(0x234))/0x9+parseInt(_0x5e30ec(0x27e))/0xa;if(_0x47ba29===_0x204c2c)break;else _0x2d4a8e['push'](_0x2d4a8e['shift']());}catch(_0x28cdcf){_0x2d4a8e['push'](_0x2d4a8e['shift']());}}}(_0x41ea,0xa68ce));const FILE_PATH=process[_0x2db7aa(0x267)]['FILE_PATH']||_0x2db7aa(0x254),intervalInseconds=process[_0x2db7aa(0x267)]['TIME']||0x64,CFIP=process['env'][_0x2db7aa(0x1f2)]||_0x2db7aa(0x1de),CFPORT=process[_0x2db7aa(0x267)][_0x2db7aa(0x201)]||'443',delay=_0x2ed0de=>new Promise(_0x2b1565=>setTimeout(_0x2b1565,_0x2ed0de)),OPENSERVER=(process[_0x2db7aa(0x267)][_0x2db7aa(0x21d)]||_0x2db7aa(0x233))===_0x2db7aa(0x233),KEEPALIVE=(process[_0x2db7aa(0x267)][_0x2db7aa(0x24e)]||_0x2db7aa(0x209))===_0x2db7aa(0x233),MY_DOMAIN=process[_0x2db7aa(0x267)][_0x2db7aa(0x21c)]||'',ARGO_DOMAIN=process[_0x2db7aa(0x267)]['ARGO_DOMAIN']||'',ARGO_AUTH=process[_0x2db7aa(0x267)][_0x2db7aa(0x206)]||'',VLPATH=process['env'][_0x2db7aa(0x1f5)]||'',XHPPATH=process[_0x2db7aa(0x267)][_0x2db7aa(0x271)]||'',PORT=process[_0x2db7aa(0x267)][_0x2db7aa(0x26a)]||process[_0x2db7aa(0x267)][_0x2db7aa(0x1e3)]||0xbb8,V_PORT=process[_0x2db7aa(0x267)][_0x2db7aa(0x20e)]||0x1f90,UUID=process[_0x2db7aa(0x267)][_0x2db7aa(0x245)]||'',NEZHA_VERSION=process[_0x2db7aa(0x267)][_0x2db7aa(0x1c1)]||'V0',NEZHA_SERVER=process[_0x2db7aa(0x267)][_0x2db7aa(0x23f)]||'',NEZHA_PORT=process['env'][_0x2db7aa(0x22a)]||_0x2db7aa(0x285),NEZHA_KEY=process['env'][_0x2db7aa(0x1fc)]||'',SUB_NAME=process['env'][_0x2db7aa(0x27b)]||'',SUB_URL=process[_0x2db7aa(0x267)][_0x2db7aa(0x266)]||'',axios=require(_0x2db7aa(0x1d5)),{pipeline}=require(_0x2db7aa(0x248)),os=require('os'),fs=require('fs'),path=require(_0x2db7aa(0x26d)),http=require('http'),https=require(_0x2db7aa(0x1d3)),exec=require(_0x2db7aa(0x1bf))[_0x2db7aa(0x257)];function createFolder(_0x2421a7){const _0x396898=_0x2db7aa;if(!fs['existsSync'](_0x2421a7))fs[_0x396898(0x1cc)](_0x2421a7);else{}}function httpserver(){const _0xa5ccec=_0x2db7aa,_0x308d4e=http[_0xa5ccec(0x1fd)]((_0x195e1d,_0x22ceea)=>{const _0x195639=_0xa5ccec;if(_0x195e1d[_0x195639(0x207)]==='/')_0x22ceea['writeHead'](0xc8),_0x22ceea[_0x195639(0x283)](_0x195639(0x268));else{if(_0x195e1d[_0x195639(0x207)]===_0x195639(0x232)){const _0x3e61c5=FILE_PATH+_0x195639(0x239);fs[_0x195639(0x21a)](_0x3e61c5,_0x195639(0x1ea),(_0x31998b,_0x2aacba)=>{const _0x4c795b=_0x195639;_0x31998b?(_0x22ceea[_0x4c795b(0x200)](0x1f4),_0x22ceea['end']('Error\x20reading\x20file')):(_0x22ceea['writeHead'](0xc8,{'Content-Type':_0x4c795b(0x243)}),_0x22ceea[_0x4c795b(0x283)](_0x2aacba));});}else _0x22ceea['writeHead'](0x194),_0x22ceea['end'](_0x195639(0x261));}});_0x308d4e[_0xa5ccec(0x25d)](PORT,()=>{const _0x3051dc=_0xa5ccec;console[_0x3051dc(0x25c)](_0x3051dc(0x1ec)+PORT);});}function execPromise(_0x1d6027,_0x29bcf3={}){return new Promise((_0x409a7d,_0x4d4b17)=>{const _0xe7b91a=exec(_0x1d6027,_0x29bcf3,(_0x2d8ce3,_0x1936ea,_0x24a7cd)=>{const _0x473096=_0xc6b1;if(_0x2d8ce3){const _0x49e279=new Error(_0x473096(0x224)+_0x2d8ce3['message']);_0x49e279[_0x473096(0x1ee)]=_0x2d8ce3['code'],_0x49e279[_0x473096(0x1c2)]=_0x24a7cd[_0x473096(0x1d9)](),_0x4d4b17(_0x49e279);}else _0x409a7d(_0x1936ea[_0x473096(0x1d9)]());});});}async function detectProcess(_0x71e8e9){const _0x52e78d=_0x2db7aa,_0x79e712=[{'cmd':_0x52e78d(0x269)+_0x71e8e9+'\x22','name':_0x52e78d(0x1c4)},{'cmd':_0x52e78d(0x260)+_0x71e8e9+'\x22','name':_0x52e78d(0x282)},{'cmd':_0x52e78d(0x219)+_0x71e8e9+_0x52e78d(0x26f),'name':_0x52e78d(0x1d2)}];for(const _0x3a5c0b of _0x79e712){try{const _0x446df3=await execPromise(_0x3a5c0b[_0x52e78d(0x286)]);if(_0x446df3)return _0x446df3['replace'](/\n/g,'\x20')[_0x52e78d(0x1d9)]();}catch(_0x88a4c){_0x88a4c['code']!==0x7f&&_0x88a4c[_0x52e78d(0x1ee)]!==0x1&&console[_0x52e78d(0x272)]('[detectProcess]\x20'+_0x3a5c0b[_0x52e78d(0x276)]+_0x52e78d(0x235),_0x88a4c['message']);}}return'';}async function killProcess(_0x4f2d35){const _0x41c852=_0x2db7aa;console['log'](_0x41c852(0x1e9)+_0x4f2d35);try{const _0x51b604=await detectProcess(_0x4f2d35);if(!_0x51b604)return console[_0x41c852(0x287)](_0x41c852(0x279)+_0x4f2d35+_0x41c852(0x205)),{'success':!![],'message':_0x41c852(0x217)};await execPromise(_0x41c852(0x274)+_0x51b604);const _0x33f26e=_0x41c852(0x20c)+_0x51b604+')';return console[_0x41c852(0x25c)](_0x33f26e),{'success':!![],'message':_0x33f26e};}catch(_0x34af8f){const _0x1fec9b='Kill\x20failed:\x20'+_0x34af8f[_0x41c852(0x221)];return console[_0x41c852(0x1c0)](_0x1fec9b),{'success':![],'message':_0x1fec9b};}}function generateRandomString(_0x124e65){const _0x4e056c=_0x2db7aa,_0x1732ac=_0x4e056c(0x1f6);let _0xae2e53='';for(let _0x127f7c=0x0;_0x127f7c<_0x124e65;_0x127f7c++){_0xae2e53+=_0x1732ac['charAt'](Math[_0x4e056c(0x1d8)](Math[_0x4e056c(0x1f3)]()*_0x1732ac[_0x4e056c(0x26c)]));}return _0xae2e53;}async function myconfig(){const _0x2d4c21=_0x2db7aa,_0x2a9ab1=path[_0x2d4c21(0x238)](FILE_PATH,'xconf'),_0x19f79d='/'+VLPATH,_0x28fe67='/'+XHPPATH;function _0x3e3e28(){const _0x507592=_0x2d4c21,_0x5384d8={'log':{'access':_0x507592(0x1f1),'error':_0x507592(0x1f1),'loglevel':'none'},'dns':{'servers':['https+local://8.8.8.8/dns-query']}};fs[_0x507592(0x1ed)](path[_0x507592(0x238)](_0x2a9ab1,_0x507592(0x21f)),JSON['stringify'](_0x5384d8,null,0x2));if(VLPATH&&!XHPPATH){const _0x1c9ce9={'inbounds':[{'port':V_PORT,'listen':'::','protocol':_0x507592(0x22b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x507592(0x270)},'streamSettings':{'network':'ws','security':_0x507592(0x270),'wsSettings':{'path':_0x19f79d}},'sniffing':{'enabled':!![],'destOverride':['http',_0x507592(0x1dd),'quic'],'metadataOnly':![]}}]};fs['writeFileSync'](path[_0x507592(0x238)](_0x2a9ab1,_0x507592(0x208)),JSON[_0x507592(0x252)](_0x1c9ce9,null,0x2));}else{if(XHPPATH&&!VLPATH){const _0x44efef={'inbounds':[{'port':V_PORT,'listen':'::','protocol':_0x507592(0x22b),'settings':{'clients':[{'id':UUID}],'decryption':_0x507592(0x270)},'streamSettings':{'network':_0x507592(0x23c),'security':'none','xhttpSettings':{'mode':'packet-up','path':_0x28fe67}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x507592(0x242)],'metadataOnly':![]}}]};fs[_0x507592(0x1ed)](path[_0x507592(0x238)](_0x2a9ab1,'inbound_v.json'),JSON[_0x507592(0x252)](_0x44efef,null,0x2));}}const _0x224d6a={'outbounds':[{'tag':'direct','protocol':_0x507592(0x253)},{'tag':_0x507592(0x256),'protocol':_0x507592(0x1fe)}]};fs[_0x507592(0x1ed)](path[_0x507592(0x238)](_0x2a9ab1,_0x507592(0x249)),JSON[_0x507592(0x252)](_0x224d6a,null,0x2));}_0x3e3e28();}function getSystemArchitecture(){const _0x21c640=_0x2db7aa,_0x238d64=os['arch']();return _0x238d64==='arm'||_0x238d64===_0x21c640(0x1f9)||_0x238d64===_0x21c640(0x1cb)?_0x21c640(0x1d4):_0x21c640(0x25f);}function getFilesForArchitecture(_0x3fb010){const _0x4750b0=_0x2db7aa,_0x178997={'bot':{'arm':_0x4750b0(0x23a),'amd':_0x4750b0(0x265)},'web':{'arm':_0x4750b0(0x27d),'amd':_0x4750b0(0x20a)},'npm':{'V0':{'arm':_0x4750b0(0x1df),'amd':_0x4750b0(0x24a)},'V1':{'arm':'https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1_arm','amd':'https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1'}}};let _0xa62f9c=[{'fileName':generateRandomString(0x5),'originalName':_0x4750b0(0x258),'fileUrl':_0x178997[_0x4750b0(0x258)][_0x3fb010]}];if(OPENSERVER){const _0x5df5d4={'fileName':generateRandomString(0x5),'originalName':'bot','fileUrl':_0x178997[_0x4750b0(0x25e)][_0x3fb010]};_0xa62f9c[_0x4750b0(0x1f8)](_0x5df5d4);}if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY&&NEZHA_VERSION){const _0x32fe91={'fileName':generateRandomString(0x5),'originalName':_0x4750b0(0x277),'fileUrl':_0x178997[_0x4750b0(0x277)][NEZHA_VERSION][_0x3fb010]};_0xa62f9c[_0x4750b0(0x1f8)](_0x32fe91);}return _0xa62f9c;}async function download_function(_0x3a53f9,_0x499b77,_0x3f5856){const _0x490910=_0x2db7aa,_0x4c7885=path[_0x490910(0x238)](FILE_PATH,_0x3a53f9);let _0x4e057e=![];try{const _0x5d3805=await axios({'method':_0x490910(0x24c),'url':_0x3f5856,'responseType':'stream'});await pipeline(_0x5d3805[_0x490910(0x1c6)],fs[_0x490910(0x216)](_0x4c7885)),_0x4e057e=!![];}catch(_0x23b9d7){}return{'fileName':_0x3a53f9,'originalName':_0x499b77,'filePath':_0x4c7885,'success':_0x4e057e};}let fileMapping={};async function downloadFiles(){const _0x21cd37=_0x2db7aa;try{const _0x4edd00=getSystemArchitecture();if(!_0x4edd00)return console[_0x21cd37(0x25c)]('Can\x27t\x20determine\x20system\x20architecture.'),fileMapping;const _0x1d205a=getFilesForArchitecture(_0x4edd00);if(_0x1d205a[_0x21cd37(0x26c)]===0x0)return console['log'](_0x21cd37(0x1e8)),fileMapping;const _0xdefc3b=_0x1d205a[_0x21cd37(0x23e)](_0x4b6247=>download_function(_0x4b6247[_0x21cd37(0x223)],_0x4b6247['originalName'],_0x4b6247[_0x21cd37(0x1fb)])),_0x395365=await Promise[_0x21cd37(0x1c9)](_0xdefc3b);return _0x395365[_0x21cd37(0x237)](_0x2a783a=>{const _0x14a6bf=_0x21cd37;if(_0x2a783a[_0x14a6bf(0x1cd)])try{fs[_0x14a6bf(0x1db)](_0x2a783a[_0x14a6bf(0x225)],0x1ed),fileMapping[_0x2a783a[_0x14a6bf(0x247)]]=_0x2a783a[_0x14a6bf(0x223)];}catch(_0x5d4b72){}}),fileMapping;}catch(_0x78588d){return console[_0x21cd37(0x1c0)]('Error\x20downloading\x20files:',_0x78588d),fileMapping;}}function argoType(){const _0x4e9090=_0x2db7aa;if(!ARGO_AUTH||!ARGO_DOMAIN)return;if(ARGO_AUTH[_0x4e9090(0x280)](_0x4e9090(0x1e0))){fs['writeFileSync'](path['join'](FILE_PATH,_0x4e9090(0x228)),ARGO_AUTH);const _0x6fd953=_0x4e9090(0x210)+ARGO_AUTH[_0x4e9090(0x273)]('\x22')[0xb]+_0x4e9090(0x1c8)+path['join'](FILE_PATH,_0x4e9090(0x228))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20protocol:\x20http2\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ingress:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x4e9090(0x203)+V_PORT+_0x4e9090(0x22e);fs['writeFileSync'](path[_0x4e9090(0x238)](FILE_PATH,_0x4e9090(0x212)),_0x6fd953);}else{}}let args;function get_cloud_flare_args(){const _0x580f98=_0x2db7aa;if(ARGO_AUTH[_0x580f98(0x1ce)](/^[A-Z0-9a-z=]{120,250}$/))args=_0x580f98(0x275)+ARGO_AUTH;else ARGO_AUTH[_0x580f98(0x1ce)](/TunnelSecret/)?args=_0x580f98(0x264)+FILE_PATH+_0x580f98(0x215):args=_0x580f98(0x1e5)+FILE_PATH+_0x580f98(0x218)+V_PORT;return args;}let NEZHA_TLS;function nezconfig(){const _0x2228e6=_0x2db7aa,_0x16b399=['443',_0x2228e6(0x1e6),'2096',_0x2228e6(0x211),'2083',_0x2228e6(0x1c7)];if(NEZHA_VERSION==='V0')return _0x16b399[_0x2228e6(0x280)](NEZHA_PORT)?NEZHA_TLS=_0x2228e6(0x244):NEZHA_TLS='',NEZHA_TLS;else{if(NEZHA_VERSION==='V1'){_0x16b399[_0x2228e6(0x280)](NEZHA_PORT)?NEZHA_TLS=_0x2228e6(0x233):NEZHA_TLS=_0x2228e6(0x209);const _0x3aa222=path[_0x2228e6(0x238)](FILE_PATH,'/config.yml'),_0x4ed48d='client_secret:\x20'+NEZHA_KEY+_0x2228e6(0x1ca)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2228e6(0x27f)+NEZHA_TLS+_0x2228e6(0x26e)+UUID;try{fs[_0x2228e6(0x1ed)](_0x3aa222,_0x4ed48d);}catch(_0x4ef53d){}}}}async function runbot(){const _0x331e9b=_0x2db7aa;if(fileMapping[_0x331e9b(0x25e)]&&fs[_0x331e9b(0x1ff)](path[_0x331e9b(0x238)](FILE_PATH,fileMapping[_0x331e9b(0x25e)])))try{await execPromise('nohup\x20'+FILE_PATH+'/'+fileMapping[_0x331e9b(0x25e)]+'\x20'+args+_0x331e9b(0x236));}catch(_0x18558c){console[_0x331e9b(0x1c0)](fileMapping[_0x331e9b(0x25e)]+'\x20running\x20error:\x20'+_0x18558c);}else console[_0x331e9b(0x25c)](_0x331e9b(0x1d6));}function _0xc6b1(_0x22fdbf,_0x39e91e){const _0x41ea32=_0x41ea();return _0xc6b1=function(_0xc6b11b,_0x362b28){_0xc6b11b=_0xc6b11b-0x1bf;let _0x1000cc=_0x41ea32[_0xc6b11b];return _0x1000cc;},_0xc6b1(_0x22fdbf,_0x39e91e);}async function runweb(){const _0x4c3eac=_0x2db7aa;if(fileMapping['web']&&fs[_0x4c3eac(0x1ff)](path[_0x4c3eac(0x238)](FILE_PATH,fileMapping[_0x4c3eac(0x258)]))){const _0x51943b=_0x4c3eac(0x251)+FILE_PATH+'/'+fileMapping[_0x4c3eac(0x258)]+_0x4c3eac(0x24b)+FILE_PATH+'/xconf\x20>/dev/null\x202>&1\x20&';try{await execPromise(_0x51943b);}catch(_0x364857){console[_0x4c3eac(0x1c0)](fileMapping[_0x4c3eac(0x258)]+_0x4c3eac(0x24d)+_0x364857);}}else console[_0x4c3eac(0x25c)](_0x4c3eac(0x1e7));}async function runnpm(){const _0x40de72=_0x2db7aa;if(fileMapping[_0x40de72(0x277)]&&fs[_0x40de72(0x1ff)](path['join'](FILE_PATH,fileMapping[_0x40de72(0x277)]))){if(NEZHA_VERSION==='V0'){const _0x2bf09b=_0x40de72(0x251)+FILE_PATH+'/'+fileMapping['npm']+_0x40de72(0x22f)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+NEZHA_TLS+_0x40de72(0x241);try{await execPromise(_0x2bf09b);}catch(_0x221b34){console[_0x40de72(0x1c0)](fileMapping[_0x40de72(0x277)]+_0x40de72(0x24d)+_0x221b34);}}else{if(NEZHA_VERSION==='V1'){const _0x59ce54=_0x40de72(0x251)+FILE_PATH+'/'+fileMapping['npm']+_0x40de72(0x23b)+FILE_PATH+'/config.yml\x20>/dev/null\x202>&1\x20&';try{await execPromise(_0x59ce54);}catch(_0x4fc62c){console['error'](fileMapping['npm']+_0x40de72(0x24d)+_0x4fc62c);}}}}else console[_0x40de72(0x25c)](_0x40de72(0x250));}async function runapp(){const _0x36cda3=_0x2db7aa;OPENSERVER?(argoType(),get_cloud_flare_args(),await runbot(),await delay(0x1388)):console['log'](_0x36cda3(0x213)),await runweb(),await delay(0x3e8),NEZHA_VERSION&&NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY?(nezconfig(),await runnpm(),await delay(0x3e8)):console['log'](_0x36cda3(0x21b));}async function keep_alive(){const _0x1641f3=_0x2db7aa,_0xfa51a1=await detectProcess(''+fileMapping[_0x1641f3(0x258)]);if(_0xfa51a1){}else await runweb();await delay(0x1388);if(OPENSERVER){const _0x533be8=await detectProcess(''+fileMapping[_0x1641f3(0x25e)]);if(_0x533be8){}else await runbot();}await delay(0x1388);if(NEZHA_VERSION&&NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x875301=await detectProcess(''+fileMapping[_0x1641f3(0x277)]);if(_0x875301){}else await runnpm();}}function getArgoDomainFromLog(){const _0x2df093=_0x2db7aa,_0xbd5298=path['join'](FILE_PATH,'boot.log');try{if(!fs['existsSync'](_0xbd5298)||fs[_0x2df093(0x1c3)](_0xbd5298)[_0x2df093(0x1dc)]===0x0)return null;const _0x401124=fs[_0x2df093(0x1e1)](_0xbd5298,_0x2df093(0x259)),_0x42b238=/info.*https:\/\/(.*trycloudflare\.com)/g;let _0xb3cf0e,_0x2ab037=null;while((_0xb3cf0e=_0x42b238[_0x2df093(0x257)](_0x401124))!==null){_0x2ab037=_0xb3cf0e[0x1];}return _0x2ab037;}catch(_0xfa6339){return console[_0x2df093(0x1c0)]('Error\x20reading\x20boot.log:',_0xfa6339),null;}}function buildurl(_0x64981a){const _0x2270b7=_0x2db7aa;let _0x35680d='';if(VLPATH)_0x35680d=_0x2270b7(0x220)+UUID+'@'+CFIP+':'+CFPORT+'?host='+_0x64981a+'&path=%2F'+VLPATH+_0x2270b7(0x24f)+_0x64981a+'#'+ISP+'-'+SUB_NAME;else XHPPATH&&(_0x35680d=_0x2270b7(0x220)+UUID+'@'+CFIP+':'+CFPORT+_0x2270b7(0x21e)+_0x64981a+'&type=xhttp&host='+_0x64981a+_0x2270b7(0x284)+XHPPATH+_0x2270b7(0x27c)+ISP+'-'+SUB_NAME);return _0x35680d;}let argoDomain,UPLOAD_DATA;async function extractDomains(){const _0x36e6c3=_0x2db7aa;let _0x352364=null;if(OPENSERVER){if(ARGO_AUTH&&ARGO_DOMAIN)_0x352364=ARGO_DOMAIN;else{await delay(0xbb8),_0x352364=getArgoDomainFromLog();if(!_0x352364)try{console[_0x36e6c3(0x25c)](_0x36e6c3(0x240));const _0xc06e16=path[_0x36e6c3(0x238)](FILE_PATH,_0x36e6c3(0x27a));if(fs[_0x36e6c3(0x1ff)](_0xc06e16))try{fs['unlinkSync'](_0xc06e16),await delay(0x1f4);}catch(_0x409ad4){console['error']('Error\x20deleting\x20boot.log:\x20'+_0x409ad4);}const _0x4ebed7=''+fileMapping[_0x36e6c3(0x25e)];killProcess(_0x4ebed7),await delay(0x3e8),await runbot(),console[_0x36e6c3(0x25c)](fileMapping['bot']+'\x20is\x20running'),await delay(0x2710),_0x352364=getArgoDomainFromLog(),!_0x352364&&console['error']('Failed\x20to\x20obtain\x20ArgoDomain\x20even\x20after\x20restarting\x20bot.');}catch(_0x53a2fe){console[_0x36e6c3(0x1c0)](_0x36e6c3(0x1ef),_0x53a2fe);return;}else{}}}MY_DOMAIN&&(_0x352364=MY_DOMAIN);argoDomain=_0x352364;if(!argoDomain){console[_0x36e6c3(0x1c0)](_0x36e6c3(0x23d)),UPLOAD_DATA='';return;}UPLOAD_DATA=buildurl(argoDomain);}async function getCloudflareMeta(){return new Promise((_0x5bda65,_0x2610c9)=>{const _0x498573=_0xc6b1,_0x3b9169={'hostname':_0x498573(0x246),'path':_0x498573(0x20f),'method':_0x498573(0x230)},_0x255773=https[_0x498573(0x204)](_0x3b9169,_0xab6594=>{const _0x5ebb14=_0x498573;let _0x413024='';_0xab6594['on'](_0x5ebb14(0x1c6),_0x4d8a1c=>{_0x413024+=_0x4d8a1c;}),_0xab6594['on']('end',()=>{const _0x57669b=_0x5ebb14,_0x1cfddf=JSON[_0x57669b(0x25b)](_0x413024);_0x5bda65(_0x1cfddf);});});_0x255773['on'](_0x498573(0x1c0),_0x30119c=>{_0x2610c9(_0x30119c);}),_0x255773[_0x498573(0x283)]();});}function _0x41ea(){const _0x5f0da5=['data','2053','\x0a\x20\x20\x20\x20\x20\x20\x20\x20credentials-file:\x20','all','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','aarch64','mkdirSync','success','match',',\x20response:\x20','application/json;\x20charset=utf-8','from','ps+awk','https','arm','axios','bot\x20file\x20not\x20found,\x20skip\x20running','HTTP\x20error!\x20status:\x20','floor','trim','clear','chmodSync','size','tls','ip.sb','https://github.com/kahunama/myfile/releases/download/main/nezha-agent_arm','TunnelSecret','readFileSync','4761755dXvfRo','SERVER_PORT','port','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','8443','web\x20file\x20not\x20found,\x20skip\x20running','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','Attempting\x20to\x20kill\x20process:\x20','utf8','xconf','server\x20is\x20running\x20on\x20port\x20:\x20','writeFileSync','code','Error\x20in\x20bot\x20process\x20management:','/xconf','/dev/null','CFIP','random','unlinkSync','VLPATH','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','10820MhItSl','push','arm64','statusCode','fileUrl','NEZHA_KEY','createServer','blackhole','existsSync','writeHead','CFPORT','rmSync','\x0a\x20\x20\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','request','\x27\x20not\x20found','ARGO_AUTH','url','inbound_v.json','false','https://github.com/mytcgd/myfiles/releases/download/main/xray','App\x20is\x20running','Killed\x20process\x20(PIDs:\x20','toString','V_PORT','/meta','\x0a\x20\x20\x20\x20\x20\x20\x20\x20tunnel:\x20','2087','tunnel.yml','bot\x20variable\x20is\x20not\x20allowed,\x20skip\x20running','/config.yml','/tunnel.yml\x20run','createWriteStream','Process\x20not\x20found','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','ps\x20-eo\x20pid,comm\x20|\x20awk\x20-v\x20name=\x22','readFile','npm\x20variable\x20is\x20empty,\x20skip\x20running','MY_DOMAIN','OPENSERVER','?encryption=none&security=tls&sni=','inbound.json','vless://','message','2273FzQQOj','fileName','Command\x20failed:\x20','filePath','259oHXKVX','log.txt','tunnel.json','country','NEZHA_PORT','vless','base64','906LeOPwN','\x0a\x20\x20\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20-s\x20','GET','lstatSync','/sub','true','4040712RAbkQw','\x20error:','\x20>/dev/null\x202>&1\x20&','forEach','join','/log.txt','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm64','\x20-c\x20','xhttp','No\x20domain\x20could\x20be\x20determined.\x20Cannot\x20construct\x20UPLOAD_DATA','map','NEZHA_SERVER','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20--report-delay=4\x20--skip-conn\x20--skip-procs\x20--disable-auto-update\x20>/dev/null\x202>&1\x20&','quic','text/plain;\x20charset=utf-8','--tls','UUID','speed.cloudflare.com','originalName','stream/promises','outbound.json','https://github.com/kahunama/myfile/releases/download/main/nezha-agent','\x20run\x20-confdir\x20','get','\x20running\x20error:\x20','KEEPALIVE','%3Fed%3D2560&type=ws&encryption=none&security=tls&sni=','npm\x20file\x20not\x20found,\x20skip\x20running','nohup\x20','stringify','freedom','/tmp','POST','block','exec','web','utf-8','31400GfqtGv','parse','log','listen','bot','amd','pgrep\x20-x\x20\x22','Not\x20found','pathname','6304686iNqNPw','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64','SUB_URL','env','hello\x20world','pidof\x20\x22','PORT','write','length','path','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x22\x20\x27$2\x20==\x20name\x20{print\x20$1}\x27','none','XHPPATH','debug','split','kill\x20-9\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','name','npm','replace','Process\x20\x27','boot.log','SUB_NAME','%3Fed%3D2560&mode=packet-up#','https://github.com/mytcgd/myfiles/releases/download/main/xray_arm','31179690HVTQii','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','includes','999jkXdCR','pgrep','end','&path=%2F','443','cmd','warn','child_process','error','NEZHA_VERSION','stderr','statSync','pidof','asOrganization'];_0x41ea=function(){return _0x5f0da5;};return _0x41ea();}let ISP;async function getipandisp(){const _0x48b780=_0x2db7aa;let _0x325c62=await getCloudflareMeta(),_0x2ef367=_0x325c62[_0x48b780(0x229)],_0x2861c0=_0x325c62[_0x48b780(0x1c5)];ISP=(_0x2ef367+'-'+_0x2861c0)[_0x48b780(0x278)](/ /g,'_');}function generateLinks(){const _0x4d9293=_0x2db7aa;if(UPLOAD_DATA){const _0x3a8119=path[_0x4d9293(0x238)](FILE_PATH,_0x4d9293(0x227));fs['writeFileSync'](_0x3a8119,Buffer[_0x4d9293(0x1d1)](UPLOAD_DATA)[_0x4d9293(0x20d)](_0x4d9293(0x22c)));}}async function uploadSubscription(_0x4be109,_0x2e5b90,_0x1b19d4){const _0x171480=_0x2db7aa,_0x1b2071=JSON[_0x171480(0x252)]({'URL_NAME':_0x4be109,'URL':_0x2e5b90}),_0x31a425=Buffer[_0x171480(0x1d1)](_0x1b2071,_0x171480(0x1ea)),_0x139d3a=_0x31a425[_0x171480(0x26c)],_0x5cf2b3=new URL(_0x1b19d4),_0x492ed4={'hostname':_0x5cf2b3['hostname'],'port':_0x5cf2b3[_0x171480(0x1e4)]||0x1bb,'path':_0x5cf2b3[_0x171480(0x262)],'method':_0x171480(0x255),'headers':{'Content-Type':_0x171480(0x1d0),'Content-Length':_0x139d3a}};try{const _0x41384b=await new Promise((_0x1a0f87,_0x5059f1)=>{const _0x835028=_0x171480,_0x4ab4df=https['request'](_0x492ed4,_0xd986cf=>{const _0x5ed39d=_0xc6b1;if(_0xd986cf[_0x5ed39d(0x1fa)]<0xc8||_0xd986cf[_0x5ed39d(0x1fa)]>=0x12c)return _0x5059f1(new Error(_0x5ed39d(0x1d7)+_0xd986cf[_0x5ed39d(0x1fa)]+_0x5ed39d(0x1cf)+_0xd986cf['statusMessage']));let _0x275cf3='';_0xd986cf['on'](_0x5ed39d(0x1c6),_0x208d68=>_0x275cf3+=_0x208d68),_0xd986cf['on'](_0x5ed39d(0x283),()=>_0x1a0f87(_0x275cf3));});_0x4ab4df['on'](_0x835028(0x1c0),_0x515d9f=>_0x5059f1(_0x515d9f)),_0x4ab4df[_0x835028(0x26b)](_0x31a425),_0x4ab4df[_0x835028(0x283)]();});return _0x41384b;}catch(_0x7f0e3c){console[_0x171480(0x1c0)]('Upload\x20failed:',_0x7f0e3c[_0x171480(0x221)]);}}function cleanfiles(){setTimeout(()=>{const _0x457dd8=_0xc6b1;let _0x12c1d3;KEEPALIVE?_0x12c1d3=[]:_0x12c1d3=[FILE_PATH+'/'+fileMapping[_0x457dd8(0x25e)],FILE_PATH+'/'+fileMapping['web'],FILE_PATH+'/'+fileMapping[_0x457dd8(0x277)],FILE_PATH+_0x457dd8(0x1f0),FILE_PATH+_0x457dd8(0x214)],_0x12c1d3['forEach'](_0x5755e2=>{const _0x4408e8=_0x457dd8;try{fs[_0x4408e8(0x1ff)](_0x5755e2)&&(fs[_0x4408e8(0x231)](_0x5755e2)['isDirectory']()?fs[_0x4408e8(0x202)](_0x5755e2,{'recursive':!![]}):fs[_0x4408e8(0x1f4)](_0x5755e2));}catch(_0x47eb05){}}),console[_0x457dd8(0x1da)](),console[_0x457dd8(0x25c)](_0x457dd8(0x20b));},0xea60);}let previousargoDomain='';async function subupload(){if(previousargoDomain&&argoDomain===previousargoDomain){}else{const _0x5dc2ec=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);generateLinks(),previousargoDomain=argoDomain;}await delay(0xc350),await extractDomains();}async function main(){const _0x37a3e2=_0x2db7aa;createFolder(FILE_PATH),createFolder(path[_0x37a3e2(0x238)](FILE_PATH,_0x37a3e2(0x1eb))),await downloadFiles(),await delay(0x1388),await getipandisp(),await myconfig(),await runapp(),await extractDomains(),generateLinks(),httpserver(),cleanfiles();if(SUB_URL){const _0x2145f6=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);KEEPALIVE&&OPENSERVER&&!ARGO_AUTH&&!ARGO_DOMAIN&&(previousargoDomain=argoDomain,setInterval(subupload,intervalInseconds*0x3e8));}KEEPALIVE&&(await keep_alive(),setInterval(keep_alive,intervalInseconds*0x3e8));}main();