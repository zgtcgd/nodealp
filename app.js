const _0x50fd0c=_0x5a36;(function(_0x310aae,_0xb5594d){const _0x3c28b9=_0x5a36,_0x9f3965=_0x310aae();while(!![]){try{const _0x498bb3=parseInt(_0x3c28b9(0x21d))/0x1*(-parseInt(_0x3c28b9(0x2a8))/0x2)+-parseInt(_0x3c28b9(0x231))/0x3*(-parseInt(_0x3c28b9(0x1ec))/0x4)+parseInt(_0x3c28b9(0x257))/0x5+-parseInt(_0x3c28b9(0x29c))/0x6*(parseInt(_0x3c28b9(0x225))/0x7)+parseInt(_0x3c28b9(0x233))/0x8*(-parseInt(_0x3c28b9(0x200))/0x9)+-parseInt(_0x3c28b9(0x250))/0xa+-parseInt(_0x3c28b9(0x24b))/0xb*(-parseInt(_0x3c28b9(0x2aa))/0xc);if(_0x498bb3===_0xb5594d)break;else _0x9f3965['push'](_0x9f3965['shift']());}catch(_0x59014b){_0x9f3965['push'](_0x9f3965['shift']());}}}(_0x1105,0x2097d));const FILE_PATH=process[_0x50fd0c(0x25c)][_0x50fd0c(0x22d)]||_0x50fd0c(0x281),intervalInseconds=process['env'][_0x50fd0c(0x220)]||0x64,CFIP=process[_0x50fd0c(0x25c)]['CFIP']||_0x50fd0c(0x223),CFPORT=process['env'][_0x50fd0c(0x28c)]||_0x50fd0c(0x29b),delay=_0x1d4234=>new Promise(_0x440945=>setTimeout(_0x440945,_0x1d4234)),OPENSERVER=process[_0x50fd0c(0x25c)][_0x50fd0c(0x21b)]||!![],KEEPALIVE=process[_0x50fd0c(0x25c)][_0x50fd0c(0x202)]||![],MY_DOMAIN=process['env'][_0x50fd0c(0x249)]||'',ARGO_DOMAIN=process[_0x50fd0c(0x25c)][_0x50fd0c(0x296)]||'',ARGO_AUTH=process[_0x50fd0c(0x25c)][_0x50fd0c(0x20f)]||'',VLPATH=process['env']['VLPATH']||'',XHPPATH=process['env'][_0x50fd0c(0x1f3)]||'',PORT=process[_0x50fd0c(0x25c)][_0x50fd0c(0x289)]||process[_0x50fd0c(0x25c)][_0x50fd0c(0x21c)]||0xbb8,V_PORT=process[_0x50fd0c(0x25c)][_0x50fd0c(0x1f4)]||0x1f90,UUID=process[_0x50fd0c(0x25c)][_0x50fd0c(0x25f)]||'',NEZHA_VERSION=process[_0x50fd0c(0x25c)]['NEZHA_VERSION']||'V0',NEZHA_SERVER=process[_0x50fd0c(0x25c)][_0x50fd0c(0x26d)]||'',NEZHA_PORT=process[_0x50fd0c(0x25c)][_0x50fd0c(0x1f6)]||_0x50fd0c(0x29b),NEZHA_KEY=process[_0x50fd0c(0x25c)][_0x50fd0c(0x29e)]||'',SUB_NAME=process[_0x50fd0c(0x25c)][_0x50fd0c(0x23a)]||'',SUB_URL=process['env']['SUB_URL']||'',axios=require('axios'),{pipeline}=require('stream/promises'),os=require('os'),fs=require('fs'),path=require(_0x50fd0c(0x282)),http=require(_0x50fd0c(0x1fa)),https=require('https'),exec=require(_0x50fd0c(0x273))['exec'];function _0x1105(){const _0x306ddd=['filePath','/config.yml','/tmp','path','%3Fed%3D2560&mode=packet-up#','stderr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20credentials-file:\x20','vless://','https://github.com/kahunama/myfile/releases/download/main/nezha-agent_arm','https+local://8.8.8.8/dns-query','PORT','bot\x20file\x20not\x20found,\x20skip\x20running','2083','CFPORT','debug','https://github.com/mytcgd/myfiles/releases/download/main/xray_arm','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64','toString','size','Killed\x20process\x20(PIDs:\x20','xhttp','web','/dev/null','ARGO_DOMAIN','code','get','success','npm\x20variable\x20is\x20empty,\x20skip\x20running','443','12BnSGIZ','Attempting\x20to\x20kill\x20process:\x20','NEZHA_KEY','\x20(renamed\x20to\x20','/xconf\x20>/dev/null\x202>&1\x20&','\x20-c\x20','npm','\x20>/dev/null\x202>&1\x20&','https://github.com/mytcgd/myfiles/releases/download/main/xray','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','stream','No\x20domain\x20could\x20be\x20determined.\x20Cannot\x20construct\x20UPLOAD_DATA','10VLjlhR','end','571344LFErus','all','Kill\x20failed:\x20','readFile','data','random','fileUrl','\x27\x20not\x20found','utf-8','TunnelSecret','quic','floor','Not\x20found','map','175204kJIbRV','\x20deleted','web\x20file\x20not\x20found,\x20skip\x20running','unlinkSync','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1_arm','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','XHPPATH','V_PORT','split','NEZHA_PORT','port','\x20-p\x20','pgrep\x20-x\x20\x22','http','writeFileSync','existsSync','kill\x20-9\x20','App\x20is\x20running','writeHead','12240RumORe','chmodSync','KEEPALIVE','name','application/json','exec','push','lstatSync','Process\x20\x27','text/plain;\x20charset=utf-8','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','listen','none','%3Fed%3D2560&type=ws&encryption=none&security=tls&sni=','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1','ARGO_AUTH','freedom','true','arm','stringify','\x20run\x20-confdir\x20','vless','/config.yml\x20>/dev/null\x202>&1\x20&','&type=xhttp&host=','nohup\x20','xconf','Error\x20deleting\x20boot.log:\x20','OPENSERVER','SERVER_PORT','18376GrApXs','match','block','TIME','hello\x20world','Empowerment\x20success\x20for\x20','ip.sb','\x20running\x20error:\x20','597282Jkpjkt','Can\x27t\x20determine\x20system\x20architecture.','speed.cloudflare.com','includes','config.yml\x20file\x20created\x20and\x20written\x20successfully.','https://github.com/kahunama/myfile/releases/download/main/nezha-agent','error','statSync','FILE_PATH','tls','join','ps\x20-eo\x20pid,comm\x20|\x20awk\x20-v\x20name=\x22','6QZcYXZ','base64','1192LFsfaV','inbound.json','blackhole','false','warn','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','packet-up','SUB_NAME','pathname','\x20already\x20exists','boot.log','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','Failed\x20to\x20obtain\x20ArgoDomain\x20even\x20after\x20restarting\x20bot.','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','pgrep','Error\x20reading\x20boot.log:','ps+awk','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm64','pidof\x20\x22','arm64','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','trim','MY_DOMAIN','--tls','154rSBILm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20protocol:\x20http2\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ingress:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20hostname:\x20','write','log','createServer','1679520saytec','upload\x20failed','\x20runs\x20again\x20!','&path=%2F','request','mkdirSync','cmd','62275SAyeCG','readFileSync','2096','/xconf','Error\x20in\x20bot\x20process\x20management:','env','Error\x20downloading\x20files:','\x20--report-delay=4\x20--skip-conn\x20--skip-procs\x20--disable-auto-update\x20>/dev/null\x202>&1\x20&','UUID','rmSync','direct','?host=','2087','/tunnel.yml\x20run','length','forEach','unable\x20to\x20rm\x20',')\x20failed:\x20','message','\x22\x20\x27$2\x20==\x20name\x20{print\x20$1}\x27','bot\x20is\x20not\x20allowed,\x20skip\x20running','\x20is\x20running','NEZHA_SERVER',':\x20755','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','inbound_v.json','log.txt','bot','child_process','outbound.json','pidof','aarch64','Error\x20creating\x20or\x20writing\x20config.yml\x20file:','fileName','utf8','Empowerment\x20failed\x20for\x20','?encryption=none&security=tls&sni=','2053','statusCode','server\x20is\x20running\x20on\x20port\x20:\x20'];_0x1105=function(){return _0x306ddd;};return _0x1105();}function cleanupOldFiles(){const _0x4a619f=_0x50fd0c;try{fs[_0x4a619f(0x1fc)](path[_0x4a619f(0x22f)](FILE_PATH))?(fs[_0x4a619f(0x260)](path[_0x4a619f(0x22f)](FILE_PATH),{'recursive':!![]}),console[_0x4a619f(0x24e)](FILE_PATH+_0x4a619f(0x1ed))):console[_0x4a619f(0x24e)](FILE_PATH+'\x20not\x20created');}catch(_0x2e538b){console['log'](_0x4a619f(0x267)+FILE_PATH);}}function createFolder(_0x43bfe0){const _0x800f2a=_0x50fd0c;!fs[_0x800f2a(0x1fc)](_0x43bfe0)?(fs[_0x800f2a(0x255)](_0x43bfe0),console[_0x800f2a(0x24e)](_0x43bfe0+'\x20is\x20created')):console[_0x800f2a(0x24e)](_0x43bfe0+_0x800f2a(0x23c));}function httpserver(){const _0x9bccd1=_0x50fd0c,_0x1cc227=http[_0x9bccd1(0x24f)]((_0x5c8b12,_0x2ec7cc)=>{const _0xa38201=_0x9bccd1;if(_0x5c8b12['url']==='/')_0x2ec7cc[_0xa38201(0x1ff)](0xc8),_0x2ec7cc[_0xa38201(0x2a9)](_0xa38201(0x221));else{if(_0x5c8b12['url']==='/sub'){const _0x13cb45=FILE_PATH+'/log.txt';fs[_0xa38201(0x2ad)](_0x13cb45,_0xa38201(0x279),(_0x1cbdd1,_0x23df21)=>{const _0x5a6c24=_0xa38201;_0x1cbdd1?(_0x2ec7cc['writeHead'](0x1f4),_0x2ec7cc[_0x5a6c24(0x2a9)]('Error\x20reading\x20file')):(_0x2ec7cc[_0x5a6c24(0x1ff)](0xc8,{'Content-Type':_0x5a6c24(0x209)}),_0x2ec7cc[_0x5a6c24(0x2a9)](_0x23df21));});}else _0x2ec7cc[_0xa38201(0x1ff)](0x194),_0x2ec7cc[_0xa38201(0x2a9)](_0xa38201(0x1ea));}});_0x1cc227[_0x9bccd1(0x20b)](PORT,()=>{const _0x35e84d=_0x9bccd1;console[_0x35e84d(0x24e)](_0x35e84d(0x27e)+PORT);});}function execPromise(_0x127047,_0x59c07c={}){return new Promise((_0x32413e,_0x5e989f)=>{const _0x4455df=exec(_0x127047,_0x59c07c,(_0x37cda0,_0x4302b9,_0x349b95)=>{const _0x393d42=_0x5a36;if(_0x37cda0){const _0x50c0e=new Error('Command\x20failed:\x20'+_0x37cda0[_0x393d42(0x269)]);_0x50c0e[_0x393d42(0x297)]=_0x37cda0[_0x393d42(0x297)],_0x50c0e[_0x393d42(0x284)]=_0x349b95['trim'](),_0x5e989f(_0x50c0e);}else _0x32413e(_0x4302b9[_0x393d42(0x248)]());});});}async function detectProcess(_0x57ceae){const _0x25618a=_0x50fd0c,_0x21f158=[{'cmd':_0x25618a(0x245)+_0x57ceae+'\x22','name':_0x25618a(0x275)},{'cmd':_0x25618a(0x1f9)+_0x57ceae+'\x22','name':_0x25618a(0x241)},{'cmd':_0x25618a(0x230)+_0x57ceae+_0x25618a(0x26a),'name':_0x25618a(0x243)}];for(const _0x27fdfa of _0x21f158){try{const _0x594d56=await execPromise(_0x27fdfa[_0x25618a(0x256)]);if(_0x594d56)return _0x594d56['replace'](/\n/g,'\x20')[_0x25618a(0x248)]();}catch(_0x252083){_0x252083[_0x25618a(0x297)]!==0x7f&&_0x252083['code']!==0x1&&console[_0x25618a(0x28d)]('[detectProcess]\x20'+_0x27fdfa[_0x25618a(0x203)]+'\x20error:',_0x252083['message']);}}return'';}async function killProcess(_0x195c32){const _0xc3b28d=_0x50fd0c;console[_0xc3b28d(0x24e)](_0xc3b28d(0x29d)+_0x195c32);try{const _0x53b8ac=await detectProcess(_0x195c32);if(!_0x53b8ac)return console['warn'](_0xc3b28d(0x208)+_0x195c32+_0xc3b28d(0x2b1)),{'success':!![],'message':'Process\x20not\x20found'};await execPromise(_0xc3b28d(0x1fd)+_0x53b8ac);const _0x4d961a=_0xc3b28d(0x292)+_0x53b8ac+')';return console[_0xc3b28d(0x24e)](_0x4d961a),{'success':!![],'message':_0x4d961a};}catch(_0x403144){const _0x235657=_0xc3b28d(0x2ac)+_0x403144[_0xc3b28d(0x269)];return console[_0xc3b28d(0x22b)](_0x235657),{'success':![],'message':_0x235657};}}function generateRandomString(_0x75e345){const _0x320b85=_0x50fd0c,_0x1455f8=_0x320b85(0x23e);let _0x26ea0b='';for(let _0xd31500=0x0;_0xd31500<_0x75e345;_0xd31500++){_0x26ea0b+=_0x1455f8['charAt'](Math[_0x320b85(0x1e9)](Math[_0x320b85(0x2af)]()*_0x1455f8[_0x320b85(0x265)]));}return _0x26ea0b;}async function myconfig(){const _0x282704=_0x50fd0c,_0x3cd137=path['join'](FILE_PATH,_0x282704(0x219)),_0x93db24='/'+VLPATH,_0x5603dc='/'+XHPPATH;function _0x18e85f(){const _0x37cf81=_0x282704,_0x51c4e2={'log':{'access':_0x37cf81(0x295),'error':_0x37cf81(0x295),'loglevel':'none'},'dns':{'servers':[_0x37cf81(0x288)]}};fs[_0x37cf81(0x1fb)](path['join'](_0x3cd137,_0x37cf81(0x234)),JSON[_0x37cf81(0x213)](_0x51c4e2,null,0x2));if(VLPATH&&!XHPPATH){const _0x3cb92f={'inbounds':[{'port':V_PORT,'listen':'::','protocol':_0x37cf81(0x215),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x37cf81(0x20c)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x93db24}},'sniffing':{'enabled':!![],'destOverride':['http',_0x37cf81(0x22e),_0x37cf81(0x2b4)],'metadataOnly':![]}}]};fs[_0x37cf81(0x1fb)](path[_0x37cf81(0x22f)](_0x3cd137,_0x37cf81(0x270)),JSON['stringify'](_0x3cb92f,null,0x2));}else{if(XHPPATH&&!VLPATH){const _0x52f446={'inbounds':[{'port':V_PORT,'listen':'::','protocol':_0x37cf81(0x215),'settings':{'clients':[{'id':UUID}],'decryption':_0x37cf81(0x20c)},'streamSettings':{'network':_0x37cf81(0x293),'security':_0x37cf81(0x20c),'xhttpSettings':{'mode':_0x37cf81(0x239),'path':_0x5603dc}},'sniffing':{'enabled':!![],'destOverride':[_0x37cf81(0x1fa),_0x37cf81(0x22e),_0x37cf81(0x2b4)],'metadataOnly':![]}}]};fs[_0x37cf81(0x1fb)](path[_0x37cf81(0x22f)](_0x3cd137,_0x37cf81(0x270)),JSON[_0x37cf81(0x213)](_0x52f446,null,0x2));}}const _0x269753={'outbounds':[{'tag':_0x37cf81(0x261),'protocol':_0x37cf81(0x210)},{'tag':_0x37cf81(0x21f),'protocol':_0x37cf81(0x235)}]};fs[_0x37cf81(0x1fb)](path[_0x37cf81(0x22f)](_0x3cd137,_0x37cf81(0x274)),JSON['stringify'](_0x269753,null,0x2));}_0x18e85f();}function getSystemArchitecture(){const _0x2bbf3e=_0x50fd0c,_0x1c2eab=os['arch']();return _0x1c2eab===_0x2bbf3e(0x212)||_0x1c2eab===_0x2bbf3e(0x246)||_0x1c2eab===_0x2bbf3e(0x276)?_0x2bbf3e(0x212):'amd';}function getFilesForArchitecture(_0x369fd1){const _0x33aad1=_0x50fd0c,_0x374eee={'bot':{'arm':_0x33aad1(0x244),'amd':_0x33aad1(0x28f)},'web':{'arm':_0x33aad1(0x28e),'amd':_0x33aad1(0x2a4)},'npm':{'V0':{'arm':_0x33aad1(0x287),'amd':_0x33aad1(0x22a)},'V1':{'arm':_0x33aad1(0x1f1),'amd':_0x33aad1(0x20e)}}};let _0x37977=[{'fileName':generateRandomString(0x5),'originalName':_0x33aad1(0x294),'fileUrl':_0x374eee[_0x33aad1(0x294)][_0x369fd1]}];if(OPENSERVER==!![]){const _0x31e29c={'fileName':generateRandomString(0x5),'originalName':_0x33aad1(0x272),'fileUrl':_0x374eee[_0x33aad1(0x272)][_0x369fd1]};_0x37977[_0x33aad1(0x206)](_0x31e29c);}if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY&&NEZHA_VERSION){const _0x35dcc0={'fileName':generateRandomString(0x5),'originalName':'npm','fileUrl':_0x374eee[_0x33aad1(0x2a2)][NEZHA_VERSION][_0x369fd1]};_0x37977[_0x33aad1(0x206)](_0x35dcc0);}return _0x37977;}async function download_function(_0x2d5c5d,_0x192af6,_0x3d4afd){const _0x39a915=_0x50fd0c,_0x2f5ab8=path[_0x39a915(0x22f)](FILE_PATH,_0x2d5c5d);let _0x1d1ccf=![];try{const _0xea4bf0=await axios({'method':_0x39a915(0x298),'url':_0x3d4afd,'responseType':_0x39a915(0x2a6)});await pipeline(_0xea4bf0['data'],fs['createWriteStream'](_0x2f5ab8)),console['log']('Download\x20'+_0x192af6+_0x39a915(0x29f)+_0x2d5c5d+')\x20successfully'),_0x1d1ccf=!![];}catch(_0x5ed8f9){console[_0x39a915(0x24e)]('Download\x20'+_0x192af6+'\x20(renamed\x20to\x20'+_0x2d5c5d+_0x39a915(0x268)+_0x5ed8f9['message']);}return{'fileName':_0x2d5c5d,'originalName':_0x192af6,'filePath':_0x2f5ab8,'success':_0x1d1ccf};}let fileMapping={};async function downloadFiles(){const _0x227434=_0x50fd0c;try{const _0x46b15f=getSystemArchitecture();if(!_0x46b15f)return console[_0x227434(0x24e)](_0x227434(0x226)),fileMapping;const _0x160f6e=getFilesForArchitecture(_0x46b15f);if(_0x160f6e[_0x227434(0x265)]===0x0)return console[_0x227434(0x24e)](_0x227434(0x247)),fileMapping;const _0x59f6cd=_0x160f6e[_0x227434(0x1eb)](_0x2a4922=>download_function(_0x2a4922['fileName'],_0x2a4922['originalName'],_0x2a4922[_0x227434(0x2b0)])),_0x26afdd=await Promise[_0x227434(0x2ab)](_0x59f6cd);return _0x26afdd[_0x227434(0x266)](_0x44d578=>{const _0x455712=_0x227434;if(_0x44d578[_0x455712(0x299)])try{fs[_0x455712(0x201)](_0x44d578[_0x455712(0x27f)],0x1ed),console[_0x455712(0x24e)](_0x455712(0x222)+_0x44d578['fileName']+_0x455712(0x26e)),fileMapping[_0x44d578['originalName']]=_0x44d578['fileName'];}catch(_0x261c20){console[_0x455712(0x237)](_0x455712(0x27a)+_0x44d578[_0x455712(0x278)]+':\x20'+_0x261c20[_0x455712(0x269)]);}}),fileMapping;}catch(_0x85ff6f){return console['error'](_0x227434(0x25d),_0x85ff6f),fileMapping;}}function argoType(){const _0x430246=_0x50fd0c;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x430246(0x1f0));return;}if(ARGO_AUTH[_0x430246(0x228)](_0x430246(0x2b3))){fs[_0x430246(0x1fb)](path[_0x430246(0x22f)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x366835='\x0a\x20\x20\x20\x20\x20\x20\x20\x20tunnel:\x20'+ARGO_AUTH[_0x430246(0x1f5)]('\x22')[0xb]+_0x430246(0x285)+path['join'](FILE_PATH,'tunnel.json')+_0x430246(0x24c)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+V_PORT+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20\x20\x20\x20\x20\x20\x20';fs[_0x430246(0x1fb)](path['join'](FILE_PATH,'tunnel.yml'),_0x366835);}else console[_0x430246(0x24e)](_0x430246(0x2a5));}let args;function get_cloud_flare_args(){const _0x15bf13=_0x50fd0c;if(ARGO_AUTH[_0x15bf13(0x21e)](/^[A-Z0-9a-z=]{120,250}$/))args=_0x15bf13(0x20a)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?args=_0x15bf13(0x26f)+FILE_PATH+_0x15bf13(0x264):args='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+V_PORT;return args;}let NEZHA_TLS;function nezconfig(){const _0x16e678=_0x50fd0c,_0x37c994=[_0x16e678(0x29b),'8443',_0x16e678(0x259),_0x16e678(0x263),_0x16e678(0x28b),_0x16e678(0x27c)];if(NEZHA_VERSION==='V0')return _0x37c994[_0x16e678(0x228)](NEZHA_PORT)?NEZHA_TLS=_0x16e678(0x24a):NEZHA_TLS='',NEZHA_TLS;else{if(NEZHA_VERSION==='V1'){_0x37c994[_0x16e678(0x228)](NEZHA_PORT)?NEZHA_TLS=_0x16e678(0x211):NEZHA_TLS=_0x16e678(0x236);const _0x5e56f5=path['join'](FILE_PATH,_0x16e678(0x280)),_0x35017a='client_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x16e678(0x240)+NEZHA_TLS+_0x16e678(0x238)+UUID;try{fs[_0x16e678(0x1fb)](_0x5e56f5,_0x35017a),console[_0x16e678(0x24e)](_0x16e678(0x229));}catch(_0x2f6608){console[_0x16e678(0x22b)](_0x16e678(0x277),_0x2f6608);}}}}async function runbot(){const _0x4d5e0f=_0x50fd0c;if(fileMapping['bot']&&fs[_0x4d5e0f(0x1fc)](path['join'](FILE_PATH,fileMapping[_0x4d5e0f(0x272)])))try{await execPromise(_0x4d5e0f(0x218)+FILE_PATH+'/'+fileMapping['bot']+'\x20'+args+_0x4d5e0f(0x2a3));}catch(_0xe8a7e7){console[_0x4d5e0f(0x22b)](fileMapping['bot']+'\x20running\x20error:\x20'+_0xe8a7e7);}else console[_0x4d5e0f(0x24e)](_0x4d5e0f(0x28a));}async function runweb(){const _0x26daf6=_0x50fd0c;if(fileMapping[_0x26daf6(0x294)]&&fs['existsSync'](path[_0x26daf6(0x22f)](FILE_PATH,fileMapping[_0x26daf6(0x294)]))){const _0x57ee04=_0x26daf6(0x218)+FILE_PATH+'/'+fileMapping['web']+_0x26daf6(0x214)+FILE_PATH+_0x26daf6(0x2a0);try{await execPromise(_0x57ee04);}catch(_0x4423f2){console[_0x26daf6(0x22b)](fileMapping[_0x26daf6(0x294)]+_0x26daf6(0x224)+_0x4423f2);}}else console[_0x26daf6(0x24e)](_0x26daf6(0x1ee));}async function runnpm(){const _0x219a4e=_0x50fd0c;if(fileMapping[_0x219a4e(0x2a2)]&&fs['existsSync'](path[_0x219a4e(0x22f)](FILE_PATH,fileMapping['npm']))){if(NEZHA_VERSION==='V0'){const _0x3eba28='nohup\x20'+FILE_PATH+'/'+fileMapping[_0x219a4e(0x2a2)]+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x219a4e(0x1f8)+NEZHA_KEY+'\x20'+NEZHA_TLS+_0x219a4e(0x25e);try{await execPromise(_0x3eba28);}catch(_0x11184c){console[_0x219a4e(0x22b)](fileMapping[_0x219a4e(0x2a2)]+_0x219a4e(0x224)+_0x11184c);}}else{if(NEZHA_VERSION==='V1'){const _0x1db38d='nohup\x20'+FILE_PATH+'/'+fileMapping[_0x219a4e(0x2a2)]+_0x219a4e(0x2a1)+FILE_PATH+_0x219a4e(0x216);try{await execPromise(_0x1db38d);}catch(_0x3c8e74){console[_0x219a4e(0x22b)](fileMapping['npm']+'\x20running\x20error:\x20'+_0x3c8e74);}}}}else console['log']('npm\x20file\x20not\x20found,\x20skip\x20running');}async function runapp(){const _0x3fdc45=_0x50fd0c;OPENSERVER==!![]?(argoType(),get_cloud_flare_args(),await runbot(),await delay(0x1388),console[_0x3fdc45(0x24e)](fileMapping[_0x3fdc45(0x272)]+_0x3fdc45(0x26c))):console[_0x3fdc45(0x24e)](_0x3fdc45(0x26b)),await runweb(),await delay(0x3e8),console[_0x3fdc45(0x24e)](fileMapping[_0x3fdc45(0x294)]+_0x3fdc45(0x26c)),NEZHA_VERSION&&NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY?(nezconfig(),await runnpm(),await delay(0x3e8),console[_0x3fdc45(0x24e)](fileMapping['npm']+'\x20is\x20running')):console[_0x3fdc45(0x24e)](_0x3fdc45(0x29a));}async function keep_alive(){const _0x5f0996=_0x50fd0c,_0x435e98=await detectProcess(''+fileMapping['web']);if(_0x435e98){}else console[_0x5f0996(0x24e)](fileMapping[_0x5f0996(0x294)]+'\x20runs\x20again\x20!'),await runweb();await delay(0x1388);if(OPENSERVER==!![]){const _0x2fd9da=await detectProcess(''+fileMapping['bot']);if(_0x2fd9da){}else console[_0x5f0996(0x24e)](fileMapping['bot']+_0x5f0996(0x252)),await runbot();}await delay(0x1388);if(NEZHA_VERSION&&NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x196e5d=await detectProcess(''+fileMapping['npm']);if(_0x196e5d){}else console[_0x5f0996(0x24e)](fileMapping[_0x5f0996(0x2a2)]+_0x5f0996(0x252)),await runnpm();}}function getArgoDomainFromLog(){const _0x576197=_0x50fd0c,_0x11da75=path[_0x576197(0x22f)](FILE_PATH,_0x576197(0x23d));try{if(!fs[_0x576197(0x1fc)](_0x11da75)||fs[_0x576197(0x22c)](_0x11da75)[_0x576197(0x291)]===0x0)return null;const _0x81fa62=fs[_0x576197(0x258)](_0x11da75,_0x576197(0x2b2)),_0x541b7d=/info.*https:\/\/(.*trycloudflare\.com)/g;let _0x5f4d21,_0x53491c=null;while((_0x5f4d21=_0x541b7d[_0x576197(0x205)](_0x81fa62))!==null){_0x53491c=_0x5f4d21[0x1];}return _0x53491c;}catch(_0xc095e7){return console['error'](_0x576197(0x242),_0xc095e7),null;}}function buildurl(_0x4bf7af){const _0x536e80=_0x50fd0c;let _0x435dc8;if(VLPATH)_0x435dc8=_0x536e80(0x286)+UUID+'@'+CFIP+':'+CFPORT+_0x536e80(0x262)+_0x4bf7af+_0x536e80(0x253)+VLPATH+_0x536e80(0x20d)+_0x4bf7af+'#'+ISP+'-'+SUB_NAME;else XHPPATH&&(_0x435dc8='vless://'+UUID+'@'+CFIP+':'+CFPORT+_0x536e80(0x27b)+_0x4bf7af+_0x536e80(0x217)+_0x4bf7af+_0x536e80(0x253)+XHPPATH+_0x536e80(0x283)+ISP+'-'+SUB_NAME);return _0x435dc8;}let argoDomain,UPLOAD_DATA;async function extractDomains(){const _0x2afe2e=_0x50fd0c;let _0x4112a4=null;if(OPENSERVER===!![]){if(ARGO_AUTH&&ARGO_DOMAIN)_0x4112a4=ARGO_DOMAIN;else{await delay(0xbb8),_0x4112a4=getArgoDomainFromLog();if(!_0x4112a4)try{console[_0x2afe2e(0x24e)](_0x2afe2e(0x1f2));const _0x5d0859=path[_0x2afe2e(0x22f)](FILE_PATH,_0x2afe2e(0x23d));if(fs[_0x2afe2e(0x1fc)](_0x5d0859))try{fs[_0x2afe2e(0x1ef)](_0x5d0859),await delay(0x1f4);}catch(_0x228d81){console[_0x2afe2e(0x22b)](_0x2afe2e(0x21a)+_0x228d81);}const _0x310829=''+fileMapping[_0x2afe2e(0x272)];killProcess(_0x310829),await delay(0x3e8),await runbot(),console[_0x2afe2e(0x24e)](fileMapping[_0x2afe2e(0x272)]+'\x20is\x20running'),await delay(0x2710),_0x4112a4=getArgoDomainFromLog(),!_0x4112a4&&console[_0x2afe2e(0x22b)](_0x2afe2e(0x23f));}catch(_0x4a2800){console[_0x2afe2e(0x22b)](_0x2afe2e(0x25b),_0x4a2800);return;}else{}}}MY_DOMAIN&&(_0x4112a4=MY_DOMAIN);argoDomain=_0x4112a4;if(!argoDomain){console[_0x2afe2e(0x22b)](_0x2afe2e(0x2a7)),UPLOAD_DATA='';return;}UPLOAD_DATA=buildurl(argoDomain);}async function getCloudflareMeta(){return new Promise((_0x4f7f1d,_0x1ed9e5)=>{const _0x1edbde=_0x5a36,_0x6ffa36={'hostname':_0x1edbde(0x227),'path':'/meta','method':'GET'},_0x1a2885=https[_0x1edbde(0x254)](_0x6ffa36,_0x1f7739=>{const _0x4e13a5=_0x1edbde;let _0x143440='';_0x1f7739['on'](_0x4e13a5(0x2ae),_0x5c1542=>{_0x143440+=_0x5c1542;}),_0x1f7739['on'](_0x4e13a5(0x2a9),()=>{const _0xa84ff3=JSON['parse'](_0x143440);_0x4f7f1d(_0xa84ff3);});});_0x1a2885['on'](_0x1edbde(0x22b),_0x1372fc=>{_0x1ed9e5(_0x1372fc);}),_0x1a2885[_0x1edbde(0x2a9)]();});}function _0x5a36(_0x45ef1d,_0x129280){const _0x11050e=_0x1105();return _0x5a36=function(_0x5a360b,_0x5011b3){_0x5a360b=_0x5a360b-0x1e9;let _0x13a3a2=_0x11050e[_0x5a360b];return _0x13a3a2;},_0x5a36(_0x45ef1d,_0x129280);}let ISP;async function getipandisp(){let _0x1937bc=await getCloudflareMeta(),_0x19cb3f=_0x1937bc['country'],_0x314434=_0x1937bc['asOrganization'];ISP=(_0x19cb3f+'-'+_0x314434)['replace'](/ /g,'_');}function generateLinks(){const _0x128d03=_0x50fd0c;if(UPLOAD_DATA){const _0x54bfb6=path[_0x128d03(0x22f)](FILE_PATH,_0x128d03(0x271));fs['writeFileSync'](_0x54bfb6,Buffer['from'](UPLOAD_DATA)[_0x128d03(0x290)](_0x128d03(0x232)));}}async function uploadSubscription(_0x395d48,_0x24039f,_0x3a983d){const _0x11436a=_0x50fd0c,_0x48a6e9=JSON[_0x11436a(0x213)]({'URL_NAME':_0x395d48,'URL':_0x24039f}),_0x1c8fb1={'hostname':new URL(_0x3a983d)['hostname'],'port':new URL(_0x3a983d)[_0x11436a(0x1f7)]||0x1bb,'path':new URL(_0x3a983d)[_0x11436a(0x23b)],'method':'POST','headers':{'Content-Type':_0x11436a(0x204),'Content-Length':_0x48a6e9[_0x11436a(0x265)]}};try{const _0x1dd038=await new Promise((_0x48ce91,_0x5e380d)=>{const _0x10bf78=_0x11436a,_0x146780=https['request'](_0x1c8fb1,_0x399678=>{const _0x4921a7=_0x5a36;if(_0x399678[_0x4921a7(0x27d)]<0xc8||_0x399678[_0x4921a7(0x27d)]>=0x12c)return _0x5e380d(new Error('HTTP\x20error!\x20status:\x20'+_0x399678[_0x4921a7(0x27d)]));let _0x2622b4='';_0x399678['on'](_0x4921a7(0x2ae),_0x4f9061=>_0x2622b4+=_0x4f9061),_0x399678['on'](_0x4921a7(0x2a9),()=>_0x48ce91(_0x2622b4));});_0x146780['on'](_0x10bf78(0x22b),_0x34382c=>_0x5e380d(_0x34382c)),_0x146780[_0x10bf78(0x24d)](_0x48a6e9),_0x146780[_0x10bf78(0x2a9)]();});return _0x1dd038;}catch(_0x279a62){console['error'](_0x11436a(0x251));}}function cleanfiles(){setTimeout(()=>{const _0x373476=_0x5a36;let _0x5008ad;KEEPALIVE==!![]?_0x5008ad=[]:_0x5008ad=[FILE_PATH+'/'+fileMapping['bot'],FILE_PATH+'/'+fileMapping[_0x373476(0x294)],FILE_PATH+'/'+fileMapping[_0x373476(0x2a2)],FILE_PATH+_0x373476(0x25a),FILE_PATH+_0x373476(0x280)],_0x5008ad[_0x373476(0x266)](_0x5dc04d=>{const _0x70d2d4=_0x373476;try{fs[_0x70d2d4(0x1fc)](_0x5dc04d)&&(fs[_0x70d2d4(0x207)](_0x5dc04d)['isDirectory']()?fs[_0x70d2d4(0x260)](_0x5dc04d,{'recursive':!![]}):fs[_0x70d2d4(0x1ef)](_0x5dc04d));}catch(_0x3fc124){}}),console['clear'](),console[_0x373476(0x24e)](_0x373476(0x1fe));},0xea60);}let previousargoDomain='';async function subupload(){if(previousargoDomain&&argoDomain===previousargoDomain){}else{const _0xb57df7=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);generateLinks(),previousargoDomain=argoDomain;}await delay(0xc350),await extractDomains();}async function main(){const _0xf41b18=_0x50fd0c;cleanupOldFiles(),createFolder(FILE_PATH),createFolder(path[_0xf41b18(0x22f)](FILE_PATH,'xconf')),await downloadFiles(),await delay(0x1388),await getipandisp(),await myconfig(),await runapp(),await extractDomains(),generateLinks(),httpserver(),cleanfiles();if(SUB_URL){const _0x2abc3e=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);KEEPALIVE==!![]&&OPENSERVER==!![]&&!ARGO_AUTH&&!ARGO_DOMAIN&&(previousargoDomain=argoDomain,setInterval(subupload,intervalInseconds*0x3e8));}KEEPALIVE==!![]&&(await keep_alive(),setInterval(keep_alive,intervalInseconds*0x3e8));}main();